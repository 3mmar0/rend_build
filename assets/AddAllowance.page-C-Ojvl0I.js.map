{"version":3,"file":"AddAllowance.page-C-Ojvl0I.js","sources":["../../src/features/humanResources/forms/schemas/addAllowance/add-allowance-schema.tsx","../../src/features/humanResources/forms/addAllowance/AddAllowance.tsx","../../src/features/humanResources/components/popups/AddAllowance.tsx","../../src/features/humanResources/components/addAllowance/data-table-toolbar.tsx","../../src/features/humanResources/components/addAllowance/columns.tsx","../../src/features/humanResources/components/addAllowance/AddAllowanceList.tsx","../../src/features/humanResources/components/addAllowance/EmployeeInfo.tsx","../../src/features/humanResources/components/statistics/AddAllowanceStatistics.tsx","../../src/features/humanResources/pages/AddAllowance.page.tsx"],"sourcesContent":["import { z } from 'zod';\r\n\r\nexport const AddAllowanceSchema = z.object({\r\n    employee_id: z.string().min(1, 'Employee name field is required.'),\r\n    date: z.date({\r\n        required_error: 'Date is required',\r\n    }),\r\n    allowance_type: z.string().min(1, 'Allowance type is required'),\r\n    name: z.string().min(1, 'Name is required'),\r\n    status: z.string().min(1, 'Status is required'),\r\n    amount: z.string().min(1, 'Amount is required'),\r\n});\r\n\r\nexport type AddAllowanceFormValues = z.infer<typeof AddAllowanceSchema>;\r\n","import { Form } from '@/components/ui/form';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { apiGet, apiPost } from '@/lib/axios/axios-utils';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport { Employee } from '@/types/employee.types';\r\nimport { format } from 'date-fns';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport SearchableSelectInputForm from '@/components/forms/SearchableSelectInputForm';\r\nimport DayPickerInputForm from '@/components/forms/DayPickerInputForm';\r\nimport SelectInputForm from '@/components/forms/SelectInputForm';\r\nimport { toast } from 'sonner';\r\nimport TextInputForm from '@/components/forms/TextInputForm';\r\nimport { AddAllowanceFormValues, AddAllowanceSchema } from '../schemas/addAllowance/add-allowance-schema';\r\n\r\ninterface Props {\r\n    employee?: Employee | null;\r\n    setAddAllowance: (value: boolean) => void;\r\n}\r\n\r\nexport default function AddAllowanceForm({ employee, setAddAllowance }: Props) {\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [employees, setEmployees] = useState<{ name: string; value: string }[]>([]);\r\n    const [employeesError, setEmployeesError] = useState<string | null>(null);\r\n\r\n    const defaultValues = useMemo(\r\n        () => ({\r\n            employee_id: '',\r\n        }),\r\n        [employee],\r\n    );\r\n\r\n    const form = useForm<AddAllowanceFormValues>({\r\n        resolver: zodResolver(AddAllowanceSchema),\r\n        defaultValues,\r\n    });\r\n\r\n    const onSubmit = async (data: AddAllowanceFormValues) => {\r\n        setLoading(true);\r\n        setError(null); // Clear previous errors\r\n        const formatedData = {\r\n            ...data,\r\n            date: format(data.date, 'yyyy-MM-dd'),\r\n        };\r\n        try {\r\n            await apiPost({\r\n                endpoint: employee ? endpoints.allowance.update + employee.id : endpoints.allowance.create,\r\n                body: formatedData,\r\n                config: { headers: { 'Content-Type': 'multipart/form-data' } },\r\n            });\r\n\r\n            toast('تم اضافة البدل بنجاح');\r\n            setAddAllowance(false);\r\n        } catch (error: any) {\r\n            if (error.response?.data?.errors) {\r\n                // Handle field-specific errors\r\n                Object.entries(error.response.data.errors).forEach(([field, messages]) => {\r\n                    form.setError(field as any, {\r\n                        type: 'manual',\r\n                        message: (messages as string[]).join(', '),\r\n                    });\r\n                });\r\n            } else {\r\n                // Handle generic error\r\n                let errorMessage = 'حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.';\r\n                if (error.response) {\r\n                    errorMessage = error.response.data.msg || errorMessage;\r\n                } else if (error.request) {\r\n                    errorMessage = 'تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.';\r\n                }\r\n                setError(errorMessage);\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchEmployees = async () => {\r\n            try {\r\n                const response = await apiGet({ endpoint: endpoints.employee.list });\r\n\r\n                const options = response.data.data.data.map((employee: Employee) => {\r\n                    return { name: employee.name, value: String(employee.id) };\r\n                });\r\n                setEmployees(options);\r\n                setEmployeesError(null);\r\n            } catch (error) {\r\n                setEmployeesError('Error fetching employees. Please try again later.');\r\n            }\r\n        };\r\n\r\n        fetchEmployees();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Form {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6\">\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"\">{error}</span>\r\n                                <button onClick={() => setError(null)} className=\"text-red-700 hover:text-red-900\">\r\n                                    ×\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"grid grid-cols-2 gap-x-6\">\r\n                        <TextInputForm name=\"name\" label=\"اسم البدل\" placeholder=\"نوع البدل - تامينات - ساعات اضافية\" />\r\n                        <SelectInputForm\r\n                            name=\"allowance_type\"\r\n                            options={[\r\n                                { name: 'بدل', value: 'allowances' },\r\n                                { name: 'خصومات', value: 'deductions' },\r\n                            ]}\r\n                            label=\"نوع البدل\"\r\n                            placeholder=\"ادخل نوع البدل\"\r\n                        />\r\n                        <TextInputForm name=\"amount\" type=\"number\" label=\"المبلغ\" placeholder=\"300\" />\r\n                        <DayPickerInputForm name=\"date\" label=\"التاريخ\" placeholder=\"2025/04/30\" />\r\n                        <TextInputForm name=\"status\" label=\"الحالة\" placeholder=\"ادخل الحالة\" />\r\n                        <SearchableSelectInputForm\r\n                            name=\"employee_id\"\r\n                            placeholder=\"بحث عن اسم أو كود العميل\"\r\n                            label=\"اسم العميل\"\r\n                            options={employees}\r\n                            error={employeesError}\r\n                            data={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex flex-row gap-4 mt-12\">\r\n                        <SecondaryButton\r\n                            onClick={() => setAddAllowance(false)}\r\n                            type=\"button\"\r\n                            className=\"w-full text-base leading-5 tracking-normal py-[10px] font-medium\"\r\n                        >\r\n                            إلغاء\r\n                        </SecondaryButton>\r\n                        <PrimaryButton\r\n                            type=\"submit\"\r\n                            className=\"w-full text-base leading-5 tracking-normal font-medium py-[10px]\"\r\n                        >\r\n                            {loading ? 'جاري الحفظ...' : 'حفظ'}\r\n                        </PrimaryButton>\r\n                    </div>\r\n                </form>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n","import UserEditIcon from '@/components/icons/user/UserEditIcon';\r\nimport { Dialog, DialogContent, DialogHeader } from '@/components/ui/dialog';\r\nimport { cn } from '@/lib/utils';\r\nimport AddAllowanceForm from '../../forms/addAllowance/AddAllowance';\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    setAddAllowance: (value: boolean) => void;\r\n}\r\n\r\nexport default function AddAllowance({ open, setAddAllowance }: Props) {\r\n    return (\r\n        <Dialog open={open}>\r\n            <div\r\n                className={cn('fixed inset-0 bg-black/50', {\r\n                    '!hidden': !open,\r\n                })}\r\n            />\r\n            <DialogContent\r\n                showCloseButton={false}\r\n                className=\"max-w-[623px] rounded-lg p-8 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0\"\r\n            >\r\n                <DialogHeader className=\"flex flex-col items-center\">\r\n                    <div className=\"flex flex-row justify-between mb-4 w-full\">\r\n                        <div className=\"flex flex-row gap-2\">\r\n                            <UserEditIcon />\r\n                            <h3 className=\"text-[22px] font-bold text-primery-blue-500\">اضافة بدل</h3>\r\n                        </div>\r\n                        {/* <SubtleButton className=\"bg-primery-blue-50 text-base font-medium leading-[125%] text-primery-blue-500 border border-primery-blue-50\">\r\n                            <DocumentUpload />\r\n                            لرفع مستند\r\n                        </SubtleButton> */}\r\n                    </div>\r\n                    <div className=\"w-full border-b border-[#D1D1D1] !mt-0\"></div>\r\n                </DialogHeader>\r\n                <AddAllowanceForm setAddAllowance={setAddAllowance} />\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n","import { Table } from '@tanstack/react-table';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\nimport { Filters } from '@/types/table.types';\r\nimport { Employee } from '@/types/employee.types';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport AddIcon from '@/components/icons/AddIcon';\r\nimport { useState } from 'react';\r\nimport AddAllowance from '../popups/AddAllowance';\r\n\r\ninterface DataTableToolbarProps {\r\n    table: Table<Employee>;\r\n    globalFilter: string;\r\n    setGlobalFilter: (value: string) => void;\r\n    filters: Filters;\r\n    setFilters: (value: Filters) => void;\r\n}\r\n\r\nexport function DataTableToolbar({ globalFilter, setGlobalFilter, filters, setFilters }: DataTableToolbarProps) {\r\n    const [addAllowance, setAddAllowance] = useState(false);\r\n    return (\r\n        <>\r\n            <div className=\"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between\">\r\n                <UnderlineHeading text=\"اضافة بدل\" />\r\n                <div className=\"flex flex-row items-center gap-4\">\r\n                    <div>\r\n                        <PrimaryButton\r\n                            onClick={() => setAddAllowance(true)}\r\n                            className=\"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal\"\r\n                        >\r\n                            <AddIcon />\r\n                            <p className=\"text-xs tracking-normal font-normal leading-[22.49px]\">اضافة بدل</p>\r\n                        </PrimaryButton>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* <DataTableViewOptions table={table} /> */}\r\n            <AddAllowance open={addAllowance} setAddAllowance={setAddAllowance} />\r\n        </>\r\n    );\r\n}\r\n","import { ColumnDef, Row } from '@tanstack/react-table';\r\nimport { Employee } from '@/types/employee.types';\r\nimport { Link } from 'react-router-dom';\r\nimport TrashIcon from '@/components/icons/TrashIcon';\r\n\r\n// Create a separate component for the actions cell\r\nconst ActionsCell = ({ row }: { row: Row<Employee> }) => {\r\n    return (\r\n        <div className=\"cursor-pointer flex justify-center\">\r\n            <Link to=\"/human-resources/salaries-details/add-allowance\">\r\n                <TrashIcon className=\"text-[#E81E1E]\" />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const columns: ColumnDef<Employee>[] = [\r\n    {\r\n        accessorKey: 'id',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm text-nowrap px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    اسم البند\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => (\r\n            <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                {row.original.employee_number}\r\n            </div>\r\n        ),\r\n    },\r\n    {\r\n        accessorKey: 'name',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm text-nowrap px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    وصف\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => (\r\n            <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                {row.original.employee_number}\r\n            </div>\r\n        ),\r\n    },\r\n    {\r\n        accessorKey: 'status',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    المبلغ\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => {\r\n            return (\r\n                <div className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]\">\r\n                    {row.original.main_salary}\r\n                </div>\r\n            );\r\n        },\r\n    },\r\n    {\r\n        accessorKey: 'date',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm text-nowrap px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    التاريخ\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => {\r\n            return (\r\n                <div className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]\">\r\n                    {/* {row.original.sms_count + row.original.email_count} */}\r\n                    22/10/2023\r\n                </div>\r\n            );\r\n        },\r\n    },\r\n    {\r\n        id: 'actions',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm text-nowrap text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    الاجراءات\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => <ActionsCell row={row} />,\r\n    },\r\n];\r\n","import { useCallback, useState } from 'react';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { DataTableToolbar } from './data-table-toolbar';\r\nimport { columns } from './columns';\r\nimport { FetchDataOptions } from '@/types/table.types';\r\nimport { DataTable } from '@/components/tables/customTable/data-table';\r\nimport { Message } from '@/types/message.types';\r\n\r\nexport default function AddAllowanceList() {\r\n    const [data, setData] = useState<Message[]>([]);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    // Use useCallback to ensure the function reference is stable\r\n    const fetchData = useCallback(async (options: FetchDataOptions) => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await apiGet({\r\n                endpoint: endpoints.employee.list,\r\n                queryParams: { page: options.pageIndex + 1, ...options.filters, search: options.globalFilter },\r\n            });\r\n\r\n            setData(response.data.data.data);\r\n            setPageCount(Math.ceil(response.data.data.pagination.total / 10));\r\n            setTotalCount(response.data.data.pagination.total);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"mt-6 mb-20 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]\">\r\n            <DataTable\r\n                columns={columns}\r\n                data={data}\r\n                pageCount={pageCount}\r\n                totalCount={totalCount}\r\n                onFetchData={fetchData}\r\n                DataTableToolbar={DataTableToolbar}\r\n                isLoading={isLoading}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import user from '@/assets/imgs/user.png';\r\n\r\nexport default function EmployeeInfo() {\r\n    return (\r\n        <div className=\"flex flex-row items-start w-full mt-6 \">\r\n            <div className=\"flex-2\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    اسم الموظف\r\n                </p>\r\n                <div className=\"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    <img src={user} alt=\"\" className=\"rounded-full w-10 h-10 object-cover\" />\r\n                    <div className=\"flex flex-col gap-1 text-nowrap\">\r\n                        <p className=\"tracking-normal text-primery-blue-900 font-medium text-sm\">mohamed rehan</p>\r\n                        <p className=\"tracking-normal text-white-blue-800 font-normal text-sm\">المنصب والقسم</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    كود الموظف\r\n                </p>\r\n                <p className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4\">اسم الموظف</p>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    قسم الموظف\r\n                </p>\r\n                <p className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4\">اسم الموظف</p>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    المسمى الوظيفي\r\n                </p>\r\n                <p className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4\">اسم الموظف</p>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    تاريخ التعين\r\n                </p>\r\n                <p className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4\">اسم الموظف</p>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n                <p className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100\">\r\n                    اجمالي الرواتب\r\n                </p>\r\n                <p className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4\">اسم الموظف</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import StatisticsCards from '@/components/cards/StatisticsCards';\r\nimport PeopleIcon from '@/components/icons/PeopleIcon';\r\nimport TwoUserIcon from '@/components/icons/TwoUsersIcon';\r\nimport UserMinusIcon from '@/components/icons/UserMinusIcon';\r\nimport UserRemoveIcon from '@/components/icons/UserRemoveIcon';\r\nimport { Card } from '@/types/statistics';\r\n\r\nexport default function AddAllowanceStatistics() {\r\n    // const [stats, setStats] = useState<CustomerCommunicationStats | null>(null);\r\n\r\n    // useEffect(() => {\r\n    //     const fetchStats = async () => {\r\n    //         try {\r\n    //             const res = await apiGet({ endpoint: endpoints.cutomerContact.dashboard });\r\n    //             setStats(res.data.data);\r\n    //         } catch (err) {\r\n    //             setStats(null);\r\n    //         }\r\n    //     };\r\n    //     fetchStats();\r\n    // }, []);\r\n\r\n    const cards: Card[] = [\r\n        { text: 'إجمالي الراتب', num: 3000, icon: <PeopleIcon />, label: 'ريال', percent: 12 },\r\n        { text: 'الحوافز و البدلات', num: 500, icon: <TwoUserIcon />, label: 'ريال', percent: 0 },\r\n        { text: 'الخصومات', num: 100, icon: <UserMinusIcon />, label: 'ريال', percent: -0.3 },\r\n        { text: 'صافي الراتب', num: 3400, icon: <UserRemoveIcon />, label: 'ريال', percent: -0.3 },\r\n    ];\r\n    return <StatisticsCards cards={cards} numJustifyStart={true} />;\r\n}\r\n","import AddAllowanceList from '../components/addAllowance/AddAllowanceList';\r\nimport EmployeeInfo from '../components/addAllowance/EmployeeInfo';\r\nimport AddAllowanceStatistics from '../components/statistics/AddAllowanceStatistics';\r\n\r\nexport default function AddAllowancePage() {\r\n    return (\r\n        <div className=\"w-full mt-6 mb-20\">\r\n            <AddAllowanceStatistics />\r\n            <EmployeeInfo />\r\n            <AddAllowanceList />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["AddAllowanceSchema","z","AddAllowanceForm","employee","setAddAllowance","error","setError","useState","loading","setLoading","employees","setEmployees","employeesError","setEmployeesError","defaultValues","useMemo","form","useForm","zodResolver","onSubmit","data","formatedData","format","apiPost","endpoints","toast","field","messages","errorMessage","useEffect","options","apiGet","jsx","Fragment","Form","jsxs","TextInputForm","SelectInputForm","DayPickerInputForm","SearchableSelectInputForm","SecondaryButton","PrimaryButton","AddAllowance","open","Dialog","cn","DialogContent","DialogHeader","UserEditIcon","DataTableToolbar","globalFilter","setGlobalFilter","filters","setFilters","addAllowance","UnderlineHeading","AddIcon","ActionsCell","row","Link","TrashIcon","columns","AddAllowanceList","setData","pageCount","setPageCount","totalCount","setTotalCount","isLoading","setIsLoading","fetchData","useCallback","response","DataTable","EmployeeInfo","user","AddAllowanceStatistics","cards","PeopleIcon","TwoUserIcon","UserMinusIcon","UserRemoveIcon","StatisticsCards","AddAllowancePage"],"mappings":"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"}