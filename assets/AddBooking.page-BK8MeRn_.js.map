{"version":3,"file":"AddBooking.page-BK8MeRn_.js","sources":["../../node_modules/date-fns/differenceInDays.mjs","../../src/features/booking/forms/addBooking/StepIndicator.tsx","../../src/features/booking/forms/addBooking/Step1BasicInfo.tsx","../../src/features/booking/components/carsList/CarCard.tsx","../../src/features/booking/components/carsList/CarsList.tsx","../../src/features/booking/forms/addBooking/Step2ProfileDetails.tsx","../../src/features/booking/forms/addBooking/Step3PaymentDetails .tsx","../../src/features/booking/forms/schemas/step-schemas.ts","../../src/features/booking/forms/addBooking/CarDetails.tsx","../../src/features/booking/forms/addBooking/Step4Confirmation.tsx","../../src/features/booking/forms/addBooking/Submission.tsx","../../src/utils/ExportToPdf.ts","../../src/features/booking/forms/addBooking/FileInput.tsx","../../src/features/booking/forms/addBooking/ContractUploadPopup.tsx","../../src/features/booking/forms/addBooking/AddBookingForm.tsx","../../src/features/booking/pages/AddBooking.page.tsx"],"sourcesContent":["import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","import { SubtleButton } from '@/components/buttons/SubtleButton';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\nimport { cn } from '@/lib/utils';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Props {\r\n    steps: { label: string; description: string }[];\r\n    current: number;\r\n}\r\nconst StepIndicator: React.FC<Props> = ({ steps, current }) => (\r\n    <>\r\n        <div className=\"flex flex-row justify-between mb-6\">\r\n            <UnderlineHeading text=\"حجز سيارة\" />\r\n            {current === 0 && (\r\n                <Link to=\"/booking\">\r\n                    <SubtleButton className=\"bg-white-blue-50 text-base font-medium leading-[125%] text-white-blue-900 border border-white-blue-500 shadow-[0px_1px_2px_0px_#1018280D]\">\r\n                        عودة لقائمة الحجوزات\r\n                    </SubtleButton>\r\n                </Link>\r\n            )}\r\n        </div>\r\n        <nav className=\"flex justify-center mt-6\">\r\n            <ol className=\"flex justify-between w-full space-x-6\">\r\n                {steps.map((e, i) => (\r\n                    <li key={e.label} className=\"flex flex-row items-center gap-4\">\r\n                        {i !== current && i < current ? (\r\n                            <div className=\"h-10 w-10 rounded-full bg-primery-blue-500 flex items-center justify-center\">\r\n                                <svg\r\n                                    width=\"14\"\r\n                                    height=\"10\"\r\n                                    viewBox=\"0 0 14 10\"\r\n                                    fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                >\r\n                                    <path\r\n                                        fillRule=\"evenodd\"\r\n                                        clipRule=\"evenodd\"\r\n                                        d=\"M13.7071 0.292893C14.0976 0.683417 14.0976 1.31658 13.7071 1.70711L5.70711 9.70711C5.31658 10.0976 4.68342 10.0976 4.29289 9.70711L0.292893 5.70711C-0.0976311 5.31658 -0.0976311 4.68342 0.292893 4.29289C0.683417 3.90237 1.31658 3.90237 1.70711 4.29289L5 7.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893Z\"\r\n                                        fill=\"white\"\r\n                                    />\r\n                                </svg>\r\n                            </div>\r\n                        ) : (\r\n                            <div\r\n                                className={cn(\r\n                                    'h-10 w-10 rounded-full flex transition-colors items-center justify-center border-2 text-white-blue-800 text-sm leading-4 font-medium',\r\n                                    {\r\n                                        'border-primery-blue-500 text-primery-blue-500': i === current,\r\n                                        'border-white-blue-300': i !== current,\r\n                                    },\r\n                                )}\r\n                            >\r\n                                0{i + 1}\r\n                            </div>\r\n                        )}\r\n                        <div className=\"flex flex-col items-start justify-center gap-2\">\r\n                            <p\r\n                                className={cn(\r\n                                    'font-medium font-cairo  text-xl leading-[150%] flex items-center tracking-normal',\r\n                                    {\r\n                                        'text-primery-blue-500': i === current,\r\n                                        'text-primery-blue-900': i < current,\r\n                                        'text-white-blue-800': i > current,\r\n                                    },\r\n                                )}\r\n                            >\r\n                                {e.label}\r\n                            </p>\r\n                            <p\r\n                                className={cn(\r\n                                    'text-sm leading-[120%] font-cairo font-medium flex items-center tracking-normal',\r\n                                    {\r\n                                        'text-primery-blue-900': i === current,\r\n                                        'text-white-blue-800': i < current || i > current,\r\n                                    },\r\n                                )}\r\n                            >\r\n                                {e.description}\r\n                            </p>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ol>\r\n        </nav>\r\n    </>\r\n);\r\n\r\nexport default StepIndicator;\r\n","import { SubtleButton } from '@/components/buttons/SubtleButton';\r\nimport SearchableSelectInputForm from '@/components/forms/SearchableSelectInputForm';\r\nimport MainHeading from '@/components/heading/MainHeading';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { Customer } from '@/types/customer.types';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Step1BasicInfo = () => {\r\n    const [customers, setCustomers] = useState<{ name: string; value: string; description: string }[]>([]);\r\n    const [customersError, setCustomersError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCustomers = async () => {\r\n            try {\r\n                const response = await apiGet({ endpoint: endpoints.customer.list });\r\n\r\n                const options = response.data.data.data.map((center: Customer) => {\r\n                    return { name: center.full_name, value: String(center.id), description: center.personal_id_number };\r\n                });\r\n                setCustomers(options);\r\n                setCustomersError(null);\r\n            } catch (error) {\r\n                setCustomersError('Error fetching customers. Please try again later.');\r\n            }\r\n        };\r\n\r\n        fetchCustomers();\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     if (customers.length > 0) {\r\n    //         setValue('customer_id', id ? String(id) : undefined);\r\n    //     }\r\n    // }, [customers]);\r\n\r\n    return (\r\n        <>\r\n            <MainHeading text=\"بيانات العميل\" className=\"mt-6\" />\r\n            <div className=\"mb-6 flex flex-row items-center justify-between gap-4\">\r\n                <SearchableSelectInputForm\r\n                    className=\"w-full\"\r\n                    name=\"customer_id\"\r\n                    placeholder=\"بحث عن اسم أو كود العميل\"\r\n                    label=\"اسم العميل\"\r\n                    options={customers}\r\n                    error={customersError}\r\n                    data={true}\r\n                />\r\n                <div className=\"mt-auto\">\r\n                    <Link to=\"/customer-relations/add-customer\">\r\n                        <SubtleButton className=\"bg-primery-blue-50 text-primery-blue-500 text-base font-cairo font-semibold\">\r\n                            <svg\r\n                                width=\"20\"\r\n                                height=\"20\"\r\n                                viewBox=\"0 0 20 20\"\r\n                                fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                            >\r\n                                <path\r\n                                    d=\"M9.9987 10.0001C12.2999 10.0001 14.1654 8.1346 14.1654 5.83341C14.1654 3.53223 12.2999 1.66675 9.9987 1.66675C7.69751 1.66675 5.83203 3.53223 5.83203 5.83341C5.83203 8.1346 7.69751 10.0001 9.9987 10.0001Z\"\r\n                                    stroke=\"#145DA0\"\r\n                                    strokeWidth=\"1.5\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                />\r\n                                <path\r\n                                    d=\"M2.83984 18.3333C2.83984 15.1083 6.04817 12.5 9.99817 12.5C10.7982 12.5 11.5732 12.6083 12.2982 12.8083\"\r\n                                    stroke=\"#145DA0\"\r\n                                    strokeWidth=\"1.5\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                />\r\n                                <path\r\n                                    d=\"M18.3346 15.0001C18.3346 15.2667 18.3013 15.5251 18.2346 15.7751C18.1596 16.1084 18.0263 16.4334 17.8513 16.7167C17.2763 17.6834 16.218 18.3334 15.0013 18.3334C14.143 18.3334 13.368 18.0084 12.7846 17.4751C12.5346 17.2584 12.318 17.0001 12.1513 16.7167C11.843 16.2167 11.668 15.6251 11.668 15.0001C11.668 14.1001 12.0263 13.2751 12.6096 12.6751C13.218 12.0501 14.068 11.6667 15.0013 11.6667C15.9846 11.6667 16.8763 12.0918 17.4763 12.7751C18.0096 13.3668 18.3346 14.1501 18.3346 15.0001Z\"\r\n                                    stroke=\"#145DA0\"\r\n                                    strokeWidth=\"1.5\"\r\n                                    strokeMiterlimit=\"10\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                />\r\n                                <path\r\n                                    d=\"M16.2411 14.9832H13.7578\"\r\n                                    stroke=\"#145DA0\"\r\n                                    strokeWidth=\"1.5\"\r\n                                    strokeMiterlimit=\"10\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                />\r\n                                <path\r\n                                    d=\"M15 13.7666V16.2583\"\r\n                                    stroke=\"#145DA0\"\r\n                                    strokeWidth=\"1.5\"\r\n                                    strokeMiterlimit=\"10\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                />\r\n                            </svg>\r\n                            أضافة عميل جديد\r\n                        </SubtleButton>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Step1BasicInfo;\r\n","import AutomaticIcon from '@/components/icons/car/AutomaticIcon';\r\nimport LocationIcon from '@/components/icons/car/LocationIcon';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport { Car } from '@/types/cars.types';\r\nimport { cn } from '@/lib/utils';\r\nimport { useFormContext } from 'react-hook-form';\r\ninterface Props {\r\n    car: Car;\r\n}\r\n\r\nconst CarCard = ({ car }: Props) => {\r\n    const { setValue, watch } = useFormContext();\r\n    const values = watch();\r\n\r\n    const handleSelectedCar = () => {\r\n        setValue('vehicle_id', String(car.id));\r\n    };\r\n    return (\r\n        <div\r\n            className={cn('group flex flex-col gap-2 shadow-[0px_2px_12px_0px_#14142B14] rounded-lg p-2', {\r\n                'border border-green-success-100': values?.vehicle_id == car.id,\r\n                'hover:border hover:border-red-error-100': values?.vehicle_id == car.id,\r\n            })}\r\n        >\r\n            <div className=\"flex flex-row justify-between\">\r\n                <div className=\"inline-block\">\r\n                    <img className=\"h-4 w-4 inline-block me-1\" src={car?.brand?.logo} alt=\"\" />\r\n                    <p className=\"inline-block text-white-blue-900 font-cairo font-medium text-[16px] leading-[20px] tracking-normal text-right\">\r\n                        {car.brand.name} {car.brand_model.name} {car.make_year}\r\n                    </p>\r\n                </div>\r\n                <span className=\"text-white-blue-50 rounded-sm p-1 bg-[#22AD5C] font-cairo font-medium text-[12px] leading-[13.8px] tracking-normal\">\r\n                    {car.status}\r\n                </span>\r\n            </div>\r\n            <div>\r\n                <img src={car.media.image} width={242} height={100} alt=\"\" />\r\n            </div>\r\n            <div className=\"py-1 flex flex-row justify-between\">\r\n                <div className=\"flex flex-row items-center gap-[6px]\">\r\n                    {car.transmission_type === 'auto' && <AutomaticIcon />}\r\n                    <p className=\"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center\">\r\n                        {car.transmission_type}\r\n                    </p>\r\n                </div>\r\n                <div className=\"flex flex-row items-center gap-1\">\r\n                    <LocationIcon />\r\n                    <p className=\"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center\">\r\n                        {/* {car.location} */}\r\n                        السعودية\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <PrimaryButton\r\n                type=\"button\"\r\n                onClick={handleSelectedCar}\r\n                className={cn(\r\n                    'rounded-lg w-full lg:py-2 xl:py-2 lg:px-[14] shadow-[0px_1px_2px_0px_#1018280D] font-medium lg:text-xs lg:leading-[13.8px] tracking-normal transition-all duration-300',\r\n                    {\r\n                        'bg-green-success-100 focus:ring-green-success-100 text-green-success-600 group-hover:bg-red-error-100 focus:group-hover:ring-red-error-100 group-hover:text-[#A21515]':\r\n                            values?.vehicle_id == car.id,\r\n                    },\r\n                )}\r\n            >\r\n                {values?.vehicle_id == car.id ? <span className=\"group-hover:hidden\">تم الاختيار</span> : 'اختيار'}\r\n                {values?.vehicle_id == car.id && <span className=\"hidden group-hover:inline\">الغاء الاختيار</span>}\r\n            </PrimaryButton>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarCard;\r\n","import SearchIcon from '@/components/icons/Search';\r\nimport { Input } from '@/components/ui/input';\r\nimport CarListComponent from '../../../../components/carsList/CarListComponent';\r\nimport { useEffect, useState } from 'react';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport CarListFilters from '@/features/car/components/carsList/CarListFilters';\r\n\r\nimport { LoadingSpinner } from '@/components/Loading/LoadingSpinner';\r\nimport CarCard from './CarCard';\r\n\r\ninterface Props {\r\n    CarListPagination: any;\r\n}\r\n\r\nconst CarsList = ({ CarListPagination }: Props) => {\r\n    const [cars, setCars] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalItems, setTotalItems] = useState(0);\r\n    const [filters, setFilters] = useState({});\r\n    const [search, setSearch] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await apiGet({\r\n                    endpoint: endpoints.cars.pagination,\r\n                    queryParams: { page: currentPage, ...filters, search },\r\n                });\r\n\r\n                setTotalItems(response.data.data.pagination.total);\r\n\r\n                setCars(response.data.data.data);\r\n            } catch (error) {\r\n                setError('Failed to load cars');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchCars();\r\n    }, [currentPage, filters, search]);\r\n\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl text-red-500\">{error}</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!cars) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl\">Car not found</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-10\">\r\n            <div className=\"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]\">\r\n                <Input\r\n                    placeholder=\"ابحث برقم السيارة أو الماركة أو الموديل ....\"\r\n                    className=\"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800\"\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n                <button className=\"bg-transparent border-none\">\r\n                    <SearchIcon className=\"text-white-blue-800\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n                <CarListFilters setFilters={setFilters} />\r\n                <div className=\"mt-6\">\r\n                    <CarListComponent cars={cars} CarCard={CarCard} />\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n                <CarListPagination currentPage={currentPage} setCurrentPage={setCurrentPage} totalItems={totalItems} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarsList;\r\n","import { useEffect } from 'react';\r\nimport CarListPagination from '@/components/carsList/CarListPagination';\r\nimport { DateInputForm } from '@/components/forms/DateInputForm';\r\nimport TextInputForm from '@/components/forms/TextInputForm';\r\nimport MainHeading from '@/components/heading/MainHeading';\r\nimport CarsList from '../../components/carsList/CarsList';\r\nimport { FormMessage } from '@/components/ui/form';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport { differenceInDays, addDays, isValid } from 'date-fns';\r\n\r\nconst Step2ProfileDetails = () => {\r\n    const {\r\n        watch,\r\n        setValue,\r\n        getValues,\r\n        formState: { errors },\r\n    } = useFormContext();\r\n\r\n    const [startDate, endDate, numDays] = watch(['start_date', 'end_date', 'num_days']);\r\n\r\n    useEffect(() => {\r\n        const validStart = isValid(startDate);\r\n        const validEnd = isValid(endDate);\r\n        const parsedNumDays = Number(numDays);\r\n\r\n        // If start_date and num_days are valid, calculate end_date\r\n        if (validStart && !isNaN(parsedNumDays) && parsedNumDays >= 0) {\r\n            const expectedEnd = addDays(new Date(startDate), parsedNumDays);\r\n            const currentEnd = getValues('end_date');\r\n\r\n            if (!currentEnd || new Date(currentEnd).getTime() !== expectedEnd.getTime()) {\r\n                setValue('end_date', expectedEnd);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // If start_date and end_date are valid, calculate num_days\r\n        if (validStart && validEnd) {\r\n            const expectedDays = differenceInDays(new Date(endDate), new Date(startDate));\r\n            const currentDays = Number(getValues('num_days'));\r\n\r\n            if (!isNaN(expectedDays) && expectedDays !== currentDays && expectedDays >= 0) {\r\n                setValue('num_days', expectedDays);\r\n            }\r\n        }\r\n    }, [startDate, endDate, numDays, setValue, getValues]);\r\n\r\n    return (\r\n        <>\r\n            <MainHeading text=\"تفاصيل الحجز\" className=\"mt-6\" />\r\n            <div className=\"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n                <DateInputForm\r\n                    name=\"start_date\"\r\n                    disabled={(date) => date < new Date(new Date().setHours(0, 0, 0, 0))}\r\n                    label=\"تاريخ بدء الحجز\"\r\n                    placeholder=\"ادخل تاريخ بدء الحجز\"\r\n                />\r\n                <TextInputForm type=\"number\" name=\"num_days\" label=\"مدة الحجز\" placeholder=\"ادخل مدة الحجز\" />\r\n                <DateInputForm name=\"end_date\" disabledDate label=\"تاريخ الإرجاع \" placeholder=\"ادخل تاريخ الإرجاع\" />\r\n                <TextInputForm\r\n                    type=\"number\"\r\n                    name=\"limited_km\"\r\n                    label=\"عدد الكيلومتر المسموح / اليوم\"\r\n                    placeholder=\"ادخل عدد الكيلومتر المسموح\"\r\n                />\r\n            </div>\r\n\r\n            <MainHeading text=\"تفاصيل السيارة\" className=\"mt-6\" />\r\n            <CarsList CarListPagination={CarListPagination} />\r\n            {errors.vehicle_id && (\r\n                <FormMessage className=\"text-destructive mt-[-1rem] mb-4\">\r\n                    {errors.vehicle_id.message?.toString()}\r\n                </FormMessage>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Step2ProfileDetails;\r\n","import { useEffect } from 'react';\r\nimport { useFormContext, useWatch } from 'react-hook-form';\r\n\r\nimport TextInputForm from '@/components/forms/TextInputForm';\r\nimport MainHeading from '@/components/heading/MainHeading';\r\nimport SelectInputForm from '@/components/forms/SelectInputForm';\r\nimport TextAreaInputForm from '@/components/forms/TextAreaInputForm';\r\n\r\nconst Step3PaymentDetails = () => {\r\n    const { setValue, control } = useFormContext();\r\n\r\n    // Watch form fields\r\n    const insurancePrice = useWatch({ name: 'insurance_price', control });\r\n    const price = useWatch({ name: 'price', control });\r\n    const tax = useWatch({ name: 'tax', control });\r\n    const discount = useWatch({ name: 'discount', control });\r\n\r\n    // Calculate total price when values change\r\n    useEffect(() => {\r\n        const inp = parseFloat(insurancePrice) || 0;\r\n        const p = parseFloat(price) || 0;\r\n        const t = parseFloat(tax) || 0;\r\n        const d = parseFloat(discount) || 0; // Assume discount is in decimal (e.g., 0.9 for 10% off)\r\n\r\n        const total = (inp + p) * (1 - d) * (1 + t);\r\n        setValue('total_price', total.toFixed(2)); // optional: format to 2 decimal places\r\n    }, [price, tax, discount, setValue]);\r\n\r\n    return (\r\n        <>\r\n            <MainHeading text=\"تفاصيل الدفع\" className=\"mt-6\" />\r\n            <div className=\"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <SelectInputForm\r\n                    name=\"insurance_type\"\r\n                    label=\"نوع التامن\"\r\n                    placeholder=\"اختر  نوع التامين\"\r\n                    options={[\r\n                        { name: 'شامل', value: 'comperhensive' },\r\n                        { name: 'ضد الغير', value: 'thirdParty' },\r\n                    ]}\r\n                />\r\n                <TextInputForm name=\"insurance_price\" label=\"تكلفة التأمين\" placeholder=\"450 ر.س\" />\r\n                <TextInputForm name=\"price\" label=\"تكلفة الحجز\" placeholder=\"8000 ر.س\" />\r\n                <TextInputForm name=\"tax\" label=\"الضريبة\" placeholder=\"250 ر.س\" />\r\n                <SelectInputForm\r\n                    name=\"payment_status\"\r\n                    label=\"طريقة الدفع\"\r\n                    placeholder=\"اختر طريقة الدفع\"\r\n                    options={[\r\n                        { name: 'option1', value: 'option1' },\r\n                        { name: 'option2', value: 'option2' },\r\n                        { name: 'option3', value: 'option3' },\r\n                        { name: 'option4', value: 'option4' },\r\n                    ]}\r\n                />\r\n                <TextInputForm type=\"number\" name=\"discount\" label=\"نسبة الخصم\" placeholder=\"ادخل نسبة الخصم\" />\r\n                <TextInputForm\r\n                    type=\"number\"\r\n                    name=\"total_price\"\r\n                    label=\"اجمالي المبلغ\"\r\n                    placeholder=\"4000 ر.س\"\r\n                    disabled={true}\r\n                />\r\n            </div>\r\n            <div>\r\n                <TextAreaInputForm\r\n                    name=\"notes\"\r\n                    className=\"flex flex-col min-h-[157px]\"\r\n                    label=\"ملاحظات\"\r\n                    placeholder=\"أدخل الملاحظات\"\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Step3PaymentDetails;\r\n","import { z } from 'zod';\r\n\r\nexport const stepSchemas = [\r\n    z.object({\r\n        customer_id: z.string().min(1, 'Customer field is required.'),\r\n    }),\r\n    z.object({\r\n        start_date: z.date(),\r\n        num_days: z.string(),\r\n        end_date: z.date(),\r\n        limited_km: z.string(),\r\n        vehicle_id: z.string({ required_error: 'Vehicle is required.' }).min(1, 'Vehicle is required.'),\r\n    }),\r\n    z.object({\r\n        insurance_type: z.string().min(1, 'This field is required.'),\r\n        insurance_price: z.string().min(1, 'This field is required.'),\r\n        price: z.string().min(1, 'This field is required.'),\r\n        tax: z.string().min(1, 'This field is required.'),\r\n        payment_status: z.string().min(1, 'This field is required.'),\r\n        discount: z.string().min(1, 'This field is required.'),\r\n        total_price: z.string().min(1, 'This field is required.'),\r\n        notes: z.string().min(1, 'This field is required.'),\r\n    }),\r\n];\r\n","import { Car } from '@/types/cars.types';\r\nimport LicensePlateIcon from '@/components/icons/car/CarNumberIcon';\r\n\r\ninterface Props {\r\n    car: Car;\r\n}\r\n\r\nconst CarDetails = ({ car }: Props) => {\r\n    return (\r\n        <div className=\"mb-8\">\r\n            <div className=\"flex flex-row items-center gap-6\">\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex flex-row items-center gap-2 justify-between p-2 rounded-lg border border-primery-blue-300\">\r\n                        <p className=\"font-bold text-[22px] text-white-blue-900 leading-[33px] tracking-normal text-start\">\r\n                            ح ن ط 7356\r\n                        </p>\r\n                        <LicensePlateIcon />\r\n                        <p className=\"font-bold text-[22px] text-white-blue-900 leading-[33px] tracking-normal text-start\">\r\n                            T N K 7356\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex h-full flex-col gap-1 shadow-[0px_2px_12px_0px_#14142B14] rounded-lg p-2\">\r\n                        <div className=\"flex flex-row justify-between\">\r\n                            <div className=\"inline-block\">\r\n                                <img className=\"h-4 w-4 inline-block me-1\" src={car?.brand?.logo} alt=\"\" />\r\n                                <p className=\"inline-block text-white-blue-900 font-cairo font-medium text-[16px] leading-[20px] tracking-normal text-right\">\r\n                                    {car.brand.name} {car.brand_model.name} {car.make_year}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <img src={car?.media?.image} className=\"h-[119px] w-full object-contain\" alt=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            الماركة والموديل\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">\r\n                            <img src={car.brand.logo} alt=\"\" />\r\n                            {car.brand.name} {car.brand_model.name}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            نوع ناقل الحركة\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">{car.transmission_type}</p>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            سعة المحرك\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">{car.brand_model.engine_size}</p>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            عداد المسافة الحالي\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">{car.mileage} كيلومتر</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            اللون\r\n                        </p>\r\n                        <div className=\"flex flex-row items-center gap-4 p-2 w-full\">\r\n                            <span\r\n                                className=\"w-[30px] h-[30px] rounded-full\"\r\n                                style={{ backgroundColor: car.color }}\r\n                            ></span>\r\n                            {car.color}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            نوع السيارة\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">{car.brand_model.type}</p>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            رقم الهيكل\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">{car.vin}</p>\r\n                    </div>\r\n                    <div className=\"flex flex-row items-center border-b border-b-white-blue-500\">\r\n                        <p className=\"bg-white-blue-100 px-4 py-4 text-sm text-primery-blue-500 font-semibold tracking-normal leading-6 w-full\">\r\n                            الحالة الحالية\r\n                        </p>\r\n                        <p className=\"flex flex-row items-center gap-4 p-2 w-full\">\r\n                            <span className=\"px-3 py-[6px] bg-[#F59E0B] rounded text-base text-white-blue-50 font-medium tracking-normal leading-5\">\r\n                                {car.status}\r\n                            </span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarDetails;\r\n","import { useFormContext } from 'react-hook-form';\r\nimport MainHeading from '@/components/heading/MainHeading';\r\nimport { useEffect, useState } from 'react';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { Customer } from '@/types/customer.types';\r\nimport { format } from 'date-fns';\r\nimport CarDetails from './CarDetails';\r\nimport { Car } from '@/types/cars.types';\r\n\r\nconst Step4Confirmation = () => {\r\n    const { getValues } = useFormContext();\r\n    const values = getValues();\r\n\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [customer, setCustomer] = useState<Customer | null>(null);\r\n\r\n    const [car, setCar] = useState<Car | null>(null);\r\n    const [loadingCar, setLoadingCar] = useState(true);\r\n    const [carError, setCarError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCustomer = async () => {\r\n            try {\r\n                const response = await apiGet({\r\n                    endpoint: endpoints.customer.show + values.customer_id,\r\n                });\r\n                setCustomer(response.data.data);\r\n            } catch (error) {\r\n                setError('Failed to load customer details');\r\n            }\r\n        };\r\n        fetchCustomer();\r\n    }, [values.customer_id]);\r\n\r\n    useEffect(() => {\r\n        const fetchCar = async () => {\r\n            try {\r\n                const response = await apiGet({\r\n                    endpoint: endpoints.cars.show + values.vehicle_id,\r\n                });\r\n                setCar(response.data.data);\r\n            } catch (error) {\r\n                setCarError('Failed to load car details');\r\n            } finally {\r\n                setLoadingCar(false);\r\n            }\r\n        };\r\n        fetchCar();\r\n    }, [values.vehicle_id]);\r\n\r\n    return (\r\n        <div className=\"mt-6\">\r\n            <MainHeading text=\"بيانات العميل\" className=\"mt-6\" />\r\n            <div className=\"mt-6\">\r\n                <div className=\"grid grid-cols-[repeat(auto-fit,minmax(352px,1fr))] gap-6 justify-center sm:justify-between gap-x-6 gap-y-4\">\r\n                    <div className=\"flex flex-row\">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            العميل / الجهة\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {customer?.full_name}\r\n                            {error && error}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            العنوان\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {customer?.address}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            رقم الهاتف\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {customer?.phone}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            البطاقة الشخصية\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {customer?.personal_id_number}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            رخصة القيادة\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {customer?.driver_license_number}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <MainHeading text=\"تفاصيل الحجز\" className=\"mt-6\" />\r\n            <div className=\"mt-6\">\r\n                <div className=\"grid grid-cols-4 gap-6 justify-center sm:justify-between gap-x-6 gap-y-4\">\r\n                    <div className=\"flex flex-row\">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            مدة الحجز\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values.num_days}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            تبدأ يوم\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.start_date && format(values?.start_date, 'yyyy-MM-dd')}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            تنتهي يوم\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.end_date && format(values?.end_date, 'yyyy-MM-dd')}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            المسافة\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.limited_km}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-6\">\r\n                <MainHeading text=\"تفاصيل السيارة\" className=\"mt-6\" />\r\n                {car && <CarDetails car={car} />}\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n                <MainHeading text=\"تفاصيل الدفع\" />\r\n                <div className=\"grid grid-cols-2 gap-6 justify-center sm:justify-between gap-x-6 gap-y-4\">\r\n                    <div className=\"flex flex-row\">\r\n                        <div className=\"flex items-center w-[164px] justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            طريقة الدفع\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values.payment_status}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center w-[164px] justify-start text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            رسوم الحجز\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.price}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start w-[164px] text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            الضريبة\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.tax}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start w-[164px] text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            تكلفة التأمين\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.insurance_price}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start w-[164px] text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            نوع التأمين\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.insurance_type}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start w-[164px] text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            الخصم\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.discount}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-row \">\r\n                        <div className=\"flex items-center justify-start w-[164px] text-sm font-medium font-cairo text-primery-blue-500 px-4 py-3 bg-white-blue-100\">\r\n                            إجمالي الفاتورة\r\n                        </div>\r\n                        <div className=\"flex items-center justify-start text-base font-medium font-cairo text-primery-blue-900 px-4 py-3\">\r\n                            {values?.total_price}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-6\">\r\n                <MainHeading text=\"بنود التعاقد\" />\r\n                <div>\r\n                    1. الأهلية لحجز السيارة يجب أن يكون عمر المستأجر 21 عامًا على الأقل (قد يختلف العمر المطلوب حسب فئة\r\n                    السيارة). يجب أن يكون لدى المستأجر رخصة قيادة سارية المفعول صالحة لمدة لا تقل عن سنة واحدة. قد يُطلب\r\n                    تقديم جواز السفر أو بطاقة الهوية الوطنية للتحقق من الهوية. في بعض الحالات، قد يتطلب الحجز بطاقة\r\n                    ائتمان باسم المستأجر لضمان الدفع والتأمين. 2. شروط الحجز والدفع يمكن الحجز عبر الموقع الإلكتروني،\r\n                    التطبيق، أو الفروع المباشرة. يجب دفع عربون تأميني عند الحجز، تحدده فئة السيارة ومدة الإيجار. تشمل\r\n                    خيارات الدفع: بطاقات الائتمان والخصم المباشر (Visa، Mastercard، Amex). المحافظ الرقمية (PayPal،\r\n                    Apple Pay، Google Pay). الدفع عند الاستلام (في بعض الفروع وحسب الشروط المحددة). قد يتم رفض الحجز في\r\n                    حال عدم توفر المستندات المطلوبة أو وجود سجل تأجيري غير مرضٍ. 3. استلام السيارة يجب على العميل الحضور\r\n                    في الموعد المحدد مع جميع المستندات المطلوبة (رخصة القيادة، بطاقة الهوية، بطاقة الدفع إن لزم الأمر).\r\n                    يتم فحص السيارة من قبل العميل والموظف قبل التسليم، ويتم توثيق أي خدوش أو أضرار سابقة. يجب استلام\r\n                    السيارة بمستوى وقود محدد كما هو مذكور في العقد، وإعادتها بنفس المستوى. في حالة التأخير عن موعد\r\n                    الاستلام لأكثر من ساعتين بدون إشعار مسبق، قد يتم إلغاء الحجز تلقائيًا. 4. إرجاع السيارة يجب إعادة\r\n                    السيارة في المكان والموعد المحددين في عقد الإيجار. يتم فحص السيارة من قبل الموظف عند الإرجاع، وفي\r\n                    حال وجود أي أضرار غير موثقة مسبقًا، قد يتم خصم تكلفة الإصلاح من التأمين. يتم فرض رسوم إضافية لكل\r\n                    ساعة تأخير بعد الموعد المحدد للإرجاع. يجب إعادة السيارة بنفس مستوى الوقود عند الاستلام، وإلا سيتم\r\n                    فرض رسوم تعبئة الوقود. 5. سياسة الإلغاء والتعديلات الإلغاء قبل 24 ساعة من موعد الحجز: استرداد كامل\r\n                    المبلغ المدفوع. الإلغاء خلال 12-24 ساعة من موعد الحجز: استرداد 50% من المبلغ المدفوع. الإلغاء قبل\r\n                    أقل من 12 ساعة من موعد الحجز: لا يتم استرداد أي مبلغ. يمكن تعديل موعد الحجز أو نوع السيارة حسب\r\n                    التوافر، وقد يتم تطبيق رسوم إضافية إذا كانت السيارة المطلوبة أعلى فئة. 6. الاستخدام المسموح به\r\n                    والمحظور الاستخدام المسموح به: القيادة داخل نطاق المناطق المحددة في العقد. الاستخدام الشخصي أو\r\n                    التجاري وفقًا للعقد. الالتزام بقوانين المرور المحلية. الاستخدام المحظور: القيادة خارج الحدود المحددة\r\n                    دون إذن مسبق. استخدام السيارة في السباقات أو الاختبارات أو أي أنشطة غير قانونية. نقل مواد غير\r\n                    قانونية أو خطرة. السماح لشخص غير مخول بقيادة السيارة. 7. التأمين والمسؤولية جميع السيارات مؤمنة\r\n                    بتغطية تأمين أساسي ضد الحوادث والأضرار. يمكن إضافة تغطية تأمينية شاملة مقابل رسوم إضافية لتقليل\r\n                    المسؤولية المالية في حالة وقوع حادث. في حالة وقوع حادث، يجب على المستأجر إبلاغ الشركة والسلطات\r\n                    المختصة فورًا واتخاذ الإجراءات اللازمة حسب العقد. 8. سياسة الصيانة والأعطال في حالة حدوث عطل\r\n                    ميكانيكي، توفر الشركة سيارة بديلة حسب التوافر. الأعطال الناتجة عن إهمال العميل (مثل نفاد الوقود أو\r\n                    فقدان المفاتيح) تخضع لرسوم إضافية. يمنع تمامًا إصلاح السيارة بدون إذن مسبق من الشركة. 9. حالات\r\n                    انتهاك العقد والعقوبات في حال انتهاك أي من الشروط، يحق للشركة: إلغاء الحجز فورًا. فرض رسوم إضافية أو\r\n                    غرامات وفقًا لنوع المخالفة. إحالة القضية للجهات المختصة في حالة المخالفات القانونية الجسيمة.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Step4Confirmation;\r\n","import { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport CancelPopup from '@/components/Popups/CancelPopup';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { MaintenanceCenter } from '@/types/maintenanceCenter';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Props {\r\n    maintenanceCenter?: MaintenanceCenter | null;\r\n    showSuccessPopup: boolean;\r\n    setShowSuccessPopup: (value: boolean) => void;\r\n    showCancelPopup: boolean;\r\n    setShowCancelPopup: (value: boolean) => void;\r\n    loading: boolean;\r\n    nextStep: (e: React.MouseEvent) => void;\r\n    prevStep: (e: React.MouseEvent) => void;\r\n    step: number;\r\n    steps: any;\r\n}\r\nexport default function Submission({\r\n    maintenanceCenter,\r\n    setShowCancelPopup,\r\n    showCancelPopup,\r\n    loading,\r\n    nextStep,\r\n    prevStep,\r\n    step,\r\n    steps,\r\n}: Props) {\r\n    const navigate = useNavigate();    \r\n    return (\r\n        <>\r\n            <div className=\"flex flex-row justify-between items-center mt-8\">\r\n                {maintenanceCenter ? (\r\n                    <SecondaryButton\r\n                        type=\"button\"\r\n                        className=\"xl:px-[64.5px] xl:py-[18px] border border-r-red-error-50 bg-red-error-50 text-[#A21515] xl:font-bold\"\r\n                        onClick={() => setShowCancelPopup(true)}\r\n                    >\r\n                        إلغاء الحجز\r\n                    </SecondaryButton>\r\n                ) : (\r\n                    <SecondaryButton\r\n                        type=\"button\"\r\n                        className=\"xl:px-[64.5px] xl:py-3 border border-r-red-error-50 bg-red-error-50 text-[#A21515] xl:font-bold\"\r\n                        onClick={() => setShowCancelPopup(true)}\r\n                    >\r\n                        الغاء\r\n                    </SecondaryButton>\r\n                )}\r\n                <div>\r\n                    {maintenanceCenter ? (\r\n                        <PrimaryButton className=\"xl:px-[91px] xl:py-3 xl:font-semibold ms-6\" disabled={loading}>\r\n                            {loading ? 'جاري التحميل...' : 'حفظ التغييرات'}\r\n                        </PrimaryButton>\r\n                    ) : (\r\n                        <div className=\"flex flex-row items-center justify-between\">\r\n                            <SecondaryButton\r\n                                type=\"button\"\r\n                                className={cn('', { hidden: step === 0 })}\r\n                                disabled={step === 0}\r\n                                onClick={prevStep}\r\n                            >\r\n                                <svg\r\n                                    width=\"25\"\r\n                                    height=\"24\"\r\n                                    viewBox=\"0 0 25 24\"\r\n                                    fill=\"none\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                >\r\n                                    <path\r\n                                        d=\"M12.5 22C18.0228 22 22.5 17.5228 22.5 12C22.5 6.47715 18.0228 2 12.5 2C6.97715 2 2.5 6.47715 2.5 12C2.5 17.5228 6.97715 22 12.5 22Z\"\r\n                                        stroke=\"#145DA0\"\r\n                                        strokeWidth=\"1.5\"\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                    />\r\n                                    <path\r\n                                        d=\"M9 12H15\"\r\n                                        stroke=\"#145DA0\"\r\n                                        strokeWidth=\"1.5\"\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                    />\r\n                                    <path\r\n                                        d=\"M13 15L16 12L13 9\"\r\n                                        stroke=\"#145DA0\"\r\n                                        strokeWidth=\"1.5\"\r\n                                        strokeLinecap=\"round\"\r\n                                        strokeLinejoin=\"round\"\r\n                                    />\r\n                                </svg>\r\n\r\n                                {step === 1 ? 'بيانات العميل' : step === 2 ? 'تفاصيل الحجز والسيارة' : 'تفاصيل الدفع'}\r\n                            </SecondaryButton>\r\n                            {step < steps.length - 1 ? (\r\n                                <PrimaryButton\r\n                                    className=\"xl:px-[91px] xl:py-3 xl:font-semibold ms-6\"\r\n                                    disabled={loading}\r\n                                    type=\"button\"\r\n                                    onClick={nextStep}\r\n                                >\r\n                                    {step === 0\r\n                                        ? 'تفاصيل الحجز'\r\n                                        : step === 1\r\n                                          ? 'تفاصيل الدفع'\r\n                                          : 'التعاقد وإصدار الفاتورة'}\r\n                                    <svg\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    >\r\n                                        <path\r\n                                            d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M15.5 12H9.5\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M11.5 9L8.5 12L11.5 15\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                    </svg>\r\n                                </PrimaryButton>\r\n                            ) : (\r\n                                <PrimaryButton\r\n                                    className=\"xl:px-[91px] xl:py-3 xl:font-semibold ms-6\"\r\n                                    disabled={loading}\r\n                                    type=\"submit\"\r\n                                >\r\n                                    <svg\r\n                                        width=\"25\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 25 24\"\r\n                                        fill=\"none\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    >\r\n                                        <path\r\n                                            d=\"M7.75 7H17.25V5C17.25 3 16.5 2 14.25 2H10.75C8.5 2 7.75 3 7.75 5V7Z\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeMiterlimit=\"10\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M16.5 15V19C16.5 21 15.5 22 13.5 22H11.5C9.5 22 8.5 21 8.5 19V15H16.5Z\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeMiterlimit=\"10\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M21.5 10V15C21.5 17 20.5 18 18.5 18H16.5V15H8.5V18H6.5C4.5 18 3.5 17 3.5 15V10C3.5 8 4.5 7 6.5 7H18.5C20.5 7 21.5 8 21.5 10Z\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeMiterlimit=\"10\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M17.5 15H16.29H7.5\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeMiterlimit=\"10\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M7.5 11H10.5\"\r\n                                            stroke=\"white\"\r\n                                            strokeWidth=\"1.5\"\r\n                                            strokeMiterlimit=\"10\"\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                        />\r\n                                    </svg>\r\n                                    حفظ وطباعة العقد والفاتورة\r\n                                </PrimaryButton>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <CancelPopup\r\n                open={showCancelPopup}\r\n                onClickButton1={() => {\r\n                    setShowCancelPopup(false);\r\n                }}\r\n                onClickButton2={() => {\r\n                    navigate('/cars/booking');\r\n                    setShowCancelPopup(false);\r\n                }}\r\n                text1={maintenanceCenter ? 'إلغاء تعديل بيانات تسجيل الحجز' : 'إلغاء تسجيل الحجز'}\r\n                text2={\r\n                    maintenanceCenter\r\n                        ? 'أنت على وشك إلغاء عملية تعديل بيانات الحجز دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟'\r\n                        : 'أنت على وشك إلغاء عملية إضافة الحجز دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟'\r\n                }\r\n                textButton1=\"إكمال الحجز\"\r\n                textButton2=\"إلغاء الحجز\"\r\n            />\r\n        </>\r\n    );\r\n}\r\n","import jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\n\r\nexport const exportToPDF = (data: any) => {\r\n    const doc = new jsPDF();\r\n    doc.setFontSize(16);\r\n    doc.text('Contract Details', 105, 20, { align: 'center' });\r\n\r\n    // English labels for schema fields\r\n    const labels = {\r\n        customer_id: 'Customer ID',\r\n        start_date: 'Start Date',\r\n        end_date: 'End Date',\r\n        num_days: 'Number of Days',\r\n        limited_km: 'Limited Kilometers',\r\n        vehicle_id: 'Vehicle',\r\n        insurance_type: 'Insurance Type',\r\n        insurance_price: 'Insurance Price',\r\n        price: 'Price',\r\n        tax: 'Tax',\r\n        discount: 'Discount',\r\n        total_price: 'Total Price',\r\n        payment_status: 'Payment Status',\r\n        notes: 'Notes',\r\n    };\r\n\r\n    // Convert object to [label, value] pairs\r\n    const formattedData = Object.entries(labels).map(([key, label]) => [label, data[key] ?? 'N/A']);\r\n\r\n    autoTable(doc, {\r\n        startY: 30,\r\n        head: [['Field', 'Value']],\r\n        body: formattedData,\r\n        styles: { halign: 'left' },\r\n        headStyles: { fillColor: [41, 128, 185], textColor: 255 },\r\n        alternateRowStyles: { fillColor: [245, 245, 245] },\r\n        margin: { horizontal: 10 },\r\n    });\r\n\r\n    doc.save('contract-details.pdf');\r\n};\r\n","import { useFormContext } from 'react-hook-form';\r\nimport { FormField, FormItem, FormLabel, FormControl, FormMessage } from '@/components/ui/form';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { useEffect, useState } from 'react';\r\nimport removeDuplicates from '@/utils/removeDuplicated';\r\n\r\ninterface Props {\r\n    className?: string;\r\n    name: string;\r\n    label?: string;\r\n    multiple: boolean;\r\n    maxSize: number;\r\n    editImages?: string[] | string;\r\n}\r\n\r\nconst FileInput = ({ className, name, label, maxSize, multiple, editImages }: Props) => {\r\n    const { control, setValue, watch, getValues } = useFormContext();\r\n    const [imgPreviews, setImgPreviews] = useState<string[]>([]);\r\n\r\n    const removeImage = (index: number) => {\r\n        const currentFiles = getValues(name);\r\n        const newFiles = Array.isArray(currentFiles) ? currentFiles.filter((_, i) => i !== index) : [];\r\n\r\n        setValue(name, newFiles, { shouldValidate: true });\r\n\r\n        setImgPreviews((prev) => {\r\n            const newPreviews = prev.filter((_, i) => {\r\n                if (i === index) {\r\n                    URL.revokeObjectURL(prev[i]);\r\n                }\r\n                return i !== index;\r\n            });\r\n            return newPreviews;\r\n        });\r\n    };\r\n\r\n    const onDrop = (acceptedFiles: File[], name: string) => {\r\n        if (multiple && editImages) {\r\n            // Get current files from form value\r\n            const currentValue = getValues(name);\r\n            const existingFiles = Array.isArray(currentValue) ? currentValue : [];\r\n            // Merge existing files with new accepted files\r\n            const combinedFiles = [...existingFiles, ...acceptedFiles];\r\n            setValue(name, removeDuplicates(combinedFiles), { shouldValidate: true });\r\n            // Generate previews for new files and append\r\n            const newPreviews = acceptedFiles.map((file) => URL.createObjectURL(file));\r\n            setImgPreviews((prev) => [...prev, ...newPreviews]);\r\n        } else {\r\n            setValue(name, multiple ? acceptedFiles : acceptedFiles[0], { shouldValidate: true });\r\n            setImgPreviews(acceptedFiles.map((file) => URL.createObjectURL(file)));\r\n        }\r\n    };\r\n\r\n    // Watch the form values for images\r\n    const images = watch(name);\r\n\r\n    // Reset previews when form values are cleared\r\n    useEffect(() => {\r\n        if (!images || images.length === 0) {\r\n            setImgPreviews([]);\r\n        }\r\n    }, [images]);\r\n\r\n    // initailly add editImages to react hook form state when edit\r\n    useEffect(() => {\r\n        if (editImages) {\r\n            setValue(name, editImages, { shouldValidate: true });\r\n            setImgPreviews(Array.isArray(editImages) ? editImages : [editImages]);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <FormField\r\n            control={control}\r\n            name={name}\r\n            render={({ field }) => (\r\n                <FormItem className={className}>\r\n                    <FormLabel className=\"text-primery-blue-900 font-medium text-[18px] leading-[33.73px] tracking-normal text-start\">\r\n                        {label}\r\n                    </FormLabel>\r\n                    <FormControl>\r\n                        <ImgFileUploader\r\n                            onDrop={(files: File[]) => onDrop(files, name)}\r\n                            acceptedFiles={field.value}\r\n                            previews={imgPreviews}\r\n                            maxSize={maxSize}\r\n                            multiple={multiple}\r\n                            removeImage={removeImage}\r\n                        />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                </FormItem>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default FileInput;\r\n\r\nfunction ImgFileUploader({ onDrop, previews, maxSize, multiple, removeImage }: any) {\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: { 'application/pdf': [], 'image/*': [] },\r\n        multiple: multiple,\r\n        maxSize: maxSize,\r\n    });\r\n\r\n    return (\r\n        <div\r\n            {...getRootProps()}\r\n            className=\"border-2 border-dashed border-primery-blue-500 rounded-lg p-4 text-center cursor-pointer\"\r\n        >\r\n            <input {...getInputProps()} />\r\n            <div>\r\n                <div className=\"flex flex-row items-center justify-between text-base leading-5 tracking-normal font-medium\">\r\n                    <div className=\"flex flex-row items-center gap-2 mb-5\">\r\n                        <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path\r\n                                d=\"M10.7521 23.4006C10.366 25.0819 8.41456 26.783 6.31738 25.3982C6.31738 25.3982 7.67526 26.605 10.4333 26.605H22.4646C23.9666 26.605 25.2654 25.5577 25.5843 24.0894L27.0886 16.6907C27.5357 14.373 26.0064 13.2734 23.9703 13.2734H15.5231C14.0248 13.2734 12.7272 14.3158 12.4059 15.7791L10.7521 23.4006Z\"\r\n                                stroke=\"#145DA0\"\r\n                                strokeWidth=\"1.44\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                            />\r\n                            <path\r\n                                d=\"M10.4339 26.6056C6.46498 26.6056 4.12744 24.2731 4.12744 20.314V11.685C4.12744 7.73098 5.58202 5.39844 9.54101 5.39844H11.754C12.5485 5.39844 13.2958 5.77329 13.7715 6.40842L14.7815 7.75215C15.2597 8.38605 16.0081 8.75965 16.8026 8.76214H18.6707C22.0917 8.76214 23.6522 10.2628 24.017 13.2641\"\r\n                                stroke=\"#145DA0\"\r\n                                strokeWidth=\"1.44\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                            />\r\n                        </svg>\r\n\r\n                        <p className=\"font-medium text-sm text-[#2D2D3A]\">قم برفع ملف أو قم سحبه هنا</p>\r\n                    </div>\r\n                    <SecondaryButton type=\"button\" className=\"h-[30px]\">\r\n                        اختيار الملف\r\n                    </SecondaryButton>\r\n                </div>\r\n                <div className=\"flex flex-row justify-center gap-2 border-2 border-dashed border-primery-blue-500 rounded-lg p-8\">\r\n                    {previews?.map((preview: any, index: number) => (\r\n                        <div\r\n                            key={index}\r\n                            className=\"relative group flex flex-col items-center text-sm text-muted-foreground\"\r\n                        >\r\n                            <img\r\n                                src={preview}\r\n                                alt={`Preview ${index + 1}`}\r\n                                className=\"w-20 h-20 object-cover rounded-md\"\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    removeImage(index);\r\n                                }}\r\n                                className=\"absolute w-6 h-6 top-1 start-1 bg-red-error-600 text-white-blue-50 p-1 rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                            >\r\n                                ✕\r\n                            </button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div>\r\n                    <ul className=\"text-xs leading-[22.5px] font-medium tracking-normal text-start text-[#90868C] list-[square] marker:text-[8px] ps-5 mt-2\">\r\n                        <li>\r\n                            اقصى حجم <span className=\"font-bold ms-[2px]\">{maxSize / 1024 / 1024}MB</span>\r\n                        </li>\r\n                        <li>\r\n                            الملفات المسموح بها<span className=\"font-bold ms-[2px]\">jpeg , png , jpg, gif, svg</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { cn } from '@/lib/utils';\r\nimport { useState } from 'react';\r\nimport { Form } from '@/components/ui/form';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiPost } from '@/lib/axios/axios-utils';\r\nimport FileInput from './FileInput';\r\nimport SuccessIcon from '@/components/icons/SuccessIcon';\r\nimport { toast } from 'sonner';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    onAddAnother: () => void;\r\n    onReturnToList: () => void;\r\n    text1: string;\r\n    textButton1: string;\r\n    textButton2: string;\r\n    contractId?: string; // Optional prop for contract ID\r\n}\r\n\r\nconst ContractUploadPopup = ({\r\n    open,\r\n    onAddAnother,\r\n    onReturnToList,\r\n    text1,\r\n    textButton1,\r\n    textButton2,\r\n    contractId = '', // Default to empty string if not provided\r\n}: Props) => {\r\n    const [uploadContractLoading, setUploadContractLoading] = useState(false);\r\n    const [uploadContractError, setUploadContractError] = useState<string | null>('');\r\n    const navigate = useNavigate();\r\n\r\n    const ALLOWED_FILE_TYPES = [\r\n        'image/jpeg',\r\n        'image/png',\r\n        'image/jpg',\r\n        'image/gif',\r\n        'image/svg+xml',\r\n        'application/pdf', // ✅ added support for PDF\r\n    ];\r\n\r\n    const MAX_FILE_SIZE = 5 * 1024 * 1024; // example: 5MB\r\n    const form = useForm({\r\n        resolver: zodResolver(\r\n            z.object({\r\n                contract_file: z.instanceof(File, { message: 'File is required' }),\r\n            }),\r\n        ),\r\n        defaultValues: {\r\n            contract_file: undefined,\r\n        },\r\n    });\r\n\r\n    const onSubmit = async (data: any) => {\r\n        setUploadContractLoading(true);\r\n        setUploadContractError(null); // Clear previous errors\r\n        try {\r\n            await apiPost({\r\n                endpoint: endpoints.contract.uploadContract + contractId,\r\n                body: { ...data, status: 'approved' },\r\n                config: { headers: { 'Content-Type': 'multipart/form-data' } },\r\n            });\r\n            // setShowSuccessPopup(true);\r\n            toast.success('تم تسجيل بيانات العقد بنجاح', {\r\n                duration: 3000,\r\n                className: 'font-cairo',\r\n                icon: <SuccessIcon width=\"25\" height=\"25\" className=\"text-green-success-600\" />,\r\n            });\r\n\r\n            navigate('/cars/contract-archive');\r\n        } catch (error: any) {\r\n            if (error.response?.data?.errors) {\r\n                // Handle field-specific errors\r\n                Object.entries(error.response.data.errors).forEach(([field, messages]) => {\r\n                    form.setError(field as any, {\r\n                        type: 'manual',\r\n                        message: (messages as string[]).join(', '),\r\n                    });\r\n                });\r\n            } else {\r\n                // Handle generic error\r\n                let errorMessage = 'حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.';\r\n                if (error.response) {\r\n                    errorMessage = error.response.data.msg || errorMessage;\r\n                } else if (error.request) {\r\n                    errorMessage = 'تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.';\r\n                }\r\n                setUploadContractError(errorMessage);\r\n            }\r\n        } finally {\r\n            setUploadContractLoading(false);\r\n        }\r\n    };\r\n    return (\r\n        <Dialog open={open}>\r\n            <div\r\n                className={cn('fixed inset-0 bg-black/50 z-[999]', {\r\n                    '!hidden': !open,\r\n                })}\r\n            />\r\n            <DialogContent\r\n                showCloseButton={false}\r\n                className=\"z-[1000] max-w-lg rounded-lg p-6 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0\"\r\n            >\r\n                <DialogHeader className=\"flex flex-col items-center\">\r\n                    <svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M24 27.5C23.18 27.5 22.5 26.82 22.5 26V16C22.5 15.18 23.18 14.5 24 14.5C24.82 14.5 25.5 15.18 25.5 16V26C25.5 26.82 24.82 27.5 24 27.5Z\"\r\n                            fill=\"#145DA0\"\r\n                        />\r\n                        <path\r\n                            d=\"M29.78 6.9H18.22C17.42 6.9 16.78 6.26 16.78 5.46C16.78 4.66 17.42 4 18.22 4H29.78C30.58 4 31.22 4.64 31.22 5.44C31.22 6.24 30.58 6.9 29.78 6.9Z\"\r\n                            fill=\"#145DA0\"\r\n                        />\r\n                        <path\r\n                            opacity=\"0.4\"\r\n                            d=\"M30 39.9403V34.0603C30 31.5203 31.52 30.0003 34.06 30.0003H39.94C40.32 30.0003 40.66 30.0403 41 30.1203C41.22 29.0003 41.34 27.8403 41.34 26.6603C41.34 17.1003 33.56 9.32031 24 9.32031C14.44 9.32031 6.65997 17.1003 6.65997 26.6603C6.65997 36.2203 14.44 44.0003 24 44.0003C26.42 44.0003 28.72 43.5003 30.82 42.6003C30.3 41.9203 30 41.0403 30 39.9403Z\"\r\n                            fill=\"#145DA0\"\r\n                        />\r\n                        <path\r\n                            d=\"M39.94 30H34.08C31.52 30 30 31.52 30 34.06V39.92C30 42.46 31.52 43.98 34.06 43.98H39.92C42.46 43.98 43.98 42.46 43.98 39.92V34.06C44 31.52 42.48 30 39.94 30ZM35.84 40.12C35.84 40.76 35.32 41.28 34.68 41.28C34.04 41.28 33.52 40.76 33.52 40.12V33.9C33.52 33.26 34.04 32.74 34.68 32.74C35.32 32.74 35.84 33.26 35.84 33.9V40.12ZM40.5 40.12C40.5 40.76 39.98 41.28 39.34 41.28C38.7 41.28 38.18 40.76 38.18 40.12V33.9C38.18 33.26 38.7 32.74 39.34 32.74C39.98 32.74 40.5 33.26 40.5 33.9V40.12Z\"\r\n                            fill=\"#145DA0\"\r\n                        />\r\n                    </svg>\r\n\r\n                    <DialogTitle className=\"text-center text-green-success-600 font-bold text-[22px] leading-[33px] tracking-normal\">\r\n                        {text1}\r\n                    </DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <Form {...form}>\r\n                    <form onSubmit={form.handleSubmit(onSubmit)} className=\"mb-8\">\r\n                        <div className=\"mt-2 mb-6 text-center text-[#6B7280] font-medium text-[14px] leading-[28px] tracking-normal\">\r\n                            <FileInput\r\n                                name=\"contract_file\"\r\n                                label=\"رفع ملف\"\r\n                                multiple={false}\r\n                                maxSize={10 * 1024 * 1024}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-row gap-3\">\r\n                            <PrimaryButton\r\n                                // onClick={onReturnToList}\r\n                                type=\"submit\"\r\n                                className=\"w-full text-base leading-5 tracking-normal font-medium py-[10px]\"\r\n                            >\r\n                                {textButton1}\r\n                            </PrimaryButton>\r\n                            <SecondaryButton\r\n                                onClick={onAddAnother}\r\n                                className=\"w-full text-base leading-5 tracking-normal py-[10px] font-medium\"\r\n                            >\r\n                                {textButton2}\r\n                            </SecondaryButton>\r\n                        </div>\r\n                    </form>\r\n                </Form>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ContractUploadPopup;\r\n","import { Form } from '@/components/ui/form';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { apiPost } from '@/lib/axios/axios-utils';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport React, { useMemo, useState } from 'react';\r\nimport { MaintenanceCenter } from '@/types/maintenanceCenter';\r\nimport StepIndicator from './StepIndicator';\r\nimport Step1BasicInfo from './Step1BasicInfo';\r\nimport Step2ProfileDetails from './Step2ProfileDetails';\r\nimport { z } from 'zod';\r\nimport Step3PaymentDetails from './Step3PaymentDetails ';\r\nimport { stepSchemas } from '../schemas/step-schemas';\r\nimport Step4Confirmation from './Step4Confirmation';\r\nimport { format } from 'date-fns';\r\nimport Submission from './Submission';\r\nimport { exportToPDF } from '@/utils/ExportToPdf';\r\nimport ContractUploadPopup from './ContractUploadPopup';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface Props {\r\n    maintenanceCenter?: MaintenanceCenter | null;\r\n    carID?: string | null;\r\n}\r\n\r\nconst fullSchema = stepSchemas[0].merge(stepSchemas[1]).merge(stepSchemas[2]);\r\ntype FormData = z.infer<typeof fullSchema>;\r\n\r\nconst steps = [\r\n    { title: 'بيانات العميل', description: 'تفاصيل المستأجر', component: Step1BasicInfo },\r\n    { title: 'بيانات الحجز والسيارة', description: 'مدة الحجز واختيار السيارة', component: Step2ProfileDetails },\r\n    { title: 'تفاصيل الدفع', description: 'تفاصيل التكاليف وإصدار الفاتورة', component: Step3PaymentDetails },\r\n    { title: 'Confirmation', description: 'تاكد من البيانات', component: Step4Confirmation },\r\n];\r\n\r\nconst getStepFields = (step: number) => {\r\n    if (step === 0) return ['customer_id'];\r\n    if (step === 1) return ['num_days', 'end_date', 'limited_km', 'vehicle_id'];\r\n    if (step === 2)\r\n        return [\r\n            'insurance_type',\r\n            'insurance_price',\r\n            'price',\r\n            'tax',\r\n            'payment_status',\r\n            'discount',\r\n            'total_price',\r\n            'notes',\r\n        ];\r\n    return [];\r\n};\r\n\r\nexport default function AddBookingForm({ maintenanceCenter, carID }: Props) {\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [showSuccessPopup, setShowSuccessPopup] = useState(false);\r\n    const [showCancelPopup, setShowCancelPopup] = useState(false);\r\n    const [contractId, setContractId] = useState();\r\n    const navigate = useNavigate();\r\n\r\n    const [step, setStep] = React.useState(0);\r\n\r\n    const defaultValues = useMemo(() => ({ vehicle_id: carID || undefined }), [maintenanceCenter]);\r\n\r\n    const form = useForm<FormData>({\r\n        resolver: zodResolver(fullSchema),\r\n        defaultValues,\r\n    });\r\n\r\n    const { trigger } = form;\r\n\r\n    const nextStep = async (e: React.MouseEvent) => {\r\n        // validate only current step fields\r\n        e.preventDefault();\r\n        const currentFields = getStepFields(step);\r\n        const valid = await trigger(currentFields as any);\r\n        if (valid) setStep((s) => Math.min(steps.length - 1, s + 1));\r\n    };\r\n\r\n    const prevStep = (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        setStep((s) => Math.max(0, s - 1));\r\n    };\r\n\r\n    const onSubmit = async (data: any) => {\r\n        if (data.contract_file) {\r\n            console.log('asd');\r\n        } else {\r\n            setLoading(true);\r\n\r\n            setError(null); // Clear previous errors\r\n            const formatedData = {\r\n                ...data,\r\n                start_date: data?.start_date ? format(data.start_date, 'yyyy-MM-dd') : '',\r\n                end_date: data?.end_date ? format(data.end_date, 'yyyy-MM-dd') : '',\r\n            };\r\n\r\n            try {\r\n                const res = await apiPost({\r\n                    endpoint: maintenanceCenter\r\n                        ? endpoints.maintenanCenter.update + maintenanceCenter.id\r\n                        : endpoints.contract.create,\r\n                    body: formatedData,\r\n                    config: { headers: { 'Content-Type': 'multipart/form-data' } },\r\n                });\r\n                setContractId(res.data.data.id);\r\n\r\n                exportToPDF(data);\r\n                setShowSuccessPopup(true);\r\n            } catch (error: any) {\r\n                if (error.response?.data?.errors) {\r\n                    // Handle field-specific errors\r\n                    Object.entries(error.response.data.errors).forEach(([field, messages]) => {\r\n                        form.setError(field as any, {\r\n                            type: 'manual',\r\n                            message: (messages as string[]).join(', '),\r\n                        });\r\n                    });\r\n                } else {\r\n                    // Handle generic error\r\n                    let errorMessage = 'حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.';\r\n                    if (error.response) {\r\n                        errorMessage = error.response.data.msg || errorMessage;\r\n                    } else if (error.request) {\r\n                        errorMessage = 'تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.';\r\n                    }\r\n                    setError(errorMessage);\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleAddAnother = () => {\r\n        setShowSuccessPopup(false);\r\n    };\r\n\r\n    const StepComponent = steps[step].component;\r\n    return (\r\n        <>\r\n            <StepIndicator\r\n                steps={steps.map((e) => {\r\n                    return { label: e.title, description: e.description };\r\n                })}\r\n                current={step}\r\n            />\r\n            <Form {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"mb-8\">\r\n                    <StepComponent />\r\n\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span>{error}</span>\r\n                                <button onClick={() => setError(null)} className=\"text-red-700 hover:text-red-900\">\r\n                                    ×\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <Submission\r\n                        maintenanceCenter={maintenanceCenter}\r\n                        loading={loading}\r\n                        setShowCancelPopup={setShowCancelPopup}\r\n                        setShowSuccessPopup={setShowSuccessPopup}\r\n                        showCancelPopup={showCancelPopup}\r\n                        showSuccessPopup={showSuccessPopup}\r\n                        nextStep={nextStep}\r\n                        prevStep={prevStep}\r\n                        step={step}\r\n                        steps={steps}\r\n                    />\r\n                </form>\r\n            </Form>\r\n            <ContractUploadPopup\r\n                text1={maintenanceCenter ? 'تم تعديل بيانات الحجز بنحاح' : 'بانتظار رفع العقد بعد التوقيع'}\r\n                textButton1=\"استكمال\"\r\n                textButton2={maintenanceCenter ? 'تعديل بيانات اخرى' : 'إغلاق'}\r\n                open={showSuccessPopup}\r\n                onAddAnother={handleAddAnother}\r\n                onReturnToList={() => {\r\n                    navigate('/customer-relations/complaints');\r\n                    setShowSuccessPopup(false);\r\n                }}\r\n                contractId={contractId}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","import AddBookingForm from '../forms/addBooking/AddBookingForm';\r\n\r\nexport default function AddBookingPage() {\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const carID = searchParams.get('carID');\r\n\r\n    return (\r\n        <div className=\"mt-6 w-full\">\r\n            <AddBookingForm carID={carID} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["differenceInDays","dateLeft","dateRight","_dateLeft","toDate","_dateRight","sign","compareLocalAsc","difference","differenceInCalendarDays","isLastDayNotFull","result","diff","StepIndicator","steps","current","jsxs","Fragment","jsx","UnderlineHeading","Link","SubtleButton","e","i","cn","Step1BasicInfo","customers","setCustomers","useState","customersError","setCustomersError","useEffect","options","apiGet","endpoints","center","MainHeading","SearchableSelectInputForm","CarCard","car","setValue","watch","useFormContext","values","handleSelectedCar","_a","AutomaticIcon","LocationIcon","PrimaryButton","CarsList","CarListPagination","cars","setCars","currentPage","setCurrentPage","totalItems","setTotalItems","filters","setFilters","search","setSearch","loading","setLoading","error","setError","response","LoadingSpinner","Input","SearchIcon","CarListFilters","CarListComponent","Step2ProfileDetails","getValues","errors","startDate","endDate","numDays","validStart","isValid","validEnd","parsedNumDays","expectedEnd","addDays","currentEnd","expectedDays","currentDays","DateInputForm","date","TextInputForm","FormMessage","Step3PaymentDetails","control","insurancePrice","useWatch","price","tax","discount","inp","p","t","d","total","SelectInputForm","TextAreaInputForm","stepSchemas","z","CarDetails","LicensePlateIcon","_b","Step4Confirmation","customer","setCustomer","setCar","loadingCar","setLoadingCar","carError","setCarError","format","Submission","maintenanceCenter","setShowCancelPopup","showCancelPopup","nextStep","prevStep","step","navigate","useNavigate","SecondaryButton","CancelPopup","exportToPDF","data","doc","jsPDF","formattedData","key","label","autoTable","FileInput","className","name","maxSize","multiple","editImages","imgPreviews","setImgPreviews","removeImage","index","currentFiles","newFiles","_","prev","onDrop","acceptedFiles","currentValue","combinedFiles","removeDuplicates","newPreviews","file","images","FormField","field","FormItem","FormLabel","FormControl","ImgFileUploader","files","previews","getRootProps","getInputProps","useDropzone","preview","ContractUploadPopup","open","onAddAnother","onReturnToList","text1","textButton1","textButton2","contractId","uploadContractLoading","setUploadContractLoading","uploadContractError","setUploadContractError","form","useForm","zodResolver","onSubmit","apiPost","toast","SuccessIcon","messages","errorMessage","Dialog","DialogContent","DialogHeader","DialogTitle","Form","fullSchema","getStepFields","AddBookingForm","carID","showSuccessPopup","setShowSuccessPopup","setContractId","setStep","React","defaultValues","useMemo","trigger","currentFields","s","formatedData","res","handleAddAnother","StepComponent","AddBookingPage"],"mappings":"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","x_google_ignoreList":[0]}