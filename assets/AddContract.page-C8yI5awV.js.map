{"version":3,"file":"AddContract.page-C8yI5awV.js","sources":["../../src/features/humanResources/forms/addContract/Submission.tsx","../../src/features/humanResources/forms/addContract/ContractInfo.tsx","../../src/features/humanResources/forms/addContract/RadioDatePickerGroup.tsx","../../src/features/humanResources/forms/addContract/PeriodDetails.tsx","../../src/features/humanResources/forms/addContract/AllowanceDetails.tsx","../../src/features/humanResources/forms/addContract/SalaryDetails.tsx","../../src/features/humanResources/forms/addContract/FileInput.tsx","../../src/features/humanResources/forms/schemas/addContract/add-contract-schema.ts","../../src/features/humanResources/forms/addContract/AddContractForm.tsx","../../src/features/humanResources/pages/AddContract.page.tsx"],"sourcesContent":["import SuccessPopup from '@/components/Popups/SuccessPopup';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport CancelPopup from '@/components/Popups/CancelPopup';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Employee } from '@/types/employee.types';\r\n\r\ninterface Props {\r\n    employee?: Employee | null;\r\n    showSuccessPopup: boolean;\r\n    setShowSuccessPopup: (value: boolean) => void;\r\n    showCancelPopup: boolean;\r\n    setShowCancelPopup: (value: boolean) => void;\r\n    loading: boolean;\r\n}\r\nexport default function Submission({\r\n    employee,\r\n    setShowCancelPopup,\r\n    setShowSuccessPopup,\r\n    showCancelPopup,\r\n    showSuccessPopup,\r\n    loading,\r\n}: Props) {\r\n    const navigate = useNavigate();\r\n\r\n    const handleAddAnother = () => {\r\n        setShowSuccessPopup(false);\r\n    };\r\n    return (\r\n        <>\r\n            <div className=\"flex flex-row justify-end items-center mt-8\">\r\n                {employee ? (\r\n                    <SecondaryButton\r\n                        type=\"button\"\r\n                        className=\"xl:px-[87px] xl:py-3 text-[#A21515] border border-red-error-50 xl:font-semibold bg-red-error-50\"\r\n                        onClick={() => setShowCancelPopup(true)}\r\n                    >\r\n                        إلغاء الشكوى\r\n                    </SecondaryButton>\r\n                ) : (\r\n                    <SecondaryButton\r\n                        type=\"button\"\r\n                        className=\"xl:px-[87px] bg-red-error-50 text-[#A21515] hover:bg-red-error-600 hover:text-white-blue-50 xl:py-3 border bordr-[#E8EFF6] xl:font-semibold\"\r\n                        onClick={() => setShowCancelPopup(true)}\r\n                    >\r\n                        الغاء\r\n                    </SecondaryButton>\r\n                )}\r\n                <div>\r\n                    {employee ? (\r\n                        <PrimaryButton className=\"xl:px-[91px] xl:py-3 xl:font-semibold ms-6\" disabled={loading}>\r\n                            {loading ? 'جاري التحميل...' : 'حفظ التغييرات'}\r\n                        </PrimaryButton>\r\n                    ) : (\r\n                        <PrimaryButton className=\"xl:px-[91px] xl:py-3 xl:font-semibold ms-6\" disabled={loading}>\r\n                            {loading ? 'جاري التحميل...' : 'حفظ'}\r\n                        </PrimaryButton>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <CancelPopup\r\n                open={showCancelPopup}\r\n                onClickButton1={() => {\r\n                    setShowCancelPopup(false);\r\n                }}\r\n                onClickButton2={() => {\r\n                    navigate('/human-resources');\r\n                    setShowCancelPopup(false);\r\n                }}\r\n                text1={employee ? 'إلغاء تعديل بيانات الموظف' : 'إلغاء إضافة عقد'}\r\n                text2={\r\n                    employee\r\n                        ? 'أنت على وشك إلغاء عملية تعديل بيانات العقد دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟'\r\n                        : 'أنت على وشك إلغاء عملية إضافة عقد جديد دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟'\r\n                }\r\n                textButton1={employee ? 'إكمال التعديل' : 'إكمال الإضافة'}\r\n                textButton2={employee ? 'إلغاء التعديل' : 'إلغاء الإضافة'}\r\n            />\r\n            <SuccessPopup\r\n                text1={employee ? 'تم تعديل بيانات العقد بنحاح' : 'تم إضافة عقد جديد بنحاح'}\r\n                text2={employee ? 'تم تعديل بيانات العقد بنحاح' : 'تم تسجيل بيانات العقد الجديد بنجاح.'}\r\n                textButton1=\"العودة لقائمة العقود\"\r\n                textButton2={employee ? 'تعديل بيانات اخرى' : 'إضافة عقد أخر'}\r\n                open={showSuccessPopup}\r\n                onAddAnother={handleAddAnother}\r\n                onReturnToList={() => {\r\n                    navigate('/human-resources/contract-management');\r\n                    setShowSuccessPopup(false);\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","import SearchableSelectInputForm from '@/components/forms/SearchableSelectInputForm';\r\nimport SelectInputForm from '@/components/forms/SelectInputForm';\r\nimport TextAreaInputForm from '@/components/forms/TextAreaInputForm';\r\nimport TextInputForm from '@/components/forms/TextInputForm';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { Employee } from '@/types/employee.types';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function ContractInfo() {\r\n    const [employees, setEmployees] = useState<{ name: string; value: string }[]>([]);\r\n    const [employeesError, setEmployeesError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchEmployees = async () => {\r\n            try {\r\n                const response = await apiGet({ endpoint: endpoints.employee.list });\r\n\r\n                const options = response.data.data.data.map((employee: Employee) => {\r\n                    return { name: employee.name, value: String(employee.id) };\r\n                });\r\n                setEmployees(options);\r\n                setEmployeesError(null);\r\n            } catch (error) {\r\n                setEmployeesError('Error fetching employees. Please try again later.');\r\n            }\r\n        };\r\n\r\n        fetchEmployees();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <SearchableSelectInputForm\r\n                    name=\"employee_id\"\r\n                    placeholder=\"ادخل اسم الموظف\"\r\n                    label=\"اسم العميل\"\r\n                    options={employees}\r\n                    error={employeesError}\r\n                    data={true}\r\n                />\r\n                <TextInputForm name=\"employee_number\" label=\"كود\" placeholder=\"#899657\" />\r\n                <TextInputForm name=\"position\" label=\"رقم المسمى الوظيفي\" placeholder=\"ادخل المسمى الوظيفي\" />\r\n                <TextInputForm name=\"employee_degree\" label=\"المستوى الوظيفي\" placeholder=\"ادخل المستوى الوظيفي\" />\r\n                <SelectInputForm\r\n                    name=\"main_contract\"\r\n                    label=\"العقد الاساسي\"\r\n                    options={[\r\n                        { value: 'high_school', name: 'الثانوية العامة' },\r\n                        { value: 'bachelor', name: 'بكالوريوس' },\r\n                        { value: 'master', name: 'ماجستير' },\r\n                        { value: 'phd', name: 'دكتوراه' },\r\n                    ]}\r\n                    placeholder=\"اختر القسم\"\r\n                />\r\n                <SelectInputForm\r\n                    name=\"contract_type\"\r\n                    label=\"نوع العمل \"\r\n                    options={[\r\n                        { value: 'high_school', name: 'الثانوية العامة' },\r\n                        { value: 'bachelor', name: 'بكالوريوس' },\r\n                        { value: 'master', name: 'ماجستير' },\r\n                        { value: 'phd', name: 'دكتوراه' },\r\n                    ]}\r\n                    placeholder=\"اختر  القسم\"\r\n                />\r\n            </div>\r\n            <div className=\"w-full mt-6\">\r\n                <TextAreaInputForm\r\n                    className=\"flex flex-col min-h-[157px]\"\r\n                    name=\"description\"\r\n                    label=\"الوصف\"\r\n                    placeholder=\"ادخل المستوى الوظيفي\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { useFormContext } from 'react-hook-form';\r\nimport { FormField, FormItem, FormControl, FormMessage } from '@/components/ui/form';\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\r\nimport SelectInputForm from '@/components/forms/SelectInputForm';\r\nimport { DateInputForm } from '@/components/forms/DateInputForm';\r\n\r\ntype RadioDatePickerGroupProps = {\r\n    name: string; // radio group name\r\n    date1Name: string;\r\n    date2Name: string;\r\n    label1: string;\r\n    label2: string;\r\n};\r\n\r\nexport const RadioDatePickerGroup = ({ name, date1Name, date2Name, label1, label2 }: RadioDatePickerGroupProps) => {\r\n    const { control } = useFormContext();\r\n\r\n    const { watch } = useFormContext();\r\n\r\n    const selected = watch(name);\r\n\r\n    const currentYear = new Date().getFullYear();\r\n    const years = Array.from({ length: 10 }, (_, i) => currentYear - i).map((year) => ({\r\n        name: year.toString(),\r\n        value: year.toString(),\r\n    }));\r\n\r\n    return (\r\n        <FormField\r\n            control={control}\r\n            name={name}\r\n            render={({ field }) => (\r\n                <FormItem className=\"space-y-4\">\r\n                    {/* <FormLabel>Select an option</FormLabel> */}\r\n                    <FormControl>\r\n                        <RadioGroup\r\n                            onValueChange={field.onChange}\r\n                            value={field.value}\r\n                            // defaultValue=\"option1\"\r\n                            className=\"space-y-4 grid grid-cols-1 md:grid-cols-2 gap-6\"\r\n                        >\r\n                            {/* Option 1 */}\r\n                            <div className=\"space-y-2 border p-4 rounded-lg\">\r\n                                <div className=\"flex items-center gap-3 space-x-2\">\r\n                                    <RadioGroupItem value=\"annual\" id=\"option1\" />\r\n                                    <label htmlFor=\"option1\">{label1}</label>\r\n                                </div>\r\n                                <FormField\r\n                                    control={control}\r\n                                    name={date1Name}\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormControl>\r\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                                    <SelectInputForm\r\n                                                        className=\"\"\r\n                                                        name=\"end_month\"\r\n                                                        label=\"شهر\"\r\n                                                        disabled={selected !== 'annual'}\r\n                                                        options={[\r\n                                                            { value: 'january', name: 'يناير' },\r\n                                                            { value: 'february', name: 'فبراير' },\r\n                                                            { value: 'march', name: 'مارس' },\r\n                                                            { value: 'april', name: 'أبريل' },\r\n                                                            { value: 'may', name: 'مايو' },\r\n                                                            { value: 'june', name: 'يونيو' },\r\n                                                            { value: 'july', name: 'يوليو' },\r\n                                                            { value: 'august', name: 'أغسطس' },\r\n                                                            { value: 'september', name: 'سبتمبر' },\r\n                                                            { value: 'october', name: 'أكتوبر' },\r\n                                                            { value: 'november', name: 'نوفمبر' },\r\n                                                            { value: 'december', name: 'ديسمبر' },\r\n                                                        ]}\r\n                                                        placeholder=\"اختر الشهر\"\r\n                                                    />\r\n                                                    <SelectInputForm\r\n                                                        name=\"end_year\"\r\n                                                        label=\"سنة\"\r\n                                                        disabled={selected !== 'annual'}\r\n                                                        options={[...years]}\r\n                                                        placeholder=\"اختر الشهر\"\r\n                                                    />\r\n                                                </div>\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Option 2 */}\r\n                            <div className=\"space-y-2 border p-4 rounded-lg !mt-0\">\r\n                                <div className=\"flex items-center gap-3 space-x-2\">\r\n                                    <RadioGroupItem value=\"end_date\" id=\"option2\" />\r\n                                    <label htmlFor=\"option2\">{label2}</label>\r\n                                </div>\r\n                                <FormField\r\n                                    control={control}\r\n                                    name={date2Name}\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormControl>\r\n                                                <DateInputForm\r\n                                                    name=\"end_date\"\r\n                                                    label=\"تاريخ الانتهاء\"\r\n                                                    disabledDate={selected !== 'end_date'}\r\n                                                    placeholder=\"2025/05/20\"\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </div>\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                </FormItem>\r\n            )}\r\n        />\r\n    );\r\n};\r\n","import { DateInputForm } from '@/components/forms/DateInputForm';\r\nimport { RadioDatePickerGroup } from './RadioDatePickerGroup';\r\n\r\nexport default function PeriodDetails() {\r\n    return (\r\n        <div className=\"mb-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <DateInputForm name=\"start_date\" label=\"تاريخ البدء\" placeholder=\"2025/05/20\" />\r\n                <DateInputForm name=\"sign_date\" label=\"تاريخ التوقيع\" placeholder=\"2025/05/20\" />\r\n                <DateInputForm name=\"join_date\" label=\"تاريخ الالتحاق\" placeholder=\"2025/05/20\" />\r\n                <DateInputForm name=\"test_end_date\" label=\"تاريخ نهاية الاختبار\" placeholder=\"2025/05/20\" />\r\n            </div>\r\n            <div className=\"my-4\">\r\n                <p className=\"text-primery-blue-900 mb-2 font-medium text-[18px] leading-[33.73px] tracking-normal text-start\">\r\n                    نوع صلاحية العقد\r\n                </p>\r\n                <RadioDatePickerGroup\r\n                    name=\"contract_end_date_type\"\r\n                    date1Name=\"date1\"\r\n                    date2Name=\"date2\"\r\n                    label1=\"مدة سنوية\"\r\n                    label2=\"تاريخ الانتهاء\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import TextInputForm from '@/components/forms/TextInputForm';\r\n\r\nexport default function AllowanceDetails() {\r\n    return (\r\n        <div className=\"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <TextInputForm name=\"housing_allowance\" label=\"بدل السكن\" placeholder=\"4000 ر.س\" />\r\n            <TextInputForm name=\"transportation_allowance\" label=\"بدل المواصلات\" placeholder=\"80 ر.س\" />\r\n        </div>\r\n    );\r\n}\r\n","import SelectInputForm from '@/components/forms/SelectInputForm';\r\nimport TextInputForm from '@/components/forms/TextInputForm';\r\n\r\nexport default function SalaryDetails() {\r\n    return (\r\n        <div className=\"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <SelectInputForm\r\n                name=\"currency\"\r\n                label=\"العملة\"\r\n                options={[\r\n                    { value: 'high_school', name: 'الثانوية العامة' },\r\n                    { value: 'bachelor', name: 'بكالوريوس' },\r\n                    { value: 'master', name: 'ماجستير' },\r\n                    { value: 'phd', name: 'دكتوراه' },\r\n                ]}\r\n                placeholder=\"ريال سعودي\"\r\n            />\r\n            <SelectInputForm\r\n                name=\"salary_cycle\"\r\n                label=\"دورة القبض \"\r\n                options={[\r\n                    { value: 'high_school', name: 'الثانوية العامة' },\r\n                    { value: 'bachelor', name: 'بكالوريوس' },\r\n                    { value: 'master', name: 'ماجستير' },\r\n                    { value: 'phd', name: 'دكتوراه' },\r\n                ]}\r\n                placeholder=\"شهري -  أسبوعي  - ربع سنوي - يومي\"\r\n            />\r\n            <TextInputForm name=\"salary\" label=\"الراتب\" placeholder=\"4000 ر.س\" />\r\n            <TextInputForm name=\"overtime_rate\" label=\"الساعه الاضافية\" placeholder=\"80 ر.س\" />\r\n        </div>\r\n    );\r\n}\r\n","import { useFormContext } from 'react-hook-form';\r\nimport { FormField, FormItem, FormLabel, FormControl, FormMessage } from '@/components/ui/form';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { useEffect, useState } from 'react';\r\nimport removeDuplicates from '@/utils/removeDuplicated';\r\n\r\ninterface Props {\r\n    className?: string;\r\n    name: string;\r\n    label?: string;\r\n    multiple: boolean;\r\n    maxSize: number;\r\n    editImages?: string[] | string;\r\n}\r\n\r\nconst FileInput = ({ className, name, label, maxSize, multiple, editImages }: Props) => {\r\n    const { control, setValue, watch, getValues } = useFormContext();\r\n    const [imgPreviews, setImgPreviews] = useState<string[]>([]);\r\n\r\n    const removeImage = (index: number) => {\r\n        const currentFiles = getValues(name);\r\n        const newFiles = Array.isArray(currentFiles) ? currentFiles.filter((_, i) => i !== index) : [];\r\n\r\n        setValue(name, newFiles, { shouldValidate: true });\r\n\r\n        setImgPreviews((prev) => {\r\n            const newPreviews = prev.filter((_, i) => {\r\n                if (i === index) {\r\n                    URL.revokeObjectURL(prev[i]);\r\n                }\r\n                return i !== index;\r\n            });\r\n            return newPreviews;\r\n        });\r\n    };\r\n\r\n    const onDrop = (acceptedFiles: File[], name: string) => {\r\n        if (multiple && editImages) {\r\n            // Get current files from form value\r\n            const currentValue = getValues(name);\r\n            const existingFiles = Array.isArray(currentValue) ? currentValue : [];\r\n            // Merge existing files with new accepted files\r\n            const combinedFiles = [...existingFiles, ...acceptedFiles];\r\n            setValue(name, removeDuplicates(combinedFiles), { shouldValidate: true });\r\n            // Generate previews for new files and append\r\n            const newPreviews = acceptedFiles.map((file) => URL.createObjectURL(file));\r\n            setImgPreviews((prev) => [...prev, ...newPreviews]);\r\n        } else {\r\n            setValue(name, multiple ? acceptedFiles : acceptedFiles[0], { shouldValidate: true });\r\n            setImgPreviews(acceptedFiles.map((file) => URL.createObjectURL(file)));\r\n        }\r\n    };\r\n\r\n    // Watch the form values for images\r\n    const images = watch(name);\r\n\r\n    // Reset previews when form values are cleared\r\n    useEffect(() => {\r\n        if (!images || images.length === 0) {\r\n            setImgPreviews([]);\r\n        }\r\n    }, [images]);\r\n\r\n    // initailly add editImages to react hook form state when edit\r\n    useEffect(() => {\r\n        if (editImages) {\r\n            setValue(name, editImages, { shouldValidate: true });\r\n            setImgPreviews(Array.isArray(editImages) ? editImages : [editImages]);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <FormField\r\n            control={control}\r\n            name={name}\r\n            render={({ field }) => (\r\n                <FormItem className={className}>\r\n                    <FormLabel className=\"text-primery-blue-900 font-medium text-[18px] leading-[33.73px] tracking-normal text-start\">\r\n                        {label}\r\n                    </FormLabel>\r\n                    <FormControl>\r\n                        <ImgFileUploader\r\n                            onDrop={(files: File[]) => onDrop(files, name)}\r\n                            acceptedFiles={field.value}\r\n                            previews={imgPreviews}\r\n                            maxSize={maxSize}\r\n                            multiple={multiple}\r\n                            removeImage={removeImage}\r\n                        />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                </FormItem>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default FileInput;\r\n\r\nfunction ImgFileUploader({ onDrop, previews, maxSize, multiple, removeImage }: any) {\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: { 'application/pdf': [], 'image/*': [] },\r\n        multiple: multiple,\r\n        maxSize: maxSize,\r\n    });\r\n\r\n    return (\r\n        <div\r\n            {...getRootProps()}\r\n            className=\"border-2 border-dashed border-primery-blue-500 rounded-lg p-4 text-center cursor-pointer\"\r\n        >\r\n            <input {...getInputProps()} />\r\n            <div>\r\n                <div className=\"flex flex-row items-center justify-between text-base leading-5 tracking-normal font-medium\">\r\n                    <div className=\"flex flex-row items-center gap-2 mb-5\">\r\n                        <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path\r\n                                d=\"M10.7521 23.4006C10.366 25.0819 8.41456 26.783 6.31738 25.3982C6.31738 25.3982 7.67526 26.605 10.4333 26.605H22.4646C23.9666 26.605 25.2654 25.5577 25.5843 24.0894L27.0886 16.6907C27.5357 14.373 26.0064 13.2734 23.9703 13.2734H15.5231C14.0248 13.2734 12.7272 14.3158 12.4059 15.7791L10.7521 23.4006Z\"\r\n                                stroke=\"#145DA0\"\r\n                                strokeWidth=\"1.44\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                            />\r\n                            <path\r\n                                d=\"M10.4339 26.6056C6.46498 26.6056 4.12744 24.2731 4.12744 20.314V11.685C4.12744 7.73098 5.58202 5.39844 9.54101 5.39844H11.754C12.5485 5.39844 13.2958 5.77329 13.7715 6.40842L14.7815 7.75215C15.2597 8.38605 16.0081 8.75965 16.8026 8.76214H18.6707C22.0917 8.76214 23.6522 10.2628 24.017 13.2641\"\r\n                                stroke=\"#145DA0\"\r\n                                strokeWidth=\"1.44\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                            />\r\n                        </svg>\r\n\r\n                        <p className=\"font-medium text-sm text-[#2D2D3A]\">قم برفع ملف أو قم سحبه هنا</p>\r\n                    </div>\r\n                    <SecondaryButton type=\"button\" className=\"h-[30px]\">\r\n                        اختيار الملف\r\n                    </SecondaryButton>\r\n                </div>\r\n                <div className=\"flex flex-row justify-center gap-2 border-2 border-dashed border-primery-blue-500 rounded-lg p-8\">\r\n                    {previews?.map((preview: any, index: number) => (\r\n                        <div\r\n                            key={index}\r\n                            className=\"relative group flex flex-col items-center text-sm text-muted-foreground\"\r\n                        >\r\n                            <img\r\n                                src={preview}\r\n                                alt={`Preview ${index + 1}`}\r\n                                className=\"w-20 h-20 object-cover rounded-md\"\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    removeImage(index);\r\n                                }}\r\n                                className=\"absolute w-6 h-6 top-1 start-1 bg-red-error-600 text-white-blue-50 p-1 rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                            >\r\n                                ✕\r\n                            </button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div>\r\n                    <ul className=\"text-xs leading-[22.5px] font-medium tracking-normal text-start text-[#90868C] list-[square] marker:text-[8px] ps-5 mt-2\">\r\n                        <li>\r\n                            اقصى حجم <span className=\"font-bold ms-[2px]\">{maxSize / 1024 / 1024}MB</span>\r\n                        </li>\r\n                        <li>\r\n                            الملفات المسموح بها<span className=\"font-bold ms-[2px]\">jpeg , png , jpg, gif, svg</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { z } from 'zod';\r\n\r\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\r\nconst ALLOWED_FILE_TYPES = ['image/jpeg', 'image/png', 'image/jpg', 'image/gif', 'image/svg+xml'];\r\n\r\nexport const AddContractSchema = z\r\n    .object({\r\n        employee_id: z.string().min(1, 'Name is required'),\r\n        employee_number: z.string().min(1, 'Address is required'),\r\n        position: z.string().min(1, 'The personal id number field is required.'),\r\n        employee_degree: z.string().min(1, 'The personal id number field is required.'),\r\n        main_contract: z.string().min(1, 'The personal id number field is required.'),\r\n        contract_type: z.string().min(1, 'The personal id number field is required.'),\r\n        description: z.string().min(1, 'The personal id number field is required.'),\r\n        //--------------------------------------------------------------------------------------------\r\n        start_date: z.date({\r\n            required_error: 'This field is required',\r\n        }),\r\n        sign_date: z.date({\r\n            required_error: 'This field is required',\r\n        }),\r\n        test_end_date: z.date({\r\n            required_error: 'This field is required',\r\n        }),\r\n        contract_end_date_type: z.string().min(1, 'This field is required'),\r\n        join_date: z.date({\r\n            required_error: 'This field is required',\r\n        }),\r\n        end_date: z\r\n            .date({\r\n                required_error: 'End date is required if month and year are not provided',\r\n            })\r\n            .optional(),\r\n        end_month: z.string().optional(),\r\n        end_year: z.string().optional(),\r\n        //--------------------------------------------------------------------------------------------\r\n        currency: z.string().min(1, 'Department is required'),\r\n        salary_cycle: z.string().min(1, 'Position name is required'),\r\n        salary: z.string().min(1, 'Position name is required'),\r\n        overtime_rate: z.string().min(1, 'Position name is required'),\r\n        housing_allowance: z.string().min(1, 'Position name is required'),\r\n        transportation_allowance: z.string().min(1, 'Position name is required'),\r\n        file: z\r\n            .instanceof(File, { message: 'Image is required' })\r\n            .refine((file) => file.size <= MAX_FILE_SIZE, `Image must be less than ${MAX_FILE_SIZE}MB`)\r\n            .refine(\r\n                (file) => ALLOWED_FILE_TYPES.includes(file.type),\r\n                'Only .jpeg, .png, .jpg, .gif, and .svg formats are allowed',\r\n            ),\r\n    })\r\n    .superRefine((data, ctx) => {\r\n        if (data.end_date === undefined) {\r\n            if (!data.end_month || data.end_month.trim() === '') {\r\n                ctx.addIssue({\r\n                    code: z.ZodIssueCode.custom,\r\n                    message: 'End month is required when end date is not provided',\r\n                    path: ['end_month'],\r\n                });\r\n            }\r\n            if (!data.end_year || data.end_year.trim() === '') {\r\n                ctx.addIssue({\r\n                    code: z.ZodIssueCode.custom,\r\n                    message: 'End year is required when end date is not provided',\r\n                    path: ['end_year'],\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\nexport type AddContractFormValues = z.infer<typeof AddContractSchema>;\r\n","import MainHeading from '@/components/heading/MainHeading';\r\nimport { Form } from '@/components/ui/form';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { apiPost } from '@/lib/axios/axios-utils';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { useMemo, useState } from 'react';\r\nimport { Employee } from '@/types/employee.types';\r\nimport { format } from 'date-fns';\r\nimport Submission from './Submission';\r\nimport ContractInfo from './ContractInfo';\r\nimport PeriodDetails from './PeriodDetails';\r\nimport AllowanceDetails from './AllowanceDetails';\r\nimport SalaryDetails from './SalaryDetails';\r\nimport FileInput from './FileInput';\r\nimport { AddContractFormValues, AddContractSchema } from '../schemas/addContract/add-contract-schema';\r\n\r\ninterface Props {\r\n    employee?: Employee | null;\r\n}\r\n\r\nexport default function AddContractForm({ employee }: Props) {\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [showSuccessPopup, setShowSuccessPopup] = useState(false);\r\n    const [showCancelPopup, setShowCancelPopup] = useState(false);\r\n\r\n    const defaultValues = useMemo(() => ({}), [employee]);\r\n\r\n    const form = useForm<AddContractFormValues>({\r\n        resolver: zodResolver(AddContractSchema),\r\n        defaultValues,\r\n    });\r\n\r\n    const onSubmit = async (data: AddContractFormValues) => {\r\n        setLoading(true);\r\n        setError(null); // Clear previous errors\r\n        const formatedData = data.end_date\r\n            ? {\r\n                  ...data,\r\n                  start_date: format(data.start_date, 'yyyy-MM-dd'),\r\n                  sign_date: format(data.sign_date, 'yyyy-MM-dd'),\r\n                  test_end_date: format(data.test_end_date, 'yyyy-MM-dd'),\r\n                  end_date: format(data.end_date, 'yyyy-MM-dd'),\r\n                  join_date: format(data.join_date, 'yyyy-MM-dd'),\r\n              }\r\n            : {\r\n                  ...data,\r\n                  start_date: format(data.start_date, 'yyyy-MM-dd'),\r\n                  sign_date: format(data.sign_date, 'yyyy-MM-dd'),\r\n                  test_end_date: format(data.test_end_date, 'yyyy-MM-dd'),\r\n                  join_date: format(data.join_date, 'yyyy-MM-dd'),\r\n              };\r\n        try {\r\n            await apiPost({\r\n                endpoint: employee ? endpoints.hrContract.update + employee.id : endpoints.hrContract.create,\r\n                body: formatedData,\r\n                config: { headers: { 'Content-Type': 'multipart/form-data' } },\r\n            });\r\n            setShowSuccessPopup(true);\r\n        } catch (error: any) {\r\n            if (error.response?.data?.errors) {\r\n                // Handle field-specific errors\r\n                Object.entries(error.response.data.errors).forEach(([field, messages]) => {\r\n                    form.setError(field as any, {\r\n                        type: 'manual',\r\n                        message: (messages as string[]).join(', '),\r\n                    });\r\n                });\r\n            } else {\r\n                // Handle generic error\r\n                let errorMessage = 'حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.';\r\n                if (error.response) {\r\n                    errorMessage = error.response.data.msg || errorMessage;\r\n                } else if (error.request) {\r\n                    errorMessage = 'تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.';\r\n                }\r\n                setError(errorMessage);\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Form {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"mb-8\">\r\n                    {error && (\r\n                        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"\">{error}</span>\r\n                                <button onClick={() => setError(null)} className=\"text-red-700 hover:text-red-900\">\r\n                                    ×\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div>\r\n                        <MainHeading text=\"معلومات العقد\" />\r\n                        <ContractInfo />\r\n                        <MainHeading text=\"تفاصيل المدة\" />\r\n                        <PeriodDetails />\r\n                        <MainHeading text=\"تفاصيل المرتب\" />\r\n                        <SalaryDetails />\r\n                        <MainHeading text=\"تفاصيل البدلات\" />\r\n                        <AllowanceDetails />\r\n                    </div>\r\n                    <div className=\"mt-6\">\r\n                        <FileInput name=\"file\" label=\"رفع ملف\" multiple={false} maxSize={10 * 1024 * 1024} />\r\n                    </div>\r\n                    <Submission\r\n                        employee={employee}\r\n                        loading={loading}\r\n                        setShowCancelPopup={setShowCancelPopup}\r\n                        setShowSuccessPopup={setShowSuccessPopup}\r\n                        showCancelPopup={showCancelPopup}\r\n                        showSuccessPopup={showSuccessPopup}\r\n                    />\r\n                </form>\r\n            </Form>\r\n        </>\r\n    );\r\n}\r\n","import { SubtleButton } from '@/components/buttons/SubtleButton';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\nimport SyncIcon from '@/components/icons/SyncIcon';\r\nimport AddContractForm from '../forms/addContract/AddContractForm';\r\n\r\nexport default function AddContractPage() {\r\n    return (\r\n        <div className=\"w-full mt-6\">\r\n            <div className=\"flex flex-row justify-between mb-6\">\r\n                <UnderlineHeading className=\"h-fit\" text=\"تحديث العقد\" />\r\n                <div className=\"flex flex-row gap-5\">\r\n                    <SubtleButton className=\"bg-[#FFF8E8] text-base font-medium leading-[125%] text-[#FBB90D] border border-[#FFF8E8] hover:hover:bg-[#FDECCB]\">\r\n                        <SyncIcon width=\"20\" height=\"20\" />\r\n                        تعليق العقد\r\n                    </SubtleButton>\r\n                    <SubtleButton className=\"bg-red-error-50 text-base font-medium leading-[125%] text-[#A21515] hover:bg-[#A21515] hover:text-white-blue-50 border border-red-error-50\">\r\n                        <SyncIcon width=\"20\" height=\"20\" />\r\n                        حذف العقد\r\n                    </SubtleButton>\r\n                    <SubtleButton className=\"bg-primery-blue-50 text-base font-medium leading-[125%] text-primery-blue-500 border border-primery-blue-50\">\r\n                        <SyncIcon width=\"20\" height=\"20\" className=\"text-primery-blue-500\" />\r\n                        تجديد العقد\r\n                    </SubtleButton>\r\n                </div>\r\n            </div>\r\n            <AddContractForm />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Submission","employee","setShowCancelPopup","setShowSuccessPopup","showCancelPopup","showSuccessPopup","loading","navigate","useNavigate","handleAddAnother","jsxs","Fragment","jsx","SecondaryButton","PrimaryButton","CancelPopup","SuccessPopup","ContractInfo","employees","setEmployees","useState","employeesError","setEmployeesError","useEffect","options","apiGet","endpoints","SearchableSelectInputForm","TextInputForm","SelectInputForm","TextAreaInputForm","RadioDatePickerGroup","name","date1Name","date2Name","label1","label2","control","useFormContext","watch","selected","currentYear","years","_","i","year","FormField","field","FormItem","FormControl","RadioGroup","RadioGroupItem","FormMessage","DateInputForm","PeriodDetails","AllowanceDetails","SalaryDetails","FileInput","className","label","maxSize","multiple","editImages","setValue","getValues","imgPreviews","setImgPreviews","removeImage","index","currentFiles","newFiles","prev","onDrop","acceptedFiles","currentValue","combinedFiles","removeDuplicates","newPreviews","file","images","FormLabel","ImgFileUploader","files","previews","getRootProps","getInputProps","useDropzone","preview","e","MAX_FILE_SIZE","ALLOWED_FILE_TYPES","AddContractSchema","z","data","ctx","AddContractForm","error","setError","setLoading","defaultValues","useMemo","form","useForm","zodResolver","onSubmit","formatedData","format","apiPost","messages","errorMessage","Form","MainHeading","AddContractPage","UnderlineHeading","SubtleButton","SyncIcon"],"mappings":"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"}