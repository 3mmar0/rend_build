import{j as s,r as t,d as F,e as j}from"./index-CG21Kl6L.js";import{u as T,t as k,F as E}from"./index-CVKxZN6H.js";import{P as h}from"./PrimaryButton-CqSNXaEZ.js";import{a as M}from"./axios-utils-DWLLXNPU.js";import{S as g}from"./SecondaryButton-C8PAsQMM.js";import{C as _}from"./CancelPopup-DkpTHoXx.js";import{M as y}from"./MainHeading-D0_31WmT.js";import{A as H}from"./add-maintenance-center-schema-1YmsfeYs.js";import{S as D}from"./SuccessPopup-CoLlaGCA.js";import{D as S}from"./DateInputForm-Bteneik4.js";import{S as L}from"./SelectInputForm-nhbT-0nq.js";import{T as u}from"./TextInputForm-ML6m37PA.js";import{T as R}from"./TextAreaInputForm-DDtw8I0I.js";import{S as U}from"./SubtleButton-CIWvV8XM.js";import{U as q}from"./UnderlineHeading-6dFpHrZu.js";import{I as O}from"./ImportIcon-DAcZLaTm.js";import"./index-DKOmws7K.js";import"./dialog-BNTutzAA.js";import"./Combination-CF6sjIQ5.js";import"./index-BuoIejD9.js";import"./SuccessIcon-kUOFEumJ.js";import"./popover-GWOz0UH_.js";import"./format-D6Kkl3rb.js";import"./chevron-right-ofNdHrp6.js";import"./chevron-left-Dd3efAkK.js";import"./index-CVxAI6rk.js";import"./select-cvP0Sup0.js";import"./CalendarIcon-vdySZVWB.js";import"./textarea-C5nh8QJ5.js";function V(){return s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(u,{name:"name",label:"اسم العميل",placeholder:"اختر اسم العميل"}),s.jsx(u,{name:"description",label:"كود الفاتورة",placeholder:"#899657"}),s.jsx(S,{name:"",label:"تاريخ الفاتورة",placeholder:"2025/05/30"}),s.jsx(u,{name:"",label:"مسئول المبيعات",placeholder:"محمد علي"}),s.jsx(S,{name:"",label:"تاريخ الاصدار",placeholder:"2025/05/30"}),s.jsx(L,{name:"location",label:"فترة السماح للسداد",placeholder:"4 ايام",options:[{name:"4 ايام",value:"4 ايام"}]})]})}function n(){return s.jsx("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6"})}function z({maintenanceCenter:o}){const[a,p]=t.useState(null),[e,m]=t.useState(!1),[v,x]=t.useState(!1),[N,d]=t.useState(!1),c=F(),I=t.useMemo(()=>({name:(o==null?void 0:o.name)||"",location:(o==null?void 0:o.location)||void 0,contact_number:(o==null?void 0:o.contact_number)||"",description:(o==null?void 0:o.description)||"",status:(o==null?void 0:o.status)||void 0,contract_status:(o==null?void 0:o.contract_status)||void 0,features:(o==null?void 0:o.features)||[]}),[o]),i=T({resolver:k(H),defaultValues:I}),A=()=>{x(!1)},w=async P=>{var f,b;m(!0),p(null);try{await M({endpoint:o?j.maintenanCenter.update+o.id:j.maintenanCenter.create,body:P,config:{headers:{"Content-Type":"multipart/form-data"}}}),x(!0)}catch(l){if((b=(f=l.response)==null?void 0:f.data)!=null&&b.errors)Object.entries(l.response.data.errors).forEach(([r,B])=>{i.setError(r,{type:"manual",message:B.join(", ")})});else{let r="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";l.response?r=l.response.data.msg||r:l.request&&(r="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),p(r)}}finally{m(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(E,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(w),className:"mb-8",children:[s.jsx(y,{text:"معلومات الفاتورة"}),s.jsx(V,{}),s.jsx(y,{text:"بنود الفاتورة"}),s.jsx(n,{}),s.jsx(R,{className:"flex flex-col min-h-[157px]",name:"الوصف",label:"الوصف",placeholder:"ادخل الوصف"}),a&&s.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:a}),s.jsx("button",{onClick:()=>p(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),s.jsxs("div",{className:"flex flex-row justify-end items-center mt-8",children:[o?s.jsx(g,{type:"button",className:"xl:px-[101px] xl:py-[18px] text-[#A21515] border border-red-error-50 xl:font-bold bg-red-error-50",onClick:()=>d(!0),children:"إلغاء الطلب"}):s.jsx(g,{type:"button",className:"xl:px-[64.5px] xl:py-[18px] border border-r-red-error-50 bg-red-error-50 text-[#A21515] xl:font-bold",onClick:()=>d(!0),children:"الغاء"}),s.jsx("div",{children:o?s.jsx(h,{className:"xl:px-[107px] xl:py-[18px] xl:font-bold ms-6",disabled:e,children:e?"جاري التحميل...":"حفظ التغييرات"}):s.jsx(h,{className:"xl:px-[107px] xl:py-[18px] xl:font-bold ms-6",disabled:e,children:e?"جاري التحميل...":"انشاء فاتورة"})})]})]})}),s.jsx(_,{open:N,onClickButton1:()=>{d(!1)},onClickButton2:()=>{c("/maintenance/centers"),d(!1)},text1:o?"إلغاء تعديل بيانات مركز صيانة":"إلغاء إضافة مركز صيانة",text2:o?"أنت على وشك إلغاء عملية تعديل بيانات مركز صيانة دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟":"أنت على وشك إلغاء عملية إضافة مركز صيانة دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟",textButton1:"إكمال الطلب",textButton2:"إلغاء الطلب"}),s.jsx(D,{open:v,text1:o?"تم تعديل بيانات مركز الصيانة بنحاح":"تم إضافة مركز صيانة جديد",text2:o?"تم تعديل بيانات مركز الصيانة":"تم تسجيل بيانات مركز الصيانة",textButton1:"العودة لقائمة مراكز الصيانة",textButton2:o?"تعديل بيانات اخرى":"انشاء مركز صيانة اخر",onAddAnother:A,onReturnToList:()=>{c("/maintenance/centers"),x(!1)}})]})}const G=()=>s.jsxs("div",{className:"flex flex-row justify-between mb-6",children:[s.jsx(q,{text:"انشاء فاتورة"}),s.jsxs(U,{className:"bg-primery-blue-50 text-base font-medium leading-[125%] text-primery-blue-500 border border-primery-blue-50",children:[s.jsx(O,{}),"استيراد ملف بيانات"]})]});function Ss(){return s.jsxs("div",{className:"mt-6 w-full",children:[s.jsx(G,{}),s.jsx(z,{})]})}export{Ss as default};
//# sourceMappingURL=AddInvoice.page-BiDEeKex.js.map
