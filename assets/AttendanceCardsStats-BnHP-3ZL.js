import{j as e,m as Z,k as S,r as a,e as k,t as P,i as $,A as G,f as J,g as K}from"./index-BYyXun5x.js";import{U as Q}from"./UnderlineHeading-ByjNC2ge.js";import{A as X}from"./ArrowBackIcon-DM4diopZ.js";import{a as V,b as C}from"./axios-utils-AvuZ81CO.js";import{D as ee,a as te,A as se,b as re,c as _,C as L}from"./Dropdown-DI0KLpyc.js";import{S as ae}from"./SubtleButton-CpZm4xzO.js";import{U as q}from"./UserEditIcon-Ds9vpXTs.js";import{D as U,a as I,b as T}from"./dialog-CC_6CGm6.js";import{z as f,u as B,t as H,F as O,f as ne,a as le,b as oe,c as ie,d as de,e as ce}from"./index-C2_QJ2lf.js";import{T as M}from"./TimeInputForm-zvEH8xvK.js";import{T as R}from"./TextAreaInputForm-BzEUWSiD.js";import{S as D}from"./SecondaryButton-DL_Bkgwn.js";import{P as W}from"./PrimaryButton-CZnRZgcz.js";import{S as z}from"./SearchableSelectInputForm-v1_SI72T.js";import{D as E}from"./DayPickerInputForm-BVMb7yWz.js";import{S as Y}from"./SelectInputForm-CG_Opxs4.js";import{f as A}from"./format-D6Kkl3rb.js";import{u as me}from"./index-BUOh6qUH.js";import{r as xe}from"./removeDuplicated-BgoSiW5F.js";import{S as pe}from"./StatisticsCards-B_8i9ipX.js";import{P as ue,T as fe}from"./TwoUsersIcon-W4p4rWJZ.js";import{U as he}from"./UserRemoveIcon-W72gV8qt.js";import{U as be}from"./UserMinusIcon-P_9JR1Tm.js";function ge(){return e.jsxs("div",{className:"flex flex-row items-start w-full ",children:[e.jsxs("div",{className:"flex-2",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsxs("div",{className:"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:[e.jsx("img",{src:Z,alt:"",className:"rounded-full w-10 h-10 object-cover"}),e.jsxs("div",{className:"flex flex-col gap-1 text-nowrap",children:[e.jsx("p",{className:"tracking-normal text-primery-blue-900 font-medium text-sm",children:"mohamed rehan"}),e.jsx("p",{className:"tracking-normal text-white-blue-800 font-normal text-sm",children:"المنصب والقسم"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:"اسم الموظف"})]})]})}function je({attendance:t,AttendanceCard:s}){const r=Object.entries(t).map(([n,x])=>({date:n,...x}));return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-7 text-center border border-[#E8E8E8]",children:[e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"السبت"}),e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الاحد"}),e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الإثنين"}),e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الثلاثاء"}),e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الاربعاء"}),e.jsx("p",{className:"bg-primery-blue-50 border-e border-[#E8E8E8] p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الخميس"}),e.jsx("p",{className:"bg-primery-blue-50 p-[15px] font-semibold text-xs tracking-normal leading-[100%]",children:"الجمعة"})]}),e.jsx("div",{className:"grid grid-cols-7",children:r.map((n,x)=>e.jsx("div",{className:"",children:e.jsx(s,{attendance:n})},x))})]})}const ye=({attendance:t})=>e.jsxs("div",{className:"border border-[#E8E8E8] p-2 w-full",children:[e.jsx("div",{children:e.jsx("p",{className:"text-xl font-medium text-white-blue-700 tracking-normal",children:t.date})}),e.jsxs("div",{className:"mt-[6.3px] px-[13.3px]",children:[e.jsxs("div",{className:"flex flex-row gap-[2px] justify-start text-nowrap",children:[e.jsx("p",{className:"text-[11px] font-normal text-primery-blue-700 tracking-normal",children:"نوع الاجازة:"}),e.jsx("p",{className:"text-[11px] font-normal text-white-blue-800 tracking-normal",children:"ايام العطله"})]}),e.jsxs("div",{className:"flex flex-row gap-[2px] justify-start text-nowrap",children:[e.jsx("p",{className:"text-[11px] font-normal text-primery-blue-700 tracking-normal",children:"نظام الاجازة"}),e.jsx("p",{className:"text-[11px] font-normal text-white-blue-800 tracking-normal",children:"السعودي"})]})]}),e.jsx("div",{className:"mt-[6.3px] p-[2px]",children:e.jsx("button",{className:S("text-center w-full py-1 rounded-sm text-xs font-medium text-[#D97706] leading-[115%] tracking-normal",{"bg-[#FFFBEB]":t.status==="absent","bg-[#FEEBEB]":t.status==="late","bg-[#DAF8E6]":t.status==="present"}),children:t.status})})]});function Ne({width:t="21",height:s="21",className:r=""}){return e.jsx("span",{className:r,children:e.jsxs("svg",{width:t,height:s,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8.00004 14.666V9.66602L6.33337 11.3327",stroke:"#145DA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 9.66602L9.66667 11.3327",stroke:"#145DA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M18.8333 8.83268V12.9993C18.8333 17.166 17.1666 18.8327 13 18.8327H7.99996C3.83329 18.8327 2.16663 17.166 2.16663 12.9993V7.99935C2.16663 3.83268 3.83329 2.16602 7.99996 2.16602H12.1666",stroke:"#145DA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M18.8333 8.83268H15.5C13 8.83268 12.1666 7.99935 12.1666 5.49935V2.16602L18.8333 8.83268Z",stroke:"#145DA0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})}const we=f.object({employee_id:f.string().min(1,"Employee name field is required."),date:f.date({required_error:"Date is required"}),check_in:f.string().min(1,"Check in is required"),check_out:f.string().min(1,"Check out time is required"),status:f.string().min(1,"Status is required"),notes:f.string().min(1,"Notes is required")});function ve({employee:t,setAddAttendance:s}){const[r,n]=a.useState(null),[x,d]=a.useState(!1),[j,h]=a.useState([]),[b,g]=a.useState(null),N=a.useMemo(()=>({employee_id:""}),[t]),u=B({resolver:H(we),defaultValues:N}),w=async i=>{var l,o;d(!0),n(null);const p={...i,date:A(i.date,"yyyy-MM-dd")};try{await V({endpoint:t?k.employee.update+t.id:k.employeeAttendance.create,body:p,config:{headers:{"Content-Type":"multipart/form-data"}}}),P("تم اضافة الحضور بنجاح"),s(!1)}catch(c){if((o=(l=c.response)==null?void 0:l.data)!=null&&o.errors)Object.entries(c.response.data.errors).forEach(([m,y])=>{u.setError(m,{type:"manual",message:y.join(", ")})});else{let m="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";c.response?m=c.response.data.msg||m:c.request&&(m="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),n(m)}}finally{d(!1)}};return a.useEffect(()=>{(async()=>{try{const l=(await C({endpoint:k.employee.list})).data.data.data.map(o=>({name:o.name,value:String(o.id)}));h(l),g(null)}catch{g("Error fetching employees. Please try again later.")}})()},[]),e.jsx(e.Fragment,{children:e.jsx(O,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(w),className:"mt-6",children:[r&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"",children:r}),e.jsx("button",{onClick:()=>n(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-12",children:[e.jsx(z,{name:"employee_id",placeholder:"بحث عن اسم أو كود العميل",label:"اسم العميل",options:j,error:b,data:!0}),e.jsx(Y,{name:"status",options:[{name:"موجود",value:"present"}],label:"الحالة",placeholder:"ادخل الحالة"}),e.jsx(E,{name:"date",label:"التاريخ",placeholder:"ادخل التاريخ"}),e.jsx(M,{name:"check_in",label:"وقت الحضور",placeholder:"",className:"flex flex-col"}),e.jsx(M,{name:"check_out",label:"وقت الانصراف",placeholder:"",className:"flex flex-col"})]}),e.jsx(R,{className:"flex flex-col min-h-[157px]",name:"notes",label:"وصف",placeholder:"قم بكتابة وصف"}),e.jsxs("div",{className:"flex flex-row gap-4 mt-6",children:[e.jsx(D,{onClick:()=>s(!1),type:"button",className:"w-full text-base leading-5 tracking-normal py-[10px] font-medium",children:"إلغاء"}),e.jsx(W,{type:"submit",className:"w-full text-base leading-5 tracking-normal font-medium py-[10px]",children:x?"جاري الحفظ...":"حفظ"})]})]})})})}function ke({open:t,setAddAttendance:s}){return e.jsxs(U,{open:t,children:[e.jsx("div",{className:S("fixed inset-0 bg-black/50",{"!hidden":!t})}),e.jsxs(I,{showCloseButton:!1,className:"max-w-[623px] rounded-lg p-8 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0",children:[e.jsxs(T,{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(q,{}),e.jsx("h3",{className:"text-[22px] font-bold text-primery-blue-500",children:"اضافة حضور"})]}),e.jsxs(ae,{className:"bg-primery-blue-50 text-base font-medium leading-[125%] text-primery-blue-500 border border-primery-blue-50",children:[e.jsx(Ne,{}),"لرفع مستند"]})]}),e.jsx("div",{className:"w-full border-b border-[#D1D1D1] !mt-0"})]}),e.jsx(ve,{setAddAttendance:s})]})]})}const Ee=f.object({employee_id:f.string().min(1,"This field is required"),vacation_type:f.string().min(1,"This field is required"),start_date:f.date({required_error:"This field is required"}),end_date:f.date({required_error:"This field is required"}),reason:f.string().min(1,"This field is required")}),Ae=({className:t,name:s,label:r,maxSize:n,multiple:x,editImages:d})=>{const{control:j,setValue:h,watch:b,getValues:g}=ne(),[N,u]=a.useState([]),w=l=>{const o=g(s),c=Array.isArray(o)?o.filter((m,y)=>y!==l):[];h(s,c,{shouldValidate:!0}),u(m=>m.filter((F,v)=>(v===l&&URL.revokeObjectURL(m[v]),v!==l)))},i=(l,o)=>{if(x&&d){const c=g(o),y=[...Array.isArray(c)?c:[],...l];h(o,xe(y),{shouldValidate:!0});const F=l.map(v=>URL.createObjectURL(v));u(v=>[...v,...F])}else h(o,x?l:l[0],{shouldValidate:!0}),u(l.map(c=>URL.createObjectURL(c)))},p=b(s);return a.useEffect(()=>{(!p||p.length===0)&&u([])},[p]),a.useEffect(()=>{d&&(h(s,d,{shouldValidate:!0}),u(Array.isArray(d)?d:[d]))},[]),e.jsx(le,{control:j,name:s,render:({field:l})=>e.jsxs(oe,{className:t,children:[e.jsx(ie,{className:"text-primery-blue-900 font-medium text-[18px] leading-[33.73px] tracking-normal text-start",children:r}),e.jsx(de,{children:e.jsx(Se,{onDrop:o=>i(o,s),acceptedFiles:l.value,previews:N,maxSize:n,multiple:x,removeImage:w})}),e.jsx(ce,{})]})})};function Se({onDrop:t,previews:s,maxSize:r,multiple:n,removeImage:x}){const{getRootProps:d,getInputProps:j}=me({onDrop:t,accept:{"application/pdf":[],"image/*":[]},multiple:n,maxSize:r});return e.jsxs("div",{...d(),className:"border-2 border-dashed border-primery-blue-500 rounded-lg px-3 py-1 text-center cursor-pointer",children:[e.jsx("input",{...j()}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-center justify-between text-base leading-5 tracking-normal font-medium",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 mb-5",children:[e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10.7521 23.4006C10.366 25.0819 8.41456 26.783 6.31738 25.3982C6.31738 25.3982 7.67526 26.605 10.4333 26.605H22.4646C23.9666 26.605 25.2654 25.5577 25.5843 24.0894L27.0886 16.6907C27.5357 14.373 26.0064 13.2734 23.9703 13.2734H15.5231C14.0248 13.2734 12.7272 14.3158 12.4059 15.7791L10.7521 23.4006Z",stroke:"#145DA0",strokeWidth:"1.44",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M10.4339 26.6056C6.46498 26.6056 4.12744 24.2731 4.12744 20.314V11.685C4.12744 7.73098 5.58202 5.39844 9.54101 5.39844H11.754C12.5485 5.39844 13.2958 5.77329 13.7715 6.40842L14.7815 7.75215C15.2597 8.38605 16.0081 8.75965 16.8026 8.76214H18.6707C22.0917 8.76214 23.6522 10.2628 24.017 13.2641",stroke:"#145DA0",strokeWidth:"1.44",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{className:"font-medium text-sm text-[#2D2D3A]",children:"قم برفع ملف أو قم سحبه هنا"})]}),e.jsx(D,{type:"button",className:"h-[30px]",children:"اختيار الملف"})]}),e.jsx("div",{className:"flex flex-row justify-center gap-2 border-2 border-dashed border-primery-blue-500 rounded-lg p-8",children:s==null?void 0:s.map((h,b)=>e.jsxs("div",{className:"relative group flex flex-col items-center text-sm text-muted-foreground",children:[e.jsx("img",{src:h,alt:`Preview ${b+1}`,className:"w-20 h-20 object-cover rounded-md"}),e.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),x(b)},className:"absolute w-6 h-6 top-1 start-1 bg-red-error-600 text-white-blue-50 p-1 rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"✕"})]},b))}),e.jsx("div",{children:e.jsx("ul",{className:"text-xs leading-[22.5px] font-medium tracking-normal text-start text-[#90868C] list-[square] marker:text-[8px] ps-5 mt-1",children:e.jsxs("li",{children:["يجب ان يكون حجم الملف الا يتجاوز ",r/1024/1024," ميجا ويكون صغيته PDF"]})})})]})]})}function Ce({employee:t,setAddVacation:s}){const[r,n]=a.useState(null),[x,d]=a.useState(!1),[j,h]=a.useState([]),[b,g]=a.useState(null),N=a.useMemo(()=>({employee_id:""}),[t]),u=B({resolver:H(Ee),defaultValues:N}),w=async i=>{var l,o;d(!0),n(null);const p={...i,start_date:A(i.start_date,"yyyy-MM-dd"),end_date:A(i.end_date,"yyyy-MM-dd")};try{await V({endpoint:t?k.holiday.update+t.id:k.holiday.createWithAdmin,body:p,config:{headers:{"Content-Type":"multipart/form-data"}}}),P("تم اضافة الأجازة بنجاح"),s(!1)}catch(c){if((o=(l=c.response)==null?void 0:l.data)!=null&&o.errors)Object.entries(c.response.data.errors).forEach(([m,y])=>{u.setError(m,{type:"manual",message:y.join(", ")})});else{let m="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";c.response?m=c.response.data.msg||m:c.request&&(m="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),n(m)}}finally{d(!1)}};return a.useEffect(()=>{(async()=>{try{const l=(await C({endpoint:k.employee.list})).data.data.data.map(o=>({name:o.name,value:String(o.id)}));h(l),g(null)}catch{g("Error fetching employees. Please try again later.")}})()},[]),e.jsx(e.Fragment,{children:e.jsx(O,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(w),className:"mt-6",children:[r&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"",children:r}),e.jsx("button",{onClick:()=>n(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6",children:[e.jsx(z,{name:"employee_id",placeholder:"بحث عن اسم أو كود العميل",label:"اسم الموظف",options:j,error:b,data:!0}),e.jsx(Y,{name:"vacation_type",options:[{name:"مرض",value:"sick"}],label:"الحالة",placeholder:"ادخل الحالة"}),e.jsx(E,{name:"start_date",label:"تاريخ البدء",placeholder:"ادخل تاريخ الغياب"}),e.jsx(E,{name:"end_date",label:"تاريخ الانتهاء",placeholder:"ادخل تاريخ العودة"})]}),e.jsx(R,{className:"flex flex-col min-h-[90px] resize-none",name:"reason",label:"وصف الاجازة",placeholder:"اكتب وصف للاجازة"}),e.jsx(Ae,{name:"attachment",label:"رفع ملف",multiple:!1,maxSize:10*1024*1024}),e.jsxs("div",{className:"flex flex-row gap-4 mt-6",children:[e.jsx(D,{onClick:()=>s(!1),type:"button",className:"w-full text-base leading-5 tracking-normal py-[10px] font-medium",children:"إلغاء"}),e.jsx(W,{type:"submit",className:"w-full text-base leading-5 tracking-normal font-medium py-[10px]",children:x?"جاري الحفظ...":"حفظ"})]})]})})})}function De({open:t,setAddVacation:s}){return e.jsxs(U,{open:t,children:[e.jsx("div",{className:S("fixed inset-0 bg-black/50",{"!hidden":!t})}),e.jsxs(I,{showCloseButton:!1,className:"max-w-[623px] rounded-lg p-8 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0",children:[e.jsxs(T,{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex flex-row justify-between mb-4 w-full",children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(q,{}),e.jsx("h3",{className:"text-[22px] font-bold text-primery-blue-500",children:"تخصيص اجازة"})]})}),e.jsx("div",{className:"w-full border-b border-[#D1D1D1] !mt-0"})]}),e.jsx(Ce,{setAddVacation:s})]})]})}function Fe(){const[t,s]=a.useState(!1),[r,n]=a.useState(!1),[x,d]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(ee,{onOpenChange:j=>s(j),dir:$.dir(),children:[e.jsxs(te,{className:`flex flex-row items-center justify-center gap-2 h-9 text-base leading-5 font-semibold font-cairo tracking-normal bg-primery-blue-700 text-white-blue-50 px-2 py-1 rounded-lg text-nowrap\r
                hover:bg-primery-blue-500 \r
                focus:outline-none focus:ring-2 focus:ring-primery-blue-700 focus:ring-offset-2\r
                          disabled:bg-primery-blue-200 disabled:opacity-50`,children:["اضافة حدث",t?e.jsx(se,{}):e.jsx(G,{})]}),e.jsxs(re,{className:"min-w-24",children:[e.jsx(_,{asChild:!0,children:e.jsx("button",{onClick:()=>n(!0),className:"w-full cursor-pointer px-4 py-3 text-white-blue-900 text-base leading-5 font-semibold font-cairo tracking-normal",children:"اضافة حضور"})}),e.jsx(_,{asChild:!0,children:e.jsx("button",{onClick:()=>d(!0),className:"w-full cursor-pointer px-4 py-3 text-white-blue-900 text-base leading-5 font-semibold font-cairo tracking-normal",children:"تخصيص اجازة"})})]})]}),e.jsx(ke,{open:r,setAddAttendance:n}),e.jsx(De,{open:x,setAddVacation:d})]})}function et(){const[t,s]=a.useState(),[r,n]=a.useState({}),[x,d]=a.useState(""),[j,h]=a.useState(!0),[b,g]=a.useState(null),{id:N}=J();if(a.useEffect(()=>{(async()=>{try{const p=await C({endpoint:k.employeeAttendance.attendance,queryParams:{employee_id:`${N}`,...r}});s(p.data.data[0])}catch{g("Failed to load attendance")}finally{h(!1)}})()},[r,x]),j)return e.jsx(K,{});if(b)return e.jsx("div",{className:"mt-6 mb-[102px] text-center py-20",children:e.jsx("h2",{className:"text-xl text-red-500",children:b})});if(!t)return e.jsx("div",{className:"mt-6 mb-[102px] text-center py-20",children:e.jsx("h2",{className:"text-xl",children:"attendance not found"})});const u=new Date().getFullYear(),w=Array.from({length:10},(i,p)=>u-p).map(i=>({label:i.toString(),value:i.toString()}));return e.jsxs("div",{className:"mb-10 mt-6 border border-[#E8E7EA] rounded-lg",children:[e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(Q,{text:"الحضور والانصراف للموظف"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx(L,{value:(r==null?void 0:r.month)||"",onValueChange:i=>{n({...r,month:i})},placeholder:"شهر",width:"min-w-[77px]",options:[{label:"شهر",value:""},{label:"يناير",value:"1"},{label:"فبراير",value:"2"},{label:"مارس",value:"3"},{label:"أبريل",value:"4"},{label:"مايو",value:"5"},{label:"يونيو",value:"6"},{label:"يوليو",value:"7"},{label:"أغسطس",value:"8"},{label:"سبتمبر",value:"9"},{label:"أكتوبر",value:"10"},{label:"نوفمبر",value:"11"},{label:"ديسمبر",value:"12"}]}),e.jsx(L,{value:(r==null?void 0:r.year)||"",onValueChange:i=>{n({...r,year:i})},placeholder:"سنة",width:"min-w-[77px]",options:[{label:"سنة",value:""},...w]}),e.jsx("div",{children:e.jsx(Fe,{})}),e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primery-blue-50 border border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:e.jsx(X,{})})]})]}),e.jsx(ge,{}),e.jsx("div",{className:"mt-6",children:e.jsx(je,{attendance:t.attendance,AttendanceCard:ye})})]})}function tt(){const t=[{text:"ايام الاجازة",icon:e.jsx(ue,{}),num:35,percent:12},{text:"أيام الحضور",icon:e.jsx(fe,{}),num:22,percent:0},{text:"إجمالي الأيام المستحقة",icon:e.jsx(be,{}),num:10,percent:-.3},{text:"إجمالي الأيام",icon:e.jsx(he,{}),num:3,percent:-.3}];return e.jsx("div",{className:"mt-[21px] w-full",children:e.jsx(pe,{cards:t,numJustifyStart:!0})})}export{tt as A,et as E};
//# sourceMappingURL=AttendanceCardsStats-BnHP-3ZL.js.map
