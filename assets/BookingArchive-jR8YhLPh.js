import{j as e,m as d,I as u,S as g,r as o,e as h}from"./index-CG21Kl6L.js";import{b}from"./axios-utils-DWLLXNPU.js";import{D as f}from"./data-table-q2Kgxvnv.js";import{U as y}from"./UnderlineHeading-6dFpHrZu.js";import{C as j}from"./Dropdown-9zztjWeh.js";import{A as v}from"./ArrowBackIcon-D47HpoSm.js";import{E as N,a as w}from"./jspdf.plugin.autotable-DHPWFDOB.js";import"./table-VHWg2bm3.js";import"./CustomPagination-CEeDQMqo.js";import"./pagination-B5K0ldzO.js";import"./chevron-right-ofNdHrp6.js";import"./chevron-left-Dd3efAkK.js";import"./Combination-CF6sjIQ5.js";import"./index-DKOmws7K.js";import"./index-CVxAI6rk.js";import"./index-BuoIejD9.js";import"./index-Iw2dua5F.js";const k=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"ID"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:t.original.id})},{accessorKey:"rent",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"المستأجر"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:t.original.customer.full_name})},{accessorKey:"phone",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"رقم الهاتف"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:t.original.customer.phone})},{accessorKey:"car",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 text-nowrap !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"اسم السيارة والموديل"}),cell:({row:t})=>e.jsxs("div",{className:"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:[e.jsx("img",{src:d,alt:"",className:"rounded-full w-10 h-10 object-cover"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"tracking-normal text-primery-blue-900 font-medium text-sm text-nowrap",children:`${t.original.vehicle.brand} ${t.original.vehicle.brand_model}`}),e.jsxs("p",{className:"tracking-normal text-white-blue-800 font-normal text-sm",children:[" ",t.original.vehicle.make_year]})]})]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"المدفوع"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:t.original.total_price})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"المتبقي"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal"})},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 text-nowrap py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"طريقة الدفع"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.payment_status})}];function _({data:t}){const l=()=>{const r=new N;r.setFontSize(16),r.text("customers information",105,20,{align:"center"}),r.setLanguage("ar");const s=t.map(a=>[(a==null?void 0:a.name)||"N/A",(a==null?void 0:a.email)||"N/A",(a==null?void 0:a.department)||"N/A"]);w(r,{startY:30,head:[["name","email","job"]],body:s,styles:{halign:"center"},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[240,240,240]}}),r.save("employees_statistics.pdf")};return e.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border hover:bg-primery-blue-100 border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(v,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})}function C({globalFilter:t,setGlobalFilter:l,filters:r,setFilters:s,data:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(y,{text:"أرشيف الحجز"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(u,{placeholder:"ابحث باسم العميل",value:t,onChange:n=>l(n.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(g,{className:"text-white-blue-800"})})]}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(j,{value:(r==null?void 0:r.status)||"",onValueChange:n=>{s({...r,status:n})},placeholder:"فلتر",width:"min-w-[77px]",options:[{label:"فلتر",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})}),e.jsx(_,{data:a})]})]})})}function D(){const[t,l]=o.useState([]),[r,s]=o.useState(0),[a,n]=o.useState(0),[c,x]=o.useState(!1),p=o.useCallback(async m=>{x(!0);try{const i=await b({endpoint:h.contract.paginate,queryParams:{page:m.pageIndex+1,...m.filters,search:m.globalFilter}});l(i.data.data.data),s(Math.ceil(i.data.data.pagination.total/10)),n(i.data.data.pagination.total)}catch(i){console.error("Error fetching data:",i)}finally{x(!1)}},[]);return e.jsx("div",{className:"mt-6 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(f,{columns:k,data:t,pageCount:r,totalCount:a,onFetchData:p,DataTableToolbar:C,isLoading:c})})}function M(){return e.jsx("div",{className:"w-full mt-6 mb-20",children:e.jsx(D,{})})}export{M as default};
//# sourceMappingURL=BookingArchive-jR8YhLPh.js.map
