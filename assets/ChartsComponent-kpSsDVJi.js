import{r as l,j as e,k as o,e as f}from"./index-BYyXun5x.js";import{b as p}from"./axios-utils-AvuZ81CO.js";import{U as d}from"./UnderlineHeading-ByjNC2ge.js";import{C as m}from"./Dropdown-DI0KLpyc.js";import{C as u,a as h,b,u as j}from"./chart-Cu57hkrX.js";import{P as v,a as C}from"./PieChart-CfdriHgv.js";import{M as w}from"./MultipleBarChart-CTk_EqXx.js";const g=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("rounded-xl border bg-card text-card-foreground shadow",a),...s}));g.displayName="Card";const y=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",a),...s}));y.displayName="CardHeader";const N=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("font-semibold leading-none tracking-tight",a),...s}));N.displayName="CardTitle";const S=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("text-sm text-muted-foreground",a),...s}));S.displayName="CardDescription";const x=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("p-6 pt-0",a),...s}));x.displayName="CardContent";const D=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:o("flex items-center p-6 pt-0",a),...s}));D.displayName="CardFooter";function _({chartData:a,chartConfig:s}){return e.jsx("div",{className:"flex flex-col min-w-[250px]",children:e.jsx(x,{className:"flex-1 pb-0",children:e.jsx(u,{config:s,className:"[&_.recharts-text]:fill-background mx-auto aspect-square min-h-[250px]",children:e.jsxs(v,{children:[e.jsx(h,{content:e.jsx(b,{nameKey:"visitors",hideLabel:!0})}),e.jsx(C,{data:a,dataKey:"visitors",children:e.jsx(j,{dataKey:"days",className:"fill-background",stroke:"none",fontSize:12})})]})})})})}const k=({text:a,className:s})=>e.jsx("div",{className:o("flex flex-col gap-6 ps-[19.5px]",s),children:a.map((t,r)=>e.jsxs("div",{className:"flex flex-row w-max items-center justify-start gap-3",children:[e.jsx("div",{className:o("w-3 h-3 rounded-full",{"bg-yellow-500":r+1===1,"bg-[#D05759]":r+1===2,"bg-[#0B8FD9]":r+1===3,"bg-chart-4":r+1===4,"bg-chart-3":r+1===5})}),e.jsx("p",{className:"flex flex-row font-cairo font-medium text-white-blue-900 text-[14px] leading-[16.8px] tracking-normal text-start",children:t})]},r))});function B(){const[a,s]=l.useState(null),[t,r]=l.useState("");let n=[],i=[];i=["تحت المراجعة","مرفوضة","مقبولة"],n=[{days:"مرفوضة",visitors:50,fill:"var(--color-available)"},{days:"مقبولة",visitors:50,fill:"var(--color-broken)"},{days:"تحت المراجعة",visitors:20,fill:"var(--color-maintenance)"}];const c={visitors:{label:"Visitors"},available:{label:"مدفوعة",color:"#0B8FD9"},leased:{label:"المديرين",color:"hsl(var(--chart-2))"},maintenance:{label:"متأخرة",color:"#FBB90D"},broken:{label:"ملغي",color:"#D05759"},maintenance_completed:{label:"الخدمات",color:"hsl(var(--chart-3))"}};return e.jsxs("div",{className:"flex flex-col justify-between p-4 shadow-[0px_2px_12px_0px_#14142B14] rounded-[0.5rem]",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[e.jsx(d,{text:"حالة المرتجعات"}),e.jsx(m,{options:[{label:"يومي",value:"يومي"},{label:"أسبوعي ",value:"أسبوعي "},{label:"شهري",value:"شهري"},{label:"سنوي",value:"سنوي"}],value:t,onValueChange:r,placeholder:"القائمة",width:"min-w-[101px]"})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between mb-8",children:[e.jsx(k,{text:i}),e.jsx(_,{chartData:n,chartConfig:c})]})]})}const P=({stats:a,customersStatsPeriod:s,setCustomersStatsPeriod:t})=>{let r=[];a!=null&&a.new_customers&&(r=Object.entries(a==null?void 0:a.new_customers).map(([i,c])=>({days:i,visitors:c})));const n={visitors:{label:"الأيام",color:"hsl(var(--yellow-warning-500))"}};return e.jsxs("div",{className:"shadow-[0px_2px_12px_0px_#14142B14] rounded-[0.5rem]",children:[e.jsxs("div",{className:"px-4 pt-4 flex flex-row justify-between mb-10",children:[e.jsx(d,{text:"إجمالي المرتجعات"}),e.jsx(m,{options:[{label:"يومي",value:"daily"},{label:"أسبوعي ",value:"weekly "},{label:"شهري",value:"monthly"}],value:s,onValueChange:t,placeholder:"القائمة",width:"min-w-[101px]"})]}),e.jsx("div",{className:"ps-6 pb-4 flex flex-row items-center justify-center gap-6",children:e.jsx(w,{chartConfig:n,chartData:r})})]})};function K(){const[a,s]=l.useState(null),[t,r]=l.useState("daily");return l.useEffect(()=>{(async()=>{try{const i=await p({endpoint:f.customer.dashboardNewCustomers,queryParams:{period:t}});s(i.data.data)}catch{s(null)}})()},[t]),e.jsxs("div",{className:"mt-6 grid custom-grid-big gap-6 justify-center sm:justify-between",children:[e.jsx(B,{}),e.jsx(P,{stats:a,customersStatsPeriod:t,setCustomersStatsPeriod:r})]})}export{K as C};
//# sourceMappingURL=ChartsComponent-kpSsDVJi.js.map
