import{j as e,k as u,d as g,I as h,S as b,r as i,e as f}from"./index-CG21Kl6L.js";import{b as j}from"./axios-utils-DWLLXNPU.js";import{D as y}from"./data-table-q2Kgxvnv.js";import{T as v}from"./TrashIcon-B-yPmS4K.js";import{A as x}from"./ArrowBackIcon-D47HpoSm.js";import{U as N}from"./UnderlineHeading-6dFpHrZu.js";import{C as w}from"./Dropdown-9zztjWeh.js";import{E,a as C}from"./jspdf.plugin.autotable-DHPWFDOB.js";import"./table-VHWg2bm3.js";import"./CustomPagination-CEeDQMqo.js";import"./pagination-B5K0ldzO.js";import"./chevron-right-ofNdHrp6.js";import"./chevron-left-Dd3efAkK.js";import"./Combination-CF6sjIQ5.js";import"./index-DKOmws7K.js";import"./index-CVxAI6rk.js";import"./index-BuoIejD9.js";import"./index-Iw2dua5F.js";const k=({row:t})=>(g(),e.jsxs("div",{className:"me-6 text-end flex flex-row items-center justify-end gap-6",children:[e.jsx("button",{className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(x,{className:"text-primery-blue-400 cursor-pointer",width:"20",height:"20"})}),e.jsx("button",{className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(v,{className:"text-[#E81E1E] cursor-pointer"})})]})),D=[{accessorKey:"rent",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"العميل / الجهة"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:t.original.customer.full_name})},{accessorKey:"phone",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ بداية التعاقد"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:"24/11/2024"})},{accessorKey:"phone",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ نهاية التعاقد"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:"24/11/2024"})},{accessorKey:"service",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"حالة التعاقد"}),cell:({row:t})=>e.jsx("div",{className:"text-xs font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:u("p-1 w-fit rounded-sm",{"bg-[#DAF8E6] text-[#1A8245]":t.original.status==="completed","bg-[#FFFBEB] text-[#D97706]":t.original.status==="pending","bg-[#FEEBEB] text-[#E10E0E]":t.original.status==="rejected"}),children:t.original.status})})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تصدير"}),cell:({row:t})=>e.jsx(k,{row:t})}];function _({data:t}){const r=()=>{const s=new E;s.setFontSize(16),s.text("customers information",105,20,{align:"center"}),s.setLanguage("ar");const l=t.map(a=>[(a==null?void 0:a.name)||"N/A",(a==null?void 0:a.email)||"N/A",(a==null?void 0:a.department)||"N/A"]);C(s,{startY:30,head:[["name","email","job"]],body:l,styles:{halign:"center"},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[240,240,240]}}),s.save("employees_statistics.pdf")};return e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border hover:bg-primery-blue-100 border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(x,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})}function A({globalFilter:t,setGlobalFilter:r,filters:s,setFilters:l,data:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(N,{text:"أرشيف التعاقدات"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(h,{placeholder:"ابحث باسم العميل",value:t,onChange:n=>r(n.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(b,{className:"text-white-blue-800"})})]}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(w,{value:(s==null?void 0:s.status)||"",onValueChange:n=>{l({...s,status:n})},placeholder:"فلتر",width:"min-w-[77px]",options:[{label:"فلتر",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})}),e.jsx(_,{data:a})]})]})})}function F(){const[t,r]=i.useState([]),[s,l]=i.useState(0),[a,n]=i.useState(0),[p,m]=i.useState(!1),d=i.useCallback(async c=>{m(!0);try{const o=await j({endpoint:f.contract.paginate,queryParams:{page:c.pageIndex+1,...c.filters,search:c.globalFilter}});r(o.data.data.data),l(Math.ceil(o.data.data.pagination.total/10)),n(o.data.data.pagination.total)}catch(o){console.error("Error fetching data:",o)}finally{m(!1)}},[]);return e.jsx("div",{className:"mt-6 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(y,{columns:D,data:t,pageCount:s,totalCount:a,onFetchData:d,DataTableToolbar:A,isLoading:p})})}function Q(){return e.jsx("div",{className:"w-full mt-6 mb-20",children:e.jsx(F,{})})}export{Q as default};
//# sourceMappingURL=ContractArchive-CUEmeWZZ.js.map
