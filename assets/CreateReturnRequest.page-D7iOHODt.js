import{j as s,r as t,d as F,e as h}from"./index-CG21Kl6L.js";import{u as T,t as k,F as E}from"./index-CVKxZN6H.js";import{P as g}from"./PrimaryButton-CqSNXaEZ.js";import{a as M}from"./axios-utils-DWLLXNPU.js";import{S as y}from"./SecondaryButton-C8PAsQMM.js";import{C as R}from"./CancelPopup-DkpTHoXx.js";import{M as S}from"./MainHeading-D0_31WmT.js";import{A as _}from"./add-maintenance-center-schema-1YmsfeYs.js";import{S as H}from"./SuccessPopup-CoLlaGCA.js";import{D as i}from"./DateInputForm-Bteneik4.js";import{T as e}from"./TextInputForm-ML6m37PA.js";import{T as q}from"./TextAreaInputForm-DDtw8I0I.js";import{S as D}from"./SubtleButton-CIWvV8XM.js";import{U as L}from"./UnderlineHeading-6dFpHrZu.js";import{I as U}from"./ImportIcon-DAcZLaTm.js";import"./index-DKOmws7K.js";import"./dialog-BNTutzAA.js";import"./Combination-CF6sjIQ5.js";import"./index-BuoIejD9.js";import"./SuccessIcon-kUOFEumJ.js";import"./popover-GWOz0UH_.js";import"./format-D6Kkl3rb.js";import"./chevron-right-ofNdHrp6.js";import"./chevron-left-Dd3efAkK.js";import"./index-CVxAI6rk.js";import"./select-cvP0Sup0.js";import"./CalendarIcon-vdySZVWB.js";import"./textarea-C5nh8QJ5.js";function O(){return s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(e,{name:"name",label:"اسم العميل",placeholder:"اختر اسم العميل"}),s.jsx(e,{name:"name2",label:"كود العميل",placeholder:"899657"}),s.jsx(i,{name:"",label:"تاريخ الفاتورة",placeholder:"2025/05/30"}),s.jsx(e,{name:"",label:"مسئول المبيعات",placeholder:"محمد علي"}),s.jsx(i,{name:"",label:"تاريخ الاصدار",placeholder:"2025/05/30"}),s.jsx(e,{name:"name",label:"قيمة الفاتورة",placeholder:"200 ر.س"}),s.jsx(i,{name:"",label:"تاريخ الارجاع",placeholder:"2025/05/20"}),s.jsx(e,{name:"name",label:"طريقة الارجاع",placeholder:"كاش"})]})}function V(){return s.jsx("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6"})}function n({maintenanceCenter:o}){const[m,x]=t.useState(null),[d,c]=t.useState(!1),[N,a]=t.useState(!1),[v,p]=t.useState(!1),f=F(),w=t.useMemo(()=>({name:(o==null?void 0:o.name)||"",location:(o==null?void 0:o.location)||void 0,contact_number:(o==null?void 0:o.contact_number)||"",description:(o==null?void 0:o.description)||"",status:(o==null?void 0:o.status)||void 0,contract_status:(o==null?void 0:o.contract_status)||void 0,features:(o==null?void 0:o.features)||[]}),[o]),u=T({resolver:k(_),defaultValues:w}),A=()=>{a(!1)},I=async B=>{var b,j;c(!0),x(null);try{await M({endpoint:o?h.maintenanCenter.update+o.id:h.maintenanCenter.create,body:B,config:{headers:{"Content-Type":"multipart/form-data"}}}),a(!0)}catch(l){if((j=(b=l.response)==null?void 0:b.data)!=null&&j.errors)Object.entries(l.response.data.errors).forEach(([r,P])=>{u.setError(r,{type:"manual",message:P.join(", ")})});else{let r="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";l.response?r=l.response.data.msg||r:l.request&&(r="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),x(r)}}finally{c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(E,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(I),className:"mb-8",children:[s.jsx(S,{text:"معلومات الفاتورة"}),s.jsx(O,{}),s.jsx(S,{text:"بنود الفاتورة"}),s.jsx(V,{}),s.jsx(q,{className:"flex flex-col min-h-[157px]",name:"الوصف",label:"الوصف",placeholder:"ادخل الوصف"}),m&&s.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:m}),s.jsx("button",{onClick:()=>x(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),s.jsxs("div",{className:"flex flex-row justify-end items-center mt-8",children:[o?s.jsx(y,{type:"button",className:"xl:px-[101px] xl:py-[18px] text-[#A21515] border border-red-error-50 xl:font-bold bg-red-error-50",onClick:()=>p(!0),children:"إلغاء الطلب"}):s.jsx(y,{type:"button",className:"xl:px-[64.5px] xl:py-[18px] border border-r-red-error-50 bg-red-error-50 text-[#A21515] xl:font-bold",onClick:()=>p(!0),children:"الغاء"}),s.jsx("div",{children:o?s.jsx(g,{className:"xl:px-[107px] xl:py-[18px] xl:font-bold ms-6",disabled:d,children:d?"جاري التحميل...":"حفظ التغييرات"}):s.jsx(g,{className:"xl:px-[107px] xl:py-[18px] xl:font-bold ms-6",disabled:d,children:d?"جاري التحميل...":"انشاء طلب مرتجع"})})]})]})}),s.jsx(R,{open:v,onClickButton1:()=>{p(!1)},onClickButton2:()=>{f("/maintenance/centers"),p(!1)},text1:o?"إلغاء تعديل بيانات مركز صيانة":"إلغاء إضافة مركز صيانة",text2:o?"أنت على وشك إلغاء عملية تعديل بيانات مركز صيانة دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟":"أنت على وشك إلغاء عملية إضافة مركز صيانة دون إكمال البيانات المطلوبة. سيتم تجاهل جميع البيانات المدخلة، هل أنت متأكد؟",textButton1:"إكمال الطلب",textButton2:"إلغاء الطلب"}),s.jsx(H,{open:N,text1:o?"تم تعديل بيانات مركز الصيانة بنحاح":"تم إضافة مركز صيانة جديد",text2:o?"تم تعديل بيانات مركز الصيانة":"تم تسجيل بيانات مركز الصيانة",textButton1:"العودة لقائمة مراكز الصيانة",textButton2:o?"تعديل بيانات اخرى":"انشاء مركز صيانة اخر",onAddAnother:A,onReturnToList:()=>{f("/maintenance/centers"),a(!1)}})]})}const z=()=>s.jsxs("div",{className:"flex flex-row justify-between mb-6",children:[s.jsx(L,{text:"انشاء طلب مرتجع"}),s.jsxs(D,{className:"bg-primery-blue-50 text-base font-medium leading-[125%] text-primery-blue-500 border border-primery-blue-50",children:[s.jsx(U,{}),"استيراد ملف بيانات"]})]});function gs(){return s.jsxs("div",{className:"mt-6 w-full",children:[s.jsx(z,{}),s.jsx(n,{})]})}export{gs as default};
//# sourceMappingURL=CreateReturnRequest.page-D7iOHODt.js.map
