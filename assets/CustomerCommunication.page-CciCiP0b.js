import{j as e,I as h,S as j,L as f,d as C,r as n,e as d}from"./index-BYyXun5x.js";import{b as m}from"./axios-utils-AvuZ81CO.js";import{U as b}from"./UnderlineHeading-ByjNC2ge.js";import{P as k}from"./PrimaryButton-CZnRZgcz.js";import{A as x}from"./AddIcon-B_YFP14b.js";import{A as v}from"./ArrowBackIcon-DM4diopZ.js";import{C as y}from"./Dropdown-DI0KLpyc.js";import{D as N}from"./data-table-G-GPousO.js";import{S as w}from"./StatisticsCards-B_8i9ipX.js";import{S as L}from"./SettingIcon-Cac9EoGa.js";import{U as _}from"./UserAddIcon-DyIpALsg.js";import"./Combination-cklTRtAe.js";import"./index-CV4wEvKw.js";import"./index-Gk0NKYh3.js";import"./index-CLYNl1a9.js";import"./index-DEdjAgo6.js";import"./chevron-right-CymCusjh.js";import"./table-Dfhf1Bk7.js";import"./CustomPagination-BD2pf3AX.js";import"./pagination-DR230PoL.js";import"./chevron-left-DVnc3BG0.js";function S({globalFilter:t,setGlobalFilter:a,filters:s,setFilters:o}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(b,{text:"قائمة الرسائل"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(h,{placeholder:"ابحث باسم العميل",value:t,onChange:r=>a(r.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(j,{className:"text-white-blue-800"})})]}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(y,{value:(s==null?void 0:s.status)||"",onValueChange:r=>{o({...s,status:r})},placeholder:"الحالة",width:"min-w-[77px]",options:[{label:"الحالة",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})}),e.jsx("div",{children:e.jsx(f,{to:"/customer-relations/customer-communication/add-message",children:e.jsxs(k,{className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(x,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"انشاء رسالة"})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(v,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})]})]})})}const M=({width:t="20",height:a="21",className:s=""})=>e.jsx("span",{className:s,children:e.jsxs("svg",{width:t,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M14.9834 9.32371V12.657C14.9834 12.8737 14.9751 13.082 14.9501 13.282C14.7584 15.532 13.4334 16.6487 10.9917 16.6487H10.6584C10.4501 16.6487 10.2501 16.7487 10.1251 16.9154L9.12509 18.2487C8.68342 18.8404 7.96675 18.8404 7.52508 18.2487L6.52507 16.9154C6.41674 16.7737 6.17508 16.6487 5.99175 16.6487H5.65842C3.00009 16.6487 1.66675 15.9904 1.66675 12.657V9.32371C1.66675 6.88204 2.79176 5.55704 5.03342 5.36537C5.23342 5.34037 5.44176 5.33203 5.65842 5.33203H10.9917C13.6501 5.33203 14.9834 6.66537 14.9834 9.32371Z",stroke:"#145DA0",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M18.3168 5.99167V9.32501C18.3168 11.775 17.1918 13.0917 14.9501 13.2833C14.9751 13.0833 14.9834 12.875 14.9834 12.6583V9.32501C14.9834 6.66667 13.6501 5.33333 10.9918 5.33333H5.65845C5.44178 5.33333 5.23345 5.34167 5.03345 5.36667C5.22511 3.12501 6.55011 2 8.99178 2H14.3251C16.9834 2 18.3168 3.33334 18.3168 5.99167Z",stroke:"#145DA0",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M11.2462 11.3737H11.2537",stroke:"#145DA0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8.32966 11.3737H8.33716",stroke:"#145DA0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5.41292 11.3737H5.42042",stroke:"#145DA0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),D=({row:t})=>{const a=C();return e.jsxs("div",{className:"me-6 text-end flex flex-row items-center justify-end gap-7",children:[e.jsx("button",{onClick:()=>a(`/customer-relations/customer-communication/add-message/${t.original.id}`),className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(x,{className:"text-green-success-600"})}),e.jsx("button",{className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(M,{className:"text-primery-blue-500"})})]})},H=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"ID"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:t.original.id})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"اسم العميل"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:t.original.full_name})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"رقم الهاتف"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.phone})},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"عدد الرسائل المرسلة"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.sms_count+t.original.email_count})},{accessorKey:"service",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"عدد الرسائل النصية"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.sms_count})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"عدد رسائل الإيميل"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.email_count})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"للاطلاع على الرسائل"}),cell:({row:t})=>e.jsx(D,{row:t})}];function A(){const[t,a]=n.useState([]),[s,o]=n.useState(0),[r,p]=n.useState(0),[u,c]=n.useState(!1),g=n.useCallback(async l=>{c(!0);try{const i=await m({endpoint:d.cutomerContact.list,queryParams:{page:l.pageIndex+1,...l.filters,search:l.globalFilter}});a(i.data.data.data),o(Math.ceil(i.data.data.pagination.total/10)),p(i.data.data.pagination.total)}catch(i){console.error("Error fetching data:",i)}finally{c(!1)}},[]);return e.jsx("div",{className:"mb-10 mt-4 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(N,{columns:H,data:t,pageCount:s,totalCount:r,onFetchData:g,DataTableToolbar:S,isLoading:u})})}function I({width:t="40",height:a="40",className:s=""}){return e.jsx("span",{className:s,children:e.jsxs("svg",{width:t,height:a,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{opacity:"0.4",d:"M29.9668 17.9833V24.65C29.9668 25.0833 29.9502 25.5 29.9002 25.9C29.5168 30.4 26.8668 32.6333 21.9835 32.6333H21.3168C20.9002 32.6333 20.5002 32.8333 20.2502 33.1667L18.2502 35.8333C17.3668 37.0167 15.9335 37.0167 15.0502 35.8333L13.0501 33.1667C12.8335 32.8833 12.3502 32.6333 11.9835 32.6333H11.3168C6.00018 32.6333 3.3335 31.3167 3.3335 24.65V17.9833C3.3335 13.1 5.58351 10.45 10.0668 10.0667C10.4668 10.0167 10.8835 10 11.3168 10H21.9835C27.3002 10 29.9668 12.6667 29.9668 17.9833Z",fill:"#011014"}),e.jsx("path",{d:"M16.6501 23.3333C15.7167 23.3333 14.9834 22.5833 14.9834 21.6667C14.9834 20.75 15.7334 20 16.6501 20C17.5667 20 18.3167 20.75 18.3167 21.6667C18.3167 22.5833 17.5834 23.3333 16.6501 23.3333Z",fill:"#011014"}),e.jsx("path",{d:"M22.4831 23.3333C21.5497 23.3333 20.8164 22.5833 20.8164 21.6667C20.8164 20.75 21.5664 20 22.4831 20C23.3997 20 24.1497 20.75 24.1497 21.6667C24.1497 22.5833 23.3997 23.3333 22.4831 23.3333Z",fill:"#011014"}),e.jsx("path",{d:"M10.8332 23.3333C9.89984 23.3333 9.1665 22.5833 9.1665 21.6667C9.1665 20.75 9.9165 20 10.8332 20C11.7498 20 12.4998 20.75 12.4998 21.6667C12.4998 22.5833 11.7498 23.3333 10.8332 23.3333Z",fill:"#011014"}),e.jsx("path",{d:"M36.6336 11.3173V17.984C36.6336 22.884 34.3836 25.5173 29.9002 25.9007C29.9502 25.5007 29.9669 25.084 29.9669 24.6507V17.984C29.9669 12.6673 27.3002 10.0007 21.9836 10.0007H11.3169C10.8836 10.0007 10.4669 10.0173 10.0669 10.0673C10.4502 5.584 13.1002 3.33398 17.9836 3.33398H28.6502C33.9669 3.33398 36.6336 6.00067 36.6336 11.3173Z",fill:"#011014"})]})})}function E(){const[t,a]=n.useState(null);n.useEffect(()=>{(async()=>{try{const r=await m({endpoint:d.cutomerContact.dashboard});a(r.data.data)}catch{a(null)}})()},[]);const s=[{text:"عدد الرسائل المرسله",icon:e.jsx(I,{}),num:t==null?void 0:t.total,percent:0},{text:"رسائل الإيميل",icon:e.jsx(_,{}),num:t==null?void 0:t.msg_email,percent:0},{text:"رسائل نصية SMS",icon:e.jsx(L,{}),num:t==null?void 0:t.msg_sms,percent:0}];return e.jsx(w,{cards:s})}function ae(){return e.jsxs("div",{className:"mt-6 w-full",children:[e.jsx(E,{}),e.jsx(A,{})]})}export{ae as default};
//# sourceMappingURL=CustomerCommunication.page-CciCiP0b.js.map
