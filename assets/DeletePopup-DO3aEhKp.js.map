{"version":3,"file":"DeletePopup-DO3aEhKp.js","sources":["../../src/components/Popups/DeletePopup.tsx"],"sourcesContent":["import { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport { SecondaryButton } from '@/components/buttons/SecondaryButton';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { apiDelete } from '@/lib/axios/axios-utils';\r\nimport { cn } from '@/lib/utils';\r\nimport { useState } from 'react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    endpoint: string;\r\n    text: string;\r\n    handleCancel: () => void;\r\n    handleSuccess: () => void;\r\n}\r\n\r\nconst DeletePopup = ({ open, text, endpoint, handleCancel, handleSuccess }: Props) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            await apiDelete({\r\n                endpoint,\r\n            });\r\n\r\n            handleSuccess();\r\n        } catch (error: any) {\r\n            // Handle error\r\n            let errorMessage = 'حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.';\r\n\r\n            if (error.response) {\r\n                // Server responded with error status (4xx, 5xx)\r\n                errorMessage = error.response.data.msg || errorMessage;\r\n            } else if (error.request) {\r\n                // Request was made but no response received\r\n                errorMessage = 'تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.';\r\n            }\r\n            toast(errorMessage);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    return (\r\n        <Dialog open={open}>\r\n            <div\r\n                className={cn('fixed inset-0 bg-black/50 z-[999]', {\r\n                    '!hidden': !open,\r\n                })}\r\n            />\r\n            <DialogContent\r\n                showCloseButton={false}\r\n                className=\"z-[1000] max-w-lg rounded-lg p-10 bg-white-blue-50 font-cairo gap-16 [&_[aria-label=Close]]:opacity-0\"\r\n            >\r\n                <DialogHeader className=\"flex flex-col items-center\">\r\n                    <DialogTitle className=\"text-center text-red-error-600 font-bold text-[22px] leading-[33px] tracking-normal\">\r\n                        {text}\r\n                    </DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <div className=\"flex flex-row gap-3\">\r\n                    <PrimaryButton\r\n                        onClick={() => handleDelete()}\r\n                        className=\"w-full text-base bg-red-error-100 hover:bg-red-error-600 leading-5 tracking-normal font-medium py-[10px]\"\r\n                    >\r\n                        {loading ? 'جاري الحذف...' : 'حذف'}\r\n                    </PrimaryButton>\r\n                    <SecondaryButton\r\n                        onClick={handleCancel}\r\n                        className=\"w-full text-base bg-white-blue-50 hover:bg-white-blue-300 text-gray-500 leading-5 tracking-normal py-[10px] font-medium\"\r\n                    >\r\n                        إلغاء\r\n                    </SecondaryButton>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default DeletePopup;\r\n"],"names":["DeletePopup","open","text","endpoint","handleCancel","handleSuccess","loading","setLoading","useState","handleDelete","apiDelete","error","errorMessage","toast","jsxs","Dialog","jsx","cn","DialogContent","DialogHeader","DialogTitle","PrimaryButton","SecondaryButton"],"mappings":"sQAgBM,MAAAA,EAAc,CAAC,CAAE,KAAAC,EAAM,KAAAC,EAAM,SAAAC,EAAU,aAAAC,EAAc,cAAAC,KAA2B,CAClF,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAK,EAEtCC,EAAe,SAAY,CAC7BF,EAAW,EAAI,EAEX,GAAA,CACA,MAAMG,EAAU,CACZ,SAAAP,CAAA,CACH,EAEaE,EAAA,QACTM,EAAY,CAEjB,IAAIC,EAAe,wDAEfD,EAAM,SAESC,EAAAD,EAAM,SAAS,KAAK,KAAOC,EACnCD,EAAM,UAEEC,EAAA,0DAEnBC,EAAMD,CAAY,CAAA,QACpB,CACEL,EAAW,EAAK,CAAA,CAExB,EAEI,OAAAO,OAACC,GAAO,KAAAd,EACJ,SAAA,CAAAe,EAAA,IAAC,MAAA,CACG,UAAWC,EAAG,oCAAqC,CAC/C,UAAW,CAAChB,CACf,CAAA,CAAA,CACL,EACAa,EAAA,KAACI,EAAA,CACG,gBAAiB,GACjB,UAAU,wGAEV,SAAA,CAACF,EAAAA,IAAAG,EAAA,CAAa,UAAU,6BACpB,SAAAH,EAAA,IAACI,GAAY,UAAU,sFAClB,WACL,CACJ,CAAA,EAEAN,EAAAA,KAAC,MAAI,CAAA,UAAU,sBACX,SAAA,CAAAE,EAAA,IAACK,EAAA,CACG,QAAS,IAAMZ,EAAa,EAC5B,UAAU,2GAET,WAAU,gBAAkB,KAAA,CACjC,EACAO,EAAA,IAACM,EAAA,CACG,QAASlB,EACT,UAAU,0HACb,SAAA,OAAA,CAAA,CAED,CACJ,CAAA,CAAA,CAAA,CAAA,CACJ,EACJ,CAER"}