{"version":3,"file":"EditCustomer.page-dQwMIj3S.js","sources":["../../src/features/customerRelations/pages/EditCustomer.page.tsx"],"sourcesContent":["import { SubtleButton } from '@/components/buttons/SubtleButton';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport AddCustomerForm from '../forms/addCustomer/AddCustomerForm';\r\nimport { LoadingSpinner } from '@/components/Loading/LoadingSpinner';\r\nimport { useEffect, useState } from 'react';\r\nimport { Customer } from '@/types/customer.types';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\n\r\nexport default function EditCustomerPage() {\r\n    const params = useParams();\r\n    const { id } = params;\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [customer, setCustomer] = useState<Customer | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCustomer = async () => {\r\n            try {\r\n                const response = await apiGet({\r\n                    endpoint: endpoints.customer.show + id,\r\n                });\r\n                setCustomer(response.data.data);\r\n            } catch (error) {\r\n                setError('Failed to load customer details');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        if (id) {\r\n            fetchCustomer();\r\n        } else {\r\n            setError('Invalid customer ID');\r\n            setLoading(false);\r\n        }\r\n    }, [id]);\r\n\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl text-red-500\">{error}</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!customer) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl\">Customer not found</h2>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"w-full mt-6\">\r\n            <div className=\"flex flex-row justify-between mb-6\">\r\n                <UnderlineHeading text=\"اضافة عميل\" />\r\n                <Link to=\"/customer-relations\">\r\n                    <SubtleButton>عودة للقائمة الرئيسية</SubtleButton>\r\n                </Link>\r\n            </div>\r\n            <AddCustomerForm customer={customer} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["EditCustomerPage","params","useParams","id","loading","setLoading","useState","error","setError","customer","setCustomer","useEffect","response","apiGet","endpoints","LoadingSpinner","jsx","jsxs","UnderlineHeading","Link","SubtleButton","AddCustomerForm"],"mappings":"oxBAUA,SAAwBA,GAAmB,CACvC,MAAMC,EAASC,EAAU,EACnB,CAAE,GAAAC,GAAOF,EACT,CAACG,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAI,EACrC,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAwB,IAAI,EAChD,CAACG,EAAUC,CAAW,EAAIJ,EAAAA,SAA0B,IAAI,EAuB9D,OArBAK,EAAAA,UAAU,IAAM,CAaRR,GAZkB,SAAY,CAC1B,GAAA,CACM,MAAAS,EAAW,MAAMC,EAAO,CAC1B,SAAUC,EAAU,SAAS,KAAOX,CAAA,CACvC,EACWO,EAAAE,EAAS,KAAK,IAAI,OAClB,CACZJ,EAAS,iCAAiC,CAAA,QAC5C,CACEH,EAAW,EAAK,CAAA,CAExB,GAEkB,GAEdG,EAAS,qBAAqB,EAC9BH,EAAW,EAAK,EACpB,EACD,CAACF,CAAE,CAAC,EAEHC,QACQW,EAAe,EAAA,EAGvBR,EAEIS,EAAA,IAAC,OAAI,UAAU,oCACX,eAAC,KAAG,CAAA,UAAU,uBAAwB,SAAAT,CAAA,CAAM,CAChD,CAAA,EAIHE,EAQDQ,EAAA,KAAC,MAAI,CAAA,UAAU,cACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,qCACX,SAAA,CAACD,EAAAA,IAAAE,EAAA,CAAiB,KAAK,YAAa,CAAA,QACnCC,EAAK,CAAA,GAAG,sBACL,SAACH,EAAA,IAAAI,EAAA,CAAa,gCAAqB,CAAA,CACvC,CAAA,CAAA,EACJ,EACAJ,MAACK,GAAgB,SAAAZ,CAAoB,CAAA,CAAA,EACzC,EAdIO,EAAA,IAAC,OAAI,UAAU,oCACX,eAAC,KAAG,CAAA,UAAU,UAAU,SAAA,oBAAA,CAAkB,CAC9C,CAAA,CAcZ"}