import{j as e,I as p,S as u,L as g,m as h,d as b,r as i,e as f}from"./index-BYyXun5x.js";import{b as y}from"./axios-utils-AvuZ81CO.js";import{U as j}from"./UnderlineHeading-ByjNC2ge.js";import{P as N}from"./PrimaryButton-CZnRZgcz.js";import{A as v}from"./AddIcon-B_YFP14b.js";import{C as w}from"./Dropdown-DI0KLpyc.js";import{A as k}from"./ArrowBackIcon-DM4diopZ.js";import{E as C,a as _}from"./jspdf.plugin.autotable-ljygzmMq.js";import{C as E}from"./CircularProgress-CmGGO_gc.js";import{E as D}from"./EditIcon-CtwPxlIY.js";import{V as A}from"./ViewIcon-BBp0OIKk.js";import{f as S}from"./format-D6Kkl3rb.js";import{D as I}from"./data-table-G-GPousO.js";function P({data:t}){const s=()=>{const r=new C;r.setFontSize(16),r.text("customers information",105,20,{align:"center"}),r.setLanguage("ar");const l=t.map(a=>[(a==null?void 0:a.name)||"N/A",(a==null?void 0:a.email)||"N/A",(a==null?void 0:a.department)||"N/A"]);_(r,{startY:30,head:[["name","email","job"]],body:l,styles:{halign:"center"},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[240,240,240]}}),r.save("employees_statistics.pdf")};return e.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border hover:bg-primery-blue-100 border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(k,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})}function T({globalFilter:t,setGlobalFilter:s,filters:r,setFilters:l,data:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(j,{text:"قائمة الموظفين"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(p,{placeholder:"ابحث باسم العميل",value:t,onChange:n=>s(n.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(u,{className:"text-white-blue-800"})})]}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(w,{value:(r==null?void 0:r.status)||"",onValueChange:n=>{l({...r,status:n})},placeholder:"فلتر",width:"min-w-[77px]",options:[{label:"فلتر",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})}),e.jsx("div",{children:e.jsx(g,{to:"/human-resources/add-employee",children:e.jsxs(N,{className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(v,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"إضافة موظف"})]})})}),e.jsx(P,{data:a})]})]})})}const F=({row:t})=>{const s=b();return e.jsxs("div",{className:"me-6 text-end flex flex-row items-center justify-end gap-6",children:[e.jsx("button",{onClick:()=>s(`/human-resources/employee/${t.original.id}/edit`),className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(D,{className:"text-primery-blue-400"})}),e.jsx("button",{onClick:()=>s(`/human-resources/employee/${t.original.id}`),className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(A,{className:"text-primery-blue-400"})})]})},K=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"اسم الموظف"}),cell:({row:t})=>e.jsxs("div",{className:"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:[e.jsx("img",{src:h,alt:"",className:"rounded-full w-10 h-10 object-cover"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"tracking-normal text-primery-blue-900 font-medium text-sm",children:t.original.name}),e.jsxs("p",{className:"tracking-normal text-white-blue-800 font-normal text-sm",children:[" ",t.original.email]})]})]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ التعيين"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:S(t.original.created_at,"yyyy-MM-dd")})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal text-nowrap",children:"نسبة الحضور"}),cell:({row:t})=>{var s;return e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:e.jsx(E,{size:48,percentage:(s=t.original)==null?void 0:s.current_month_attendance_average})})}},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal text-nowrap",children:"الدرجة الوظيفية"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.position})},{accessorKey:"service",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"القسم"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.department})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal text-nowrap",children:"حالة العمل"}),cell:({row:t})=>e.jsx("div",{className:"text-xs text-[#22AD5C] font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:"border border-[#22AD5C] p-1 w-fit rounded-sm",children:t.original.contract_type})})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal"}),cell:({row:t})=>e.jsx(F,{row:t})}];function O(){const[t,s]=i.useState([]),[r,l]=i.useState(0),[a,n]=i.useState(0),[x,c]=i.useState(!1),d=i.useCallback(async m=>{c(!0);try{const o=await y({endpoint:f.employee.list,queryParams:{page:m.pageIndex+1,...m.filters,search:m.globalFilter}});s(o.data.data.data),l(Math.ceil(o.data.data.pagination.total/10)),n(o.data.data.pagination.total)}catch(o){console.error("Error fetching data:",o)}finally{c(!1)}},[]);return e.jsx("div",{className:"mt-6 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(I,{columns:K,data:t,pageCount:r,totalCount:a,onFetchData:d,DataTableToolbar:T,isLoading:x})})}export{O as E};
//# sourceMappingURL=EmployeesList-CbV-IDie.js.map
