import{r as b,j as e}from"./index-BYyXun5x.js";import{f as C,a as L,b as N,c as F,d as A,e as P}from"./index-C2_QJ2lf.js";import{u as D}from"./index-BUOh6qUH.js";import{S as R}from"./SecondaryButton-DL_Bkgwn.js";import{r as V}from"./removeDuplicated-BgoSiW5F.js";const S=({className:h,name:t,label:x,maxSize:f,multiple:l,editImages:s})=>{const{control:j,setValue:i,watch:c,getValues:u}=C(),[v,d]=b.useState([]),y=r=>{const o=u(t),a=Array.isArray(o)?o.filter((m,p)=>p!==r):[];i(t,a,{shouldValidate:!0}),d(m=>m.filter((w,n)=>(n===r&&URL.revokeObjectURL(m[n]),n!==r)))},k=(r,o)=>{if(l&&s){const a=u(o),p=[...Array.isArray(a)?a:[],...r];i(o,V(p),{shouldValidate:!0});const w=r.map(n=>URL.createObjectURL(n));d(n=>[...n,...w])}else i(o,l?r:r[0],{shouldValidate:!0}),d(r.map(a=>URL.createObjectURL(a)))},g=c(t);return b.useEffect(()=>{(!g||g.length===0)&&d([])},[g]),b.useEffect(()=>{s&&(i(t,s,{shouldValidate:!0}),d(Array.isArray(s)?s:[s]))},[]),e.jsx(L,{control:j,name:t,render:({field:r})=>e.jsxs(N,{className:h,children:[e.jsx(F,{className:"text-primery-blue-900 font-medium text-[18px] leading-[33.73px] tracking-normal text-start",children:x}),e.jsx(A,{children:e.jsx(U,{onDrop:o=>k(o,t),acceptedFiles:r.value,previews:v,maxSize:f,multiple:l,removeImage:y})}),e.jsx(P,{})]})})};function U({onDrop:h,previews:t,maxSize:x,multiple:f,removeImage:l}){const{getRootProps:s,getInputProps:j}=D({onDrop:h,accept:{"application/pdf":[],"image/*":[]},multiple:f,maxSize:x});return e.jsxs("div",{...s(),className:"border-2 border-dashed border-primery-blue-500 rounded-lg p-4 text-center cursor-pointer",children:[e.jsx("input",{...j()}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row items-center justify-between text-base leading-5 tracking-normal font-medium",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2 mb-5",children:[e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10.7521 23.4006C10.366 25.0819 8.41456 26.783 6.31738 25.3982C6.31738 25.3982 7.67526 26.605 10.4333 26.605H22.4646C23.9666 26.605 25.2654 25.5577 25.5843 24.0894L27.0886 16.6907C27.5357 14.373 26.0064 13.2734 23.9703 13.2734H15.5231C14.0248 13.2734 12.7272 14.3158 12.4059 15.7791L10.7521 23.4006Z",stroke:"#145DA0",strokeWidth:"1.44",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M10.4339 26.6056C6.46498 26.6056 4.12744 24.2731 4.12744 20.314V11.685C4.12744 7.73098 5.58202 5.39844 9.54101 5.39844H11.754C12.5485 5.39844 13.2958 5.77329 13.7715 6.40842L14.7815 7.75215C15.2597 8.38605 16.0081 8.75965 16.8026 8.76214H18.6707C22.0917 8.76214 23.6522 10.2628 24.017 13.2641",stroke:"#145DA0",strokeWidth:"1.44",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{className:"font-medium text-sm text-[#2D2D3A]",children:"قم برفع ملف أو قم سحبه هنا"})]}),e.jsx(R,{type:"button",className:"h-[30px]",children:"اختيار الملف"})]}),e.jsx("div",{className:"flex flex-row justify-center gap-2 border-2 border-dashed border-primery-blue-500 rounded-lg p-8",children:t==null?void 0:t.map((i,c)=>e.jsxs("div",{className:"relative group flex flex-col items-center text-sm text-muted-foreground",children:[e.jsx("img",{src:i,alt:`Preview ${c+1}`,className:"w-20 h-20 object-cover rounded-md"}),e.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),l(c)},className:"absolute w-6 h-6 top-1 start-1 bg-red-error-600 text-white-blue-50 p-1 rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"✕"})]},c))}),e.jsx("div",{children:e.jsxs("ul",{className:"text-xs leading-[22.5px] font-medium tracking-normal text-start text-[#90868C] list-[square] marker:text-[8px] ps-5 mt-2",children:[e.jsxs("li",{children:["اقصى حجم ",e.jsxs("span",{className:"font-bold ms-[2px]",children:[x/1024/1024,"MB"]})]}),e.jsxs("li",{children:["الملفات المسموح بها",e.jsx("span",{className:"font-bold ms-[2px]",children:"pdf"})]})]})})]})]})}export{S as F};
//# sourceMappingURL=FileInput-BEA6bpIv.js.map
