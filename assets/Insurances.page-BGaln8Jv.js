import{h as Q,b as W,j as e,m as X,r as a,e as g,t as D,k}from"./index-CG21Kl6L.js";import{U as C}from"./UnderlineHeading-6dFpHrZu.js";import{a as T,b as E}from"./axios-utils-DWLLXNPU.js";import{P as _}from"./PrimaryButton-CqSNXaEZ.js";import{C as F}from"./Dropdown-9zztjWeh.js";import{A as q}from"./AddIcon-tb5zEqxV.js";import{P as M}from"./PlusIcon-Bj6ya-hJ.js";import{D as K,a as L,b as B}from"./dialog-BNTutzAA.js";import{z as p,u as R,t as V,F as $}from"./index-CVKxZN6H.js";import{S as H}from"./SecondaryButton-C8PAsQMM.js";import{T as N}from"./TextInputForm-ML6m37PA.js";import{D as Y}from"./DateInputForm-Bteneik4.js";import{T as J}from"./TextAreaInputForm-DDtw8I0I.js";import{f as U}from"./format-D6Kkl3rb.js";import{D as Z}from"./DeletePopup-Cp9aF88T.js";import{T as G}from"./TrashIcon-B-yPmS4K.js";import{D as A}from"./data-table-q2Kgxvnv.js";import{S as P}from"./StatisticsCards-BHRSrF9_.js";import{U as f}from"./UserMinusIcon-Lbr4fSWK.js";import{S as ee}from"./SearchableSelectInputForm-B2qBDSGN.js";import{S as te}from"./SelectInputForm-nhbT-0nq.js";import{F as I}from"./FileDownloadIcon-BUq89Jnb.js";import{V as se}from"./ViewIcon-Bs2vSTKu.js";import"./Combination-CF6sjIQ5.js";import"./index-DKOmws7K.js";import"./index-CVxAI6rk.js";import"./index-BuoIejD9.js";import"./index-Iw2dua5F.js";import"./chevron-right-ofNdHrp6.js";import"./popover-GWOz0UH_.js";import"./chevron-left-Dd3efAkK.js";import"./select-cvP0Sup0.js";import"./CalendarIcon-vdySZVWB.js";import"./textarea-C5nh8QJ5.js";import"./table-VHWg2bm3.js";import"./CustomPagination-CEeDQMqo.js";import"./pagination-B5K0ldzO.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ne=Q("SquarePen",ae);function re(){const t=JSON.parse(W.get("user")||"{}");return e.jsxs("div",{className:"mb-6",children:[e.jsx(C,{text:"التأمينات"}),e.jsxs("div",{className:"w-full py-6 ps-8 pe-[58px] bg-primery-blue-500 mt-6 rounded-2xl flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:X,className:"w-[172px] h-[172px] rounded-full object-cover",alt:""}),e.jsxs("div",{className:"flex flex-col gap-9",children:[e.jsxs("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:["الاسم : ",t==null?void 0:t.name]}),e.jsxs("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:["رقم المشترك: ",t==null?void 0:t.id]}),e.jsxs("div",{className:"flex flex-row gap-[10px]",children:[e.jsx("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:"حالة الاشتراك:"}),e.jsx("span",{className:"bg-[#DAF8E6] text-[#1A8245] text-lg font-medium leading-[115%] px-[6px] rounded-md flex items-center",children:"نشط"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-9",children:[e.jsx("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:"تاريخ بدء الاشتراك : 2025/05/01"}),e.jsx("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:"تاريخ انتهاء الاشتراك : 2026/04/30"}),e.jsx("p",{className:"text-[22px] tracking-normal leading-[150%] text-white-blue-50",children:"مدة الاشتراك : 1 سنة"})]})]})]})}function le({employeeInsuranceData:t}){var n;return e.jsxs("div",{className:"w-full mt-6 rounded-lg border border-[#E8E7EA]",children:[e.jsx("div",{className:"my-2",children:e.jsx(C,{text:"بيانات الموظف التأمينية"})}),e.jsxs("div",{className:"flex flex-row items-start",children:[e.jsxs("div",{className:"flex-2",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"رقم المشترك"}),e.jsx("div",{className:"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:t==null?void 0:t.id})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"اسم الموظف"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:(n=t==null?void 0:t.employee)==null?void 0:n.name})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"نوع التأمين"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:t==null?void 0:t.certificate_type})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"تاريخ بدء الاشتراك"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:t==null?void 0:t.start_date})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"تاريخ انتهاء الاشتراك"}),e.jsx("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:t==null?void 0:t.end_date})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"قيمة الاشتراك"}),e.jsxs("p",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px] p-4",children:[t==null?void 0:t.amount," ر.س"]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal bg-white-blue-100",children:"الحالة"}),e.jsx("p",{className:"p-4",children:e.jsx("span",{className:"bg-[#22AD5C] text-xs text-white-blue-50 font-medium leading-[115%] px-[6px] rounded-md",children:"نشط"})})]})]})]})}const ie=p.object({birth_date:p.date({required_error:"Birth date is required"}),name:p.string().min(1,"Name is required"),amount:p.string().min(1,"Amount is required"),phone:p.string().min(1,"Phone is required"),identity_number:p.string().min(1,"Identity number is required"),relationship:p.string().min(1,"Relationship is required")});function oe({insuranceId:t,setShow:n,relative:s}){const[r,l]=a.useState(null),[i,d]=a.useState(!1),x=a.useMemo(()=>({insurance_id:t,birth_date:s!=null&&s.birth_date?new Date(s.birth_date):new Date,name:(s==null?void 0:s.name)||"",amount:(s==null?void 0:s.amount)||"",phone:(s==null?void 0:s.phone)||"",identity_number:(s==null?void 0:s.identity_number)||"",relationship:(s==null?void 0:s.relationship)||""}),[t,s]),c=R({resolver:V(ie),defaultValues:x}),o=async m=>{var S,w;d(!0),l(null);const b={...m,birth_date:U(m.birth_date,"yyyy-MM-dd"),insurance_id:t};try{await T({endpoint:s?g.insuranceRelatives.update+s.id:g.insuranceRelatives.create,body:b,config:{headers:{"Content-Type":"multipart/form-data"}}}),D("تم اضافة البدل بنجاح"),n(!1)}catch(h){if((w=(S=h.response)==null?void 0:S.data)!=null&&w.errors)Object.entries(h.response.data.errors).forEach(([u,j])=>{c.setError(u,{type:"manual",message:j.join(", ")})});else{let u="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";h.response?u=h.response.data.msg||u:h.request&&(u="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),l(u)}}finally{d(!1)}};return e.jsx(e.Fragment,{children:e.jsx($,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(o),className:"mt-6",children:[r&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"",children:r}),e.jsx("button",{onClick:()=>l(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6",children:[e.jsx(N,{name:"name",label:"الاسم",placeholder:"محمد احمد"}),e.jsx(N,{name:"phone",label:"رقم الهوية",placeholder:"215698423"}),e.jsx(N,{name:"identity_number",type:"number",label:"رقم الهوية",placeholder:"215698423"}),e.jsx(N,{name:"relationship",label:"العلاقة",placeholder:"اب"}),e.jsx(N,{name:"amount",label:"المبلغ",placeholder:"1000"}),e.jsx(Y,{name:"birth_date",label:"تاريخ الميلاد",placeholder:"2004/04/30"})]}),e.jsx(J,{className:"flex flex-col min-h-[157px]",name:"note",label:"ملاحظات",placeholder:"اكتب ملاحظات اضافية"}),e.jsxs("div",{className:"flex flex-row gap-4 mt-12",children:[e.jsx(H,{onClick:()=>n(!1),type:"button",className:"w-full text-base leading-5 tracking-normal py-[10px] font-medium",children:"إلغاء"}),e.jsx(_,{type:"submit",className:"w-full text-base leading-5 tracking-normal font-medium py-[10px]",children:i?"جاري الحفظ...":"تقديم الطلب"})]})]})})})}function O({open:t,setShow:n,insuranceId:s,relative:r}){return e.jsxs(K,{open:t,children:[e.jsx("div",{className:k("fixed inset-0",{"!hidden":!t})}),e.jsxs(L,{showCloseButton:!1,className:"max-w-[623px] rounded-lg p-8 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0",children:[e.jsxs(B,{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex flex-row justify-between mb-4 w-full",children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(M,{}),e.jsx("h3",{className:"text-[22px] font-bold text-primery-blue-500",children:"اضافة بيانات مستفيد"})]})}),e.jsx("div",{className:"w-full border-b border-[#D1D1D1] !mt-0"})]}),e.jsx(oe,{setShow:n,insuranceId:s,relative:r})]})]})}function ce({filters:t,setFilters:n,insuranceId:s}){const[r,l]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(C,{text:"المستفيدين من التأمينات"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx("div",{children:e.jsxs(_,{onClick:()=>l(!0),className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(q,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"أضافة مستفيد"})]})}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(F,{value:(t==null?void 0:t.status)||"",onValueChange:i=>{n({...t,status:i})},placeholder:"القائمة",width:"min-w-[77px]",options:[{label:"القائمة",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})})]})]}),e.jsx(O,{insuranceId:s,open:r,setShow:l})]})}const de=({row:t})=>{const[n,s]=a.useState(!1),[r,l]=a.useState(!1),i=()=>{l(!0)},d=()=>{l(!1)},x=()=>{var c,o;D.success("تم حذف الفرع بنجاح"),l(!1),(o=(c=t.original).refreshTable)==null||o.call(c)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row justify-center gap-6",children:[e.jsx("button",{onClick:()=>s(!0),className:"cursor-pointer",children:e.jsx(ne,{className:"cursor-pointer text-primery-blue-400"})}),e.jsx(O,{insuranceId:t.original.insurance_id.toString(),open:n,setShow:s,relative:t.original}),e.jsx("button",{onClick:i,children:e.jsx(G,{className:"text-[#E81E1E] cursor-pointer"})})]}),r&&e.jsx(Z,{open:r,text:"هل أنت متاكد أنك تريد حذف هذا الفرع",endpoint:g.insuranceRelatives.delete+t.original.id,handleCancel:d,handleSuccess:x})]})},me=[{accessorKey:"id",header:()=>e.jsxs("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:["رقم المشترك"," "]}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:t.original.id})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"اسم المشترك"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:t.original.name})},{accessorKey:"status",header:()=>e.jsxs("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:["تاريخ بدء الاشتراك"," "]}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.start_date})},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ انتهاء الاشتراك"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.end_date})},{accessorKey:"date",header:()=>e.jsxs("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:["قيمة الاشتراك"," "]}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.amount})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"حالة الدفع"}),cell:({row:t})=>e.jsx("div",{className:"text-xs text-[#22AD5C] font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:"border border-[#22AD5C] p-1 w-fit rounded-sm",children:t.original.status})})},{id:"actions",cell:({row:t})=>e.jsx(de,{row:t})}];function xe({insuranceId:t,insuranceBeneficiariesList:n}){const[s,r]=a.useState([]),[l,i]=a.useState(0),[d,x]=a.useState(0),[c,o]=a.useState(!1),m=a.useCallback(async()=>{o(!0);try{r(n),i(Math.ceil(n.length/10)),x(n.length)}catch(b){console.error("Error fetching data:",b)}finally{o(!1)}},[]);return e.jsx("div",{className:"mt-6 mb-20 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(A,{columns:me,data:s,pageCount:l,totalCount:d,onFetchData:m,DataTableToolbar:()=>ce({insuranceId:t}),isLoading:c})})}function pe(){const t=[{text:"قيمة التأمين",icon:e.jsx(f,{}),num:1e4,label:"ر.س",percent:-.3},{text:"عدد المستفدين",icon:e.jsx(f,{}),num:3,percent:-.3}];return e.jsx(P,{cards:t,numJustifyStart:!0})}function ue(){const[t,n]=a.useState(null);return a.useEffect(()=>{(async()=>{var l;const r=await E({endpoint:g.insurance.employee});r&&n((l=r.data)==null?void 0:l.data)})()},[]),e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(pe,{}),t&&e.jsxs(e.Fragment,{children:[e.jsx(le,{employeeInsuranceData:t}),e.jsx(xe,{insuranceId:t==null?void 0:t.id,insuranceBeneficiariesList:t==null?void 0:t.relatives})]})]})}const fe=p.object({employee_id:p.string().min(1,"Employee id field is required."),certificate_type:p.string().min(1,"Certificate type field is required."),certificate_purpose:p.string().min(1,"Certificate purpose field is required."),note:p.string().min(1,"Note field is required.")});function he({employee:t,setAddAllowance:n}){const[s,r]=a.useState(null),[l,i]=a.useState(!1),[d,x]=a.useState([]),[c,o]=a.useState(null),m=a.useMemo(()=>({employee_id:"",certificate_type:"",certificate_purpose:"",note:""}),[t]),b=R({resolver:V(fe),defaultValues:m}),S=async w=>{var u,j;i(!0),r(null);const h={...w};try{await T({endpoint:g.insurance.create,body:h,config:{headers:{"Content-Type":"multipart/form-data"}}}),D("تم اضافة الطلب بنجاح"),n(!1)}catch(v){if((j=(u=v.response)==null?void 0:u.data)!=null&&j.errors)Object.entries(v.response.data.errors).forEach(([y,z])=>{b.setError(y,{type:"manual",message:z.join(", ")})});else{let y="حدث خطأ أثناء إرسال البيانات. يرجى المحاولة مرة أخرى.";v.response?y=v.response.data.msg||y:v.request&&(y="تعذر الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت."),r(y)}}finally{i(!1)}};return a.useEffect(()=>{(async()=>{try{const u=(await E({endpoint:g.employee.list})).data.data.data.map(j=>({name:j.name,value:String(j.id)}));x(u),o(null)}catch{o("Error fetching employees. Please try again later.")}})()},[]),e.jsx(e.Fragment,{children:e.jsx($,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(S),className:"mt-6",children:[s&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"",children:s}),e.jsx("button",{onClick:()=>r(null),className:"text-red-700 hover:text-red-900",children:"×"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6",children:[e.jsx(ee,{name:"employee_id",placeholder:"محمد احمد",label:"الاسم",options:d,error:c,data:!0}),e.jsx(te,{name:"certificate_type",label:"نوع الشهادة",options:[{value:"high_school",name:"الثانوية العامة"},{value:"bachelor",name:"بكالوريوس"},{value:"master",name:"ماجستير"},{value:"phd",name:"دكتوراه"}],placeholder:"مفردات راتب"}),e.jsx(N,{name:"certificate_purpose",label:"الغرض من الشهادة",placeholder:"تقديم لجهة حكومية"})]}),e.jsx(J,{className:"flex flex-col min-h-[157px]",name:"note",label:"ملاحظات",placeholder:"اكتب ملاحظات اضافية"}),e.jsxs("div",{className:"flex flex-row gap-4 mt-12",children:[e.jsx(H,{onClick:()=>n(!1),type:"button",className:"w-full text-base leading-5 tracking-normal py-[10px] font-medium",children:"إلغاء"}),e.jsx(_,{type:"submit",className:"w-full text-base leading-5 tracking-normal font-medium py-[10px]",children:l?"جاري الحفظ...":"تقديم الطلب"})]})]})})})}function ge({open:t,setAddAllowance:n}){return e.jsxs(K,{open:t,children:[e.jsx("div",{className:k("fixed inset-0",{"!hidden":!t})}),e.jsxs(L,{showCloseButton:!1,className:"max-w-[623px] rounded-lg p-8 bg-white-blue-50 font-cairo gap-0 [&_[aria-label=Close]]:opacity-0",children:[e.jsxs(B,{className:"flex flex-col items-center",children:[e.jsx("div",{className:"flex flex-row justify-between mb-4 w-full",children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(M,{}),e.jsx("h3",{className:"text-[22px] font-bold text-primery-blue-500",children:" طلب شهادة تأمينات"})]})}),e.jsx("div",{className:"w-full border-b border-[#D1D1D1] !mt-0"})]}),e.jsx(he,{setAddAllowance:n})]})]})}function be({globalFilter:t,setGlobalFilter:n,filters:s,setFilters:r}){const[l,i]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(C,{text:"قائمة  متابعة طلب شهادة التأمينات"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsx("div",{children:e.jsxs(_,{onClick:()=>i(!0),className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(q,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"انشاء طلب شهادة"})]})}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(F,{value:(s==null?void 0:s.status)||"",onValueChange:d=>{r({...s,status:d})},placeholder:"القائمة",width:"min-w-[77px]",options:[{label:"القائمة",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})})]})]}),e.jsx(ge,{open:l,setAddAllowance:i})]})}const je=({row:t})=>e.jsxs("div",{className:"flex flex-row justify-center gap-6",children:[e.jsx(I,{className:"cursor-pointer text-primery-blue-400"}),e.jsx(G,{className:"text-[#E81E1E] cursor-pointer"})]}),ye=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ الطلب"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:U(t.original.created_at,"yyyy-MM-dd")})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"نوع الشهادة"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.certificate_type})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الحالة"}),cell:({row:t})=>e.jsx("div",{className:"text-xs text-white-blue-50 font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:"bg-[#22AD5C] p-1 w-fit rounded-sm",children:t.original.status})})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الحالة"}),cell:({row:t})=>e.jsx(je,{row:t})}];function Ne({employeeInsuranceData:t}){const[n,s]=a.useState([]),[r,l]=a.useState(0),[i,d]=a.useState(0),[x,c]=a.useState(!1),o=a.useCallback(async()=>{c(!0);try{s([t]),l(Math.ceil(t.length/10)),d(t.length)}catch(m){console.error("Error fetching data:",m)}finally{c(!1)}},[]);return e.jsx("div",{className:"mt-6 mb-20 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(A,{columns:ye,data:n,pageCount:r,totalCount:i,onFetchData:o,DataTableToolbar:be,isLoading:x})})}function we(){const t=[{text:"عدد الطلبات",icon:e.jsx(f,{}),num:8,percent:-.3},{text:"تم الاصدار",icon:e.jsx(f,{}),num:8,percent:-.3},{text:"قيد المراجعة",icon:e.jsx(f,{}),num:3,percent:-.3},{text:"ملغي",icon:e.jsx(f,{}),num:3,percent:-.3}];return e.jsx(P,{cards:t,numJustifyStart:!0})}function ve(){const[t,n]=a.useState(null);return a.useEffect(()=>{(async()=>{var l;const r=await E({endpoint:g.insurance.employee});r&&n((l=r.data)==null?void 0:l.data)})()},[]),e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(we,{}),t&&e.jsx(Ne,{employeeInsuranceData:t})]})}function ke({globalFilter:t,setGlobalFilter:n,filters:s,setFilters:r}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(C,{text:"سجل مستحقات التأمينات"}),e.jsx("div",{className:"flex flex-row items-center gap-4",children:e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(F,{value:(s==null?void 0:s.status)||"",onValueChange:l=>{r({...s,status:l})},placeholder:"القائمة",width:"min-w-[77px]",options:[{label:"القائمة",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})})})]})})}const Ce=({row:t})=>e.jsxs("div",{className:"flex flex-row justify-center gap-6",children:[e.jsx(se,{className:"cursor-pointer text-primery-blue-400"}),e.jsx(I,{className:"cursor-pointer text-primery-blue-400"})]}),Se=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الاسم"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.employee.name})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"المبلغ"}),cell:({row:t})=>e.jsxs("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:[t.original.amount," ر.س"]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"التاريخ والوقت"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:new Date(t.original.created_at).toLocaleString()})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الحالة"}),cell:({row:t})=>e.jsx("div",{className:"text-xs text-white-blue-50 font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:"bg-[#22AD5C] p-1 w-fit rounded-sm",children:t.original.status})})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الحالة"}),cell:({row:t})=>e.jsx(Ce,{row:t})}];function Ee(){const[t,n]=a.useState([]),[s,r]=a.useState(0),[l,i]=a.useState(0),[d,x]=a.useState(!1),c=a.useCallback(async o=>{x(!0);try{const m=await E({endpoint:g.insurance.paginate,queryParams:{page:o.pageIndex+1,...o.filters,search:o.globalFilter}});n(m.data.data.data),r(Math.ceil(m.data.data.pagination.total/10)),i(m.data.data.pagination.total)}catch(m){console.error("Error fetching data:",m)}finally{x(!1)}},[]);return e.jsx("div",{className:"mt-6 mb-20 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(A,{columns:Se,data:t,pageCount:s,totalCount:l,onFetchData:c,DataTableToolbar:ke,isLoading:d})})}function _e(){const t=[{text:"قيمة المستحقات",icon:e.jsx(f,{}),num:4e3,label:"ر.س",percent:-.3},{text:"تم الدفع",icon:e.jsx(f,{}),num:8,percent:-.3},{text:"قيد الانتظار",icon:e.jsx(f,{}),num:3,percent:-.3},{text:"متأخر",icon:e.jsx(f,{}),num:3,percent:-.3}];return e.jsx(P,{cards:t,numJustifyStart:!0})}function De(){return e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(_e,{}),e.jsx(Ee,{})]})}function Fe(){const[t,n]=a.useState(1),s=r=>{n(r)};return e.jsxs("div",{className:"w-full mt-6",children:[e.jsxs("div",{className:"w-full flex flex-row items-center gap-[1px]",children:[e.jsx("button",{onClick:()=>s(1),className:k("w-full transition-colors text-base py-3 text-white-blue-50 font-bold leading-[120%] tracking-normal rounded-s-lg",{"bg-primery-blue-700":t===1,"bg-primery-blue-400":t!==1}),children:"بيانات التأمينات"}),e.jsx("button",{onClick:()=>s(2),className:k("w-full transition-colors text-base py-3 text-white-blue-50 font-bold leading-[120%] tracking-normal",{"bg-primery-blue-700":t===2,"bg-primery-blue-400":t!==2}),children:"طلب شهادة التأمينات"}),e.jsx("button",{onClick:()=>s(3),className:k("w-full transition-colors text-base py-3 text-white-blue-50 font-bold leading-[120%] tracking-normal rounded-e-lg",{"bg-primery-blue-700":t===3,"bg-primery-blue-400":t!==3}),children:"مستحقات التأمينات"})]}),t===1&&e.jsx(ue,{}),t===2&&e.jsx(ve,{}),t===3&&e.jsx(De,{})]})}function ut(){return e.jsxs("div",{className:"w-full mt-6 mb-24",children:[e.jsx(re,{}),e.jsx(Fe,{})]})}export{ut as default};
//# sourceMappingURL=Insurances.page-BGaln8Jv.js.map
