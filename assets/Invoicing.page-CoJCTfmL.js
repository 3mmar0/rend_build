import{j as e,m as g,d as f,I as h,S as b,L as j,r as n,e as x}from"./index-BYyXun5x.js";import{U as y}from"./UserRemove-DJ-NjWwm.js";import{G as v,T as N,M as w}from"./GroupIcon-BGWygfhU.js";import{b as p}from"./axios-utils-AvuZ81CO.js";import{S as C}from"./StatisticsCards-B_8i9ipX.js";import{D as k}from"./data-table-G-GPousO.js";import{C as _}from"./CircularProgress-CmGGO_gc.js";import{E as S}from"./EditIcon-CtwPxlIY.js";import{V as D}from"./ViewIcon-BBp0OIKk.js";import{U as E}from"./UnderlineHeading-ByjNC2ge.js";import{P as I}from"./PrimaryButton-CZnRZgcz.js";import{A}from"./AddIcon-B_YFP14b.js";import{C as T}from"./Dropdown-DI0KLpyc.js";import{A as L}from"./ArrowBackIcon-DM4diopZ.js";import{E as P,a as F}from"./jspdf.plugin.autotable-ljygzmMq.js";import{C as K}from"./ChartsComponent-kpSsDVJi.js";import"./table-Dfhf1Bk7.js";import"./CustomPagination-BD2pf3AX.js";import"./pagination-DR230PoL.js";import"./chevron-right-CymCusjh.js";import"./chevron-left-DVnc3BG0.js";import"./Combination-cklTRtAe.js";import"./index-CV4wEvKw.js";import"./index-Gk0NKYh3.js";import"./index-CLYNl1a9.js";import"./index-DEdjAgo6.js";import"./chart-Cu57hkrX.js";import"./index-Cod7pasn.js";import"./PieChart-CfdriHgv.js";import"./MultipleBarChart-CTk_EqXx.js";import"./BarChart-B8FctPev.js";function U({cards:t}){return e.jsx(C,{cards:t,numJustifyStart:!0})}const G=({row:t})=>{const s=f();return e.jsxs("div",{className:"me-6 text-end flex flex-row items-center justify-end gap-7",children:[e.jsx("button",{onClick:()=>s(`/human-resources/employee/${t.original.id}/edit`),className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(S,{className:"text-primery-blue-400"})}),e.jsx("button",{onClick:()=>s(`/human-resources/employee/${t.original.id}`),className:"hover:bg-white-blue-300 rounded-full p-1",children:e.jsx(D,{className:"text-primery-blue-400"})})]})},M=[{accessorKey:"id",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"اسم الموظف"}),cell:({row:t})=>e.jsxs("div",{className:"flex flex-row justify-start items-center gap-4 text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:[e.jsx("img",{src:g,alt:"",className:"rounded-full w-10 h-10 object-cover"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"tracking-normal text-primery-blue-900 font-medium text-sm",children:t.original.name}),e.jsxs("p",{className:"tracking-normal text-white-blue-800 font-normal text-sm",children:[" ",t.original.email]})]})]})},{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"تاريخ التعيين"}),cell:({row:t})=>e.jsx("div",{className:"text-sm px-4 py-3 !text-[#625E74] leading-[26.24px] font-semibold tracking-normal",children:t.original.created_at})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"نسبة الحضور"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:e.jsx(_,{size:48})})},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الدرجة الوظيفية"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.position})},{accessorKey:"service",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"القسم"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.department})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"حالة العمل"}),cell:({row:t})=>e.jsx("div",{className:"text-xs text-[#22AD5C] font-medium tracking-normal leading-[115%]",children:e.jsx("p",{className:"border border-[#22AD5C] p-1 w-fit rounded-sm",children:t.original.contract_type})})},{id:"actions",header:()=>e.jsx("div",{className:"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal"}),cell:({row:t})=>e.jsx(G,{row:t})}];function R({data:t}){const s=()=>{const r=new P;r.setFontSize(16),r.text("customers information",105,20,{align:"center"}),r.setLanguage("ar");const l=t.map(a=>[(a==null?void 0:a.name)||"N/A",(a==null?void 0:a.email)||"N/A",(a==null?void 0:a.department)||"N/A"]);F(r,{startY:30,head:[["name","email","job"]],body:l,styles:{halign:"center"},headStyles:{fillColor:[41,128,185],textColor:255},alternateRowStyles:{fillColor:[240,240,240]}}),r.save("employees_statistics.pdf")};return e.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border hover:bg-primery-blue-100 border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(L,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})}function V({globalFilter:t,setGlobalFilter:s,filters:r,setFilters:l,data:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(E,{text:"قائمة الفواتير"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(h,{placeholder:"ابحث باسم العميل",value:t,onChange:o=>s(o.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(b,{className:"text-white-blue-800"})})]}),e.jsx("div",{className:"flex fle-row items-center gap-4",children:e.jsx(T,{value:(r==null?void 0:r.status)||"",onValueChange:o=>{l({...r,status:o})},placeholder:"فلتر",width:"min-w-[77px]",options:[{label:"فلتر",value:""},{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]})}),e.jsx("div",{children:e.jsx(j,{to:"/invoicing/add-invoice",children:e.jsxs(I,{className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(A,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"انشاء فاتورة"})]})})}),e.jsx(R,{data:a})]})]})})}function z(){const[t,s]=n.useState([]),[r,l]=n.useState(0),[a,o]=n.useState(0),[d,c]=n.useState(!1),u=n.useCallback(async m=>{c(!0);try{const i=await p({endpoint:x.employee.list,queryParams:{page:m.pageIndex+1,...m.filters,search:m.globalFilter}});s(i.data.data.data),l(Math.ceil(i.data.data.pagination.total/10)),o(i.data.data.pagination.total)}catch(i){console.error("Error fetching data:",i)}finally{c(!1)}},[]);return e.jsx("div",{className:"mt-6 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(k,{columns:M,data:t,pageCount:r,totalCount:a,onFetchData:u,DataTableToolbar:V,isLoading:d})})}function ye(){const[t,s]=n.useState(null);n.useEffect(()=>{(async()=>{try{const a=await p({endpoint:x.employee.dashboard});s(a.data.data)}catch{s(null)}})()},[]);const r=[{text:"اجمالي عدد الفواتير",num:t==null?void 0:t.total_employees,percent:12,icon:e.jsx(v,{})},{text:"عدد الفواتير المتأخرة",num:35,percent:0,icon:e.jsx(y,{})},{text:"إجمالي المدفوع",num:t==null?void 0:t.total_full_time,percent:-.3,icon:e.jsx(N,{})},{text:"إجمالي المتبقية",num:t==null?void 0:t.total_part_time,percent:-.3,icon:e.jsx(w,{})}];return e.jsxs("div",{className:"w-full mt-6 mb-20",children:[e.jsx(U,{cards:r}),e.jsx(K,{}),e.jsx(z,{})]})}export{ye as default};
//# sourceMappingURL=Invoicing.page-CoJCTfmL.js.map
