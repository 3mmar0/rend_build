import{j as s,c as y,d as v,r as u,a as L,I as x,B as N,e as F,s as M}from"./index-CG21Kl6L.js";import{z as c,u as S,F as _,a as h,b as j,c as g,d as w,e as C,t as I}from"./index-CVKxZN6H.js";import{U as E}from"./UserIcon-CvFITZRa.js";import{a as V}from"./axios-utils-DWLLXNPU.js";import"./index-DKOmws7K.js";const W=c.object({username:c.string().min(2,{message:"Username must be at least 2 characters."}),password:c.string().min(6,{message:"Password must be at least 6 characters."})}),B=({width:o="24",height:n="24",className:r=""})=>s.jsx("span",{className:r,children:s.jsxs("svg",{width:o,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M6 10V8C6 4.69 7 2 12 2C17 2 18 4.69 18 8V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 18.5C13.3807 18.5 14.5 17.3807 14.5 16C14.5 14.6193 13.3807 13.5 12 13.5C10.6193 13.5 9.5 14.6193 9.5 16C9.5 17.3807 10.6193 18.5 12 18.5Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M17 22H7C3 22 2 21 2 17V15C2 11 3 10 7 10H17C21 10 22 11 22 15V17C22 21 21 22 17 22Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),P=({width:o="24",height:n="24",className:r=""})=>s.jsx("span",{className:r,children:s.jsxs("svg",{width:o,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M15.58 12C15.58 13.98 13.98 15.58 12 15.58C10.02 15.58 8.42001 13.98 8.42001 12C8.42001 10.02 10.02 8.42001 12 8.42001C13.98 8.42001 15.58 10.02 15.58 12Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M12 20.27C15.53 20.27 18.82 18.19 21.11 14.59C22.01 13.18 22.01 10.81 21.11 9.4C18.82 5.8 15.53 3.72 12 3.72C8.47 3.72 5.18 5.8 2.89 9.4C1.99 10.81 1.99 13.18 2.89 14.59C5.18 18.19 8.47 20.27 12 20.27Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})});function Z(){const o=y(),n=v(),[r,f]=u.useState(!1),[l,a]=u.useState(""),{t:i}=L(),d=S({resolver:I(W),defaultValues:{username:"",password:""}}),{formState:b}=d;async function k(t){var p,m;try{const e=await V({endpoint:F.auth.login,body:{email:t.username,password:t.password}});a(""),o(M({token:e.data.data.token,user:e.data.data})),n("/",{replace:!0})}catch(e){e!=null&&e.response?((p=e==null?void 0:e.response)==null?void 0:p.status)===400?a("Missing Admin Code or password"):((m=e==null?void 0:e.response)==null?void 0:m.status)===401?a("wrong Admin Code or password"):a("Login failed"):a("No Server Response")}}return s.jsx(_,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(k),className:"w-2/3 font-cairo max-w-96 space-y-6 shadow-[0px_8px_13px_-3px_#00000012] p-6 rounded-2xl border border-[#F3E6FF]",children:[s.jsx(h,{control:d.control,name:"username",render:({field:t})=>s.jsxs(j,{children:[s.jsx(g,{className:"text-[#100147]",children:i("admin_code")}),s.jsx(w,{children:s.jsxs("div",{className:"relative",children:[s.jsx(x,{className:"px-6",placeholder:i("enter_admin_code"),...t}),s.jsx("span",{className:"cursor-pointer absolute start-1 top-1/2 -translate-y-1/2 text-muted-foreground",children:s.jsx(E,{className:"cursor-pointer"})})]})}),s.jsx(C,{})]})}),s.jsx(h,{control:d.control,name:"password",render:({field:t})=>s.jsxs(j,{children:[s.jsx(g,{className:"text-[#100147]",children:i("password")}),s.jsx(w,{children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute start-1 top-1/2 -translate-y-1/2 text-muted-foreground",children:s.jsx(B,{width:"16",height:"16"})}),s.jsx(x,{type:r?"text":"password",className:"px-6",placeholder:i("enter_your_password"),...t}),s.jsx("button",{onClick:()=>{f(!r)},type:"button",className:"absolute end-1 top-1/2 -translate-y-1/2 text-muted-foreground",children:s.jsx(P,{width:"16",height:"16"})})]})}),s.jsx(C,{})]})}),s.jsx("div",{className:"text-red-error-600",children:l.length>0&&s.jsx("p",{children:l})}),s.jsx(N,{type:"submit",className:`w-full ${b.isDirty?"bg-primery-blue-700 hover:bg-primery-blue-700":"bg-primery-blue-200 hover:bg-primery-blue-200"}`,children:i("login")})]})})}const $=()=>s.jsx("section",{className:"flex flex-col items-center justify-center h-screen",children:s.jsx(Z,{})});export{$ as default};
//# sourceMappingURL=Login.page-DC5irYH0.js.map
