import{j as e,d as h,I as C,S as f,L as b,r as s,e as x}from"./index-CG21Kl6L.js";import{S as j}from"./SettingIcon-DkjSzmqf.js";import{C as v}from"./CalendarIcon-D_I8iYE_.js";import{S as y}from"./StatisticsCards-BHRSrF9_.js";import{S as N}from"./ShopIcon-DlywX1vC.js";import{b as d}from"./axios-utils-DWLLXNPU.js";import{E as w}from"./EditIcon-DiFVlmg6.js";import{U as k}from"./UnderlineHeading-6dFpHrZu.js";import{P as _}from"./PrimaryButton-CqSNXaEZ.js";import{A as S}from"./AddIcon-tb5zEqxV.js";import{A as I}from"./ArrowBackIcon-D47HpoSm.js";import{C as L}from"./Dropdown-9zztjWeh.js";import{C as E}from"./CloseIcon-BTJxsa4F.js";import{D}from"./data-table-q2Kgxvnv.js";import"./Combination-CF6sjIQ5.js";import"./index-DKOmws7K.js";import"./index-CVxAI6rk.js";import"./index-BuoIejD9.js";import"./index-Iw2dua5F.js";import"./chevron-right-ofNdHrp6.js";import"./table-VHWg2bm3.js";import"./CustomPagination-CEeDQMqo.js";import"./pagination-B5K0ldzO.js";import"./chevron-left-Dd3efAkK.js";const H=({width:t="40",height:a="40",className:n=""})=>e.jsx("span",{className:n,children:e.jsxs("svg",{width:t,height:a,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{opacity:"0.4",d:"M28.3333 12.9173C28.0166 12.9173 27.7 12.8006 27.45 12.5506C26.9667 12.0673 26.9667 11.2673 27.45 10.784L30.8666 7.36731C27.9333 4.86731 24.15 3.33398 20 3.33398C10.8 3.33398 3.33331 10.8007 3.33331 20.0007C3.33331 29.2007 10.8 36.6673 20 36.6673C29.2 36.6673 36.6666 29.2007 36.6666 20.0007C36.6666 15.8507 35.1333 12.0673 32.6333 9.13399L29.2166 12.5506C28.9666 12.8006 28.65 12.9173 28.3333 12.9173Z",fill:"currentColor"}),e.jsx("path",{d:"M22.9166 19.7L21.25 19.1167V15.4167H21.3833C22.2333 15.4167 22.9166 16.1667 22.9166 17.0833C22.9166 17.7667 23.4833 18.3333 24.1666 18.3333C24.85 18.3333 25.4166 17.7667 25.4166 17.0833C25.4166 14.7833 23.6166 12.9167 21.3833 12.9167H21.25V12.5C21.25 11.8167 20.6833 11.25 20 11.25C19.3166 11.25 18.75 11.8167 18.75 12.5V12.9167H18.25C16.2333 12.9167 14.5833 14.6167 14.5833 16.7167C14.5833 19.15 16 19.9333 17.0833 20.3167L18.75 20.9V24.6H18.6167C17.7667 24.6 17.0833 23.85 17.0833 22.9333C17.0833 22.25 16.5166 21.6833 15.8333 21.6833C15.15 21.6833 14.5833 22.25 14.5833 22.9333C14.5833 25.2333 16.3833 27.1 18.6167 27.1H18.75V27.5167C18.75 28.2 19.3166 28.7667 20 28.7667C20.6833 28.7667 21.25 28.2 21.25 27.5167V27.1H21.75C23.7666 27.1 25.4166 25.4 25.4166 23.3C25.4166 20.85 24 20.0667 22.9166 19.7ZM17.9 17.9333C17.3333 17.7333 17.0833 17.6167 17.0833 16.7C17.0833 15.9833 17.6166 15.4 18.25 15.4H18.75V18.2167L17.9 17.9333ZM21.75 24.5833H21.25V21.7667L22.1 22.0667C22.6667 22.2667 22.9166 22.3833 22.9166 23.3C22.9166 24 22.3833 24.5833 21.75 24.5833Z",fill:"currentColor"}),e.jsx("path",{d:"M37.8167 2.84974C37.6834 2.54974 37.45 2.29975 37.1334 2.16641C36.9834 2.09975 36.8167 2.06641 36.65 2.06641H29.9833C29.3 2.06641 28.7333 2.63307 28.7333 3.31641C28.7333 3.99974 29.3 4.56641 29.9833 4.56641H33.6333L30.85 7.34975C31.4834 7.89975 32.0667 8.48308 32.6167 9.11641L35.4 6.33308V9.99974C35.4 10.6831 35.9667 11.2497 36.65 11.2497C37.3333 11.2497 37.9 10.6831 37.9 9.99974V3.33308C37.9167 3.16641 37.8834 3.01641 37.8167 2.84974Z",fill:"currentColor"})]})});function m(t,a=30){return t.length<=a?t:t.slice(0,a)+"..."}const V=({row:t})=>{const a=h();return e.jsx("div",{className:"flex items-center gap-7",children:e.jsx("button",{onClick:()=>a(`/maintenance/centers/${t.original.id}/edit`),className:"text-primary hover:text-primary/80",children:e.jsx(w,{className:"text-primery-blue-400"})})})},M=[{accessorKey:"name",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"مركز الصيانة"}),cell:({row:t})=>e.jsx("div",{children:e.jsx("div",{className:"font-medium text-sm tracking-normal text-start text-primery-blue-900",children:t.original.name})})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"حالة التعامل"}),cell:({row:t})=>e.jsx("div",{className:"p-1 w-fit bg-[#22AD5C] rounded text-xs text-white-blue-50 font-medium tracking-normal leading-[13.8px]",children:t.original.status})},{accessorKey:"date",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"المنطقة"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.location})},{accessorKey:"service",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"العنوان"}),cell:({row:t})=>e.jsx("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:t.original.description?m(t.original.description):""})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal",children:"الخدمات"}),cell:({row:t})=>e.jsxs("div",{className:"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]",children:[e.jsx("div",{children:t.original.features?m(t.original.features.join(" ")):""})," "]})},{id:"actions",cell:({row:t})=>e.jsx(V,{row:t})}];function A({globalFilter:t,setGlobalFilter:a,filters:n,setFilters:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(k,{text:"قائمة مراكز الصيانة"}),e.jsxs("div",{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(C,{placeholder:"ابحث باسم السيارة",value:t,onChange:r=>a(r.target.value),className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800"}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(f,{className:"text-white-blue-800"})})]}),e.jsxs("div",{className:"flex fle-row items-center gap-4",children:[e.jsx(L,{value:(n==null?void 0:n.status)||"",onValueChange:r=>{i({...n,status:r})},placeholder:"الحالة",width:"min-w-[77px]",options:[{label:"متاح",value:"active"},{label:"غير متاح",value:"not active"}]}),e.jsxs("button",{onClick:()=>i({}),className:"flex flex-row items-center gap-2 h-[22px] p-0 bg-white-blue-50 hover:bg-white-blue-200 border-none shadow-none text-primery-blue-500 font-medium text-xs leading-[22.49px] tracking-normal",children:[e.jsx(E,{className:"!w-[10px] !h-[10px]"}),"إلغاء التصفية"]})]}),e.jsx("div",{children:e.jsx(b,{to:"/maintenance/centers/add",children:e.jsxs(_,{className:"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal",children:[e.jsx(S,{}),e.jsx("p",{className:"text-xs tracking-normal font-normal leading-[22.49px]",children:"إضافة مركز صيانة"})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg ",children:[e.jsx(I,{className:"text-primery-blue-700"}),e.jsx("p",{className:"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]",children:"تصدير"})]})]})]})})}const K=()=>{const[t,a]=s.useState([]),[n,i]=s.useState(0),[r,p]=s.useState(0),[u,c]=s.useState(!1),g=s.useCallback(async o=>{c(!0);try{const l=await d({endpoint:x.maintenanCenter.list,queryParams:{page:o.pageIndex+1,...o.filters,search:o.globalFilter}});a(l.data.data.data),i(Math.ceil(l.data.data.pagination.total/10)),p(l.data.data.pagination.total)}catch(l){console.error("Error fetching data:",l)}finally{c(!1)}},[]);return e.jsx("div",{className:"mb-10 mt-4 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]",children:e.jsx(D,{columns:M,data:t,pageCount:n,totalCount:r,onFetchData:g,DataTableToolbar:A,isLoading:u})})},le=()=>{const[t,a]=s.useState(null);s.useEffect(()=>{(async()=>{try{const r=await d({endpoint:x.maintenanCenter.dashboard});a(r.data.data)}catch{a(null)}})()},[]);const n=[{text:"عدد مراكز الصيانة",icon:e.jsx(N,{}),num:t==null?void 0:t.centers_count,percent:0},{text:"متوسط الزيارات الشهرية",icon:e.jsx(v,{}),num:t==null?void 0:t.average_monthly_maintenances,percent:0},{text:"جاري الصيانة",icon:e.jsx(j,{}),num:t==null?void 0:t.in_progress_maintenances_count,percent:0,negative:!0},{text:"إجمالي تكاليف الصيانة",icon:e.jsx(H,{}),num:t==null?void 0:t.total_cost,label:" ر.س",percent:0}];return e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(y,{cards:n}),e.jsx("div",{className:"mt-6",children:e.jsx(K,{})})]})};export{le as default};
//# sourceMappingURL=MaintenanceCenters.page-CeOgs2RQ.js.map
