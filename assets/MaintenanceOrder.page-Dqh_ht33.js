import{c as u,u as w,j as e,k as p,l as C,R as h,r,g as y,I as S,S as k,e as _,L}from"./index-CG21Kl6L.js";import{A as I,T as P,C as A,a as E,b as M}from"./LocationIcon-D1LvX-Il.js";import{b as F}from"./axios-utils-DWLLXNPU.js";import{P as B}from"./PrimaryButton-CqSNXaEZ.js";import{M as D}from"./MaintenanceOrderForm-CTrJYHns.js";import{S as R}from"./SubtleButton-CIWvV8XM.js";import{M as T}from"./MainHeading-D0_31WmT.js";import{U as H}from"./UnderlineHeading-6dFpHrZu.js";import"./CustomPagination-CEeDQMqo.js";import"./pagination-B5K0ldzO.js";import"./chevron-right-ofNdHrp6.js";import"./chevron-left-Dd3efAkK.js";import"./Dropdown-9zztjWeh.js";import"./Combination-CF6sjIQ5.js";import"./index-DKOmws7K.js";import"./index-CVxAI6rk.js";import"./index-BuoIejD9.js";import"./index-Iw2dua5F.js";import"./CloseIcon-BTJxsa4F.js";import"./configs.data-DRMm0Ppl.js";import"./index-CVKxZN6H.js";import"./SecondaryButton-C8PAsQMM.js";import"./DayPickerInputForm-DV6Khb6w.js";import"./popover-GWOz0UH_.js";import"./format-D6Kkl3rb.js";import"./CalendarIcon-vdySZVWB.js";import"./SelectInputForm-nhbT-0nq.js";import"./select-cvP0Sup0.js";import"./TextInputForm-ML6m37PA.js";import"./CancelPopup-DkpTHoXx.js";import"./dialog-BNTutzAA.js";import"./RichTextInput-B15Nbosy.js";import"./SuccessPopup-CoLlaGCA.js";import"./SuccessIcon-kUOFEumJ.js";const O=({car:t})=>{var n;const i=u(),s=w(o=>o.car.selectedCar),a=()=>{s?s.id==t.id&&i(h()):i(C(t))};return e.jsxs("div",{className:p("group flex flex-col gap-2 shadow-[0px_2px_12px_0px_#14142B14] rounded-lg p-2",{"border border-green-success-100":(s==null?void 0:s.id)==t.id,"hover:border hover:border-red-error-100":(s==null?void 0:s.id)==t.id}),children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"inline-block",children:[e.jsx("img",{className:"h-4 w-4 inline-block me-1",src:(n=t==null?void 0:t.brand)==null?void 0:n.logo,alt:""}),e.jsxs("p",{className:"inline-block text-white-blue-900 font-cairo font-medium text-[16px] leading-[20px] tracking-normal text-right",children:[t.brand.name," ",t.brand_model.name," ",t.make_year]})]}),e.jsx("span",{className:"text-white-blue-50 rounded-sm p-1 bg-[#22AD5C] font-cairo font-medium text-[12px] leading-[13.8px] tracking-normal",children:t.status})]}),e.jsx("div",{children:e.jsx("img",{src:t.media.image,width:242,height:100,alt:""})}),e.jsxs("div",{className:"py-1 flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-[6px]",children:[t.transmission_type==="auto"&&e.jsx(I,{}),e.jsx("p",{className:"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center",children:t.transmission_type})]}),e.jsxs("div",{className:"flex flex-row items-center gap-1",children:[e.jsx(P,{}),e.jsx("p",{className:"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center",children:"السعودية"})]})]}),e.jsxs(B,{type:"button",onClick:a,className:p("rounded-lg w-full lg:py-2 xl:py-2 lg:px-[14] shadow-[0px_1px_2px_0px_#1018280D] font-medium lg:text-xs lg:leading-[13.8px] tracking-normal transition-all duration-300",{"bg-green-success-100 focus:ring-green-success-100 text-green-success-600 group-hover:bg-red-error-100 focus:group-hover:ring-red-error-100 group-hover:text-[#A21515]":(s==null?void 0:s.id)==t.id}),children:[(s==null?void 0:s.id)==t.id?e.jsx("span",{className:"group-hover:hidden",children:"تم الاختيار"}):"اختيار",(s==null?void 0:s.id)==t.id&&e.jsx("span",{className:"hidden group-hover:inline",children:"الغاء الاختيار"})]})]})},U=({CarListPagination:t})=>{const[i,s]=r.useState([]),[a,n]=r.useState(1),[o,g]=r.useState(0),[d,f]=r.useState({}),[c,j]=r.useState(""),[b,N]=r.useState(!0),[m,v]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const l=await F({endpoint:_.cars.pagination,queryParams:{page:a,...d,search:c}});g(l.data.data.pagination.total),s(l.data.data.data)}catch{v("Failed to load cars")}finally{N(!1)}})()},[a,d,c]),b?e.jsx(y,{}):m?e.jsx("div",{className:"mt-6 mb-[102px] text-center py-20",children:e.jsx("h2",{className:"text-xl text-red-500",children:m})}):i?e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]",children:[e.jsx(S,{placeholder:"ابحث برقم السيارة أو الماركة أو الموديل ....",className:"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800",onChange:x=>j(x.target.value)}),e.jsx("button",{className:"bg-transparent border-none",children:e.jsx(k,{className:"text-white-blue-800"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(A,{setFilters:f}),e.jsx("div",{className:"mt-6",children:e.jsx(E,{cars:i,CarCard:O})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(t,{currentPage:a,setCurrentPage:n,totalItems:o})})]}):e.jsx("div",{className:"mt-6 mb-[102px] text-center py-20",children:e.jsx("h2",{className:"text-xl",children:"Car not found"})})},we=()=>{const t=u();return r.useEffect(()=>{t(h())},[]),e.jsxs("div",{className:"mt-6 w-full",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-6",children:[e.jsx(H,{text:"تسجيل طلب صيانة"}),e.jsx(L,{to:"/maintenance/list",children:e.jsx(R,{children:"رجوع"})})]}),e.jsx(T,{text:"تفاصيل السيارة"}),e.jsx(U,{CarListPagination:M}),e.jsx(D,{})]})};export{we as default};
//# sourceMappingURL=MaintenanceOrder.page-Dqh_ht33.js.map
