{"version":3,"file":"MaintenanceOrder.page-Dqh_ht33.js","sources":["../../src/features/maintenance/components/carsList/CarCard.tsx","../../src/features/maintenance/components/carsList/CarsList.tsx","../../src/features/maintenance/pages/MaintenanceOrder.page.tsx"],"sourcesContent":["import AutomaticIcon from '@/components/icons/car/AutomaticIcon';\r\nimport LocationIcon from '@/components/icons/car/LocationIcon';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport { RemoveSelectedCar, selectCar } from '@/core/global-store/features/car/carSlice';\r\nimport { useAppDispatch, useAppSelector } from '@/core/global-store';\r\nimport { Car } from '@/types/cars.types';\r\nimport { cn } from '@/lib/utils';\r\ninterface Props {\r\n    car: Car;\r\n}\r\n\r\nconst CarCard = ({ car }: Props) => {\r\n    const dispatch = useAppDispatch();\r\n    const state = useAppSelector((state) => state.car.selectedCar);\r\n\r\n    const handleSelectedCar = () => {\r\n        if (!state) {\r\n            dispatch(selectCar(car));\r\n        } else if (state.id == car.id) {\r\n            dispatch(RemoveSelectedCar());\r\n        }\r\n    };\r\n    return (\r\n        <div\r\n            className={cn('group flex flex-col gap-2 shadow-[0px_2px_12px_0px_#14142B14] rounded-lg p-2', {\r\n                'border border-green-success-100': state?.id == car.id,\r\n                'hover:border hover:border-red-error-100': state?.id == car.id,\r\n            })}\r\n        >\r\n            <div className=\"flex flex-row justify-between\">\r\n                <div className=\"inline-block\">\r\n                    <img className=\"h-4 w-4 inline-block me-1\" src={car?.brand?.logo} alt=\"\" />\r\n                    <p className=\"inline-block text-white-blue-900 font-cairo font-medium text-[16px] leading-[20px] tracking-normal text-right\">\r\n                        {car.brand.name} {car.brand_model.name} {car.make_year}\r\n                    </p>\r\n                </div>\r\n                <span className=\"text-white-blue-50 rounded-sm p-1 bg-[#22AD5C] font-cairo font-medium text-[12px] leading-[13.8px] tracking-normal\">\r\n                    {car.status}\r\n                </span>\r\n            </div>\r\n            <div>\r\n                <img src={car.media.image} width={242} height={100} alt=\"\" />\r\n            </div>\r\n            <div className=\"py-1 flex flex-row justify-between\">\r\n                <div className=\"flex flex-row items-center gap-[6px]\">\r\n                    {car.transmission_type === 'auto' && <AutomaticIcon />}\r\n                    <p className=\"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center\">\r\n                        {car.transmission_type}\r\n                    </p>\r\n                </div>\r\n                <div className=\"flex flex-row items-center gap-1\">\r\n                    <LocationIcon />\r\n                    <p className=\"font-cairo font-medium text-primery-blue-900 text-[14px] leading-[16.8px] tracking-normal text-center\">\r\n                        {/* {car.location} */}\r\n                        السعودية\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <PrimaryButton\r\n                type=\"button\"\r\n                onClick={handleSelectedCar}\r\n                className={cn(\r\n                    'rounded-lg w-full lg:py-2 xl:py-2 lg:px-[14] shadow-[0px_1px_2px_0px_#1018280D] font-medium lg:text-xs lg:leading-[13.8px] tracking-normal transition-all duration-300',\r\n                    {\r\n                        'bg-green-success-100 focus:ring-green-success-100 text-green-success-600 group-hover:bg-red-error-100 focus:group-hover:ring-red-error-100 group-hover:text-[#A21515]':\r\n                            state?.id == car.id,\r\n                    },\r\n                )}\r\n            >\r\n                {state?.id == car.id ? <span className=\"group-hover:hidden\">تم الاختيار</span> : 'اختيار'}\r\n                {state?.id == car.id && <span className=\"hidden group-hover:inline\">الغاء الاختيار</span>}\r\n            </PrimaryButton>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarCard;\r\n","import SearchIcon from '@/components/icons/Search';\r\nimport { Input } from '@/components/ui/input';\r\nimport CarListComponent from '../../../../components/carsList/CarListComponent';\r\nimport { useEffect, useState } from 'react';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport CarListFilters from '@/features/car/components/carsList/CarListFilters';\r\n\r\nimport CarCard from './CarCard';\r\nimport { LoadingSpinner } from '@/components/Loading/LoadingSpinner';\r\n\r\ninterface Props {\r\n    CarListPagination: any;\r\n}\r\n\r\nconst CarsList = ({ CarListPagination }: Props) => {\r\n    const [cars, setCars] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalItems, setTotalItems] = useState(0);\r\n    const [filters, setFilters] = useState({});\r\n    const [search, setSearch] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await apiGet({\r\n                    endpoint: endpoints.cars.pagination,\r\n                    queryParams: { page: currentPage, ...filters, search },\r\n                });\r\n\r\n                setTotalItems(response.data.data.pagination.total);\r\n\r\n                setCars(response.data.data.data);\r\n            } catch (error) {\r\n                setError('Failed to load cars');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchCars();\r\n    }, [currentPage, filters, search]);\r\n\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl text-red-500\">{error}</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!cars) {\r\n        return (\r\n            <div className=\"mt-6 mb-[102px] text-center py-20\">\r\n                <h2 className=\"text-xl\">Car not found</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-10\">\r\n            <div className=\"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]\">\r\n                <Input\r\n                    placeholder=\"ابحث برقم السيارة أو الماركة أو الموديل ....\"\r\n                    className=\"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800\"\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n                <button className=\"bg-transparent border-none\">\r\n                    <SearchIcon className=\"text-white-blue-800\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n                <CarListFilters setFilters={setFilters} />\r\n                <div className=\"mt-6\">\r\n                    <CarListComponent cars={cars} CarCard={CarCard} />\r\n                </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n                <CarListPagination currentPage={currentPage} setCurrentPage={setCurrentPage} totalItems={totalItems} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CarsList;\r\n","import { useEffect } from 'react';\r\nimport CarsList from '../components/carsList/CarsList';\r\nimport CarListPagination from '@/components/carsList/CarListPagination';\r\nimport { useAppDispatch } from '@/core/global-store';\r\nimport { RemoveSelectedCar } from '@/core/global-store/features/car/carSlice';\r\nimport MaintenanceOrderForm from '../forms/maintenanceOrder/MaintenanceOrderForm';\r\nimport { Link } from 'react-router-dom';\r\nimport { SubtleButton } from '@/components/buttons/SubtleButton';\r\nimport MainHeading from '@/components/heading/MainHeading';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\n\r\nconst MaintenanceOrderPage = () => {\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(RemoveSelectedCar());\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"mt-6 w-full\">\r\n            <div className=\"flex flex-row justify-between mb-6\">\r\n                <UnderlineHeading text=\"تسجيل طلب صيانة\" />\r\n                <Link to=\"/maintenance/list\">\r\n                    <SubtleButton>رجوع</SubtleButton>\r\n                </Link>\r\n            </div>\r\n            <MainHeading text=\"تفاصيل السيارة\" />\r\n            <CarsList CarListPagination={CarListPagination} />\r\n            <MaintenanceOrderForm />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MaintenanceOrderPage;\r\n"],"names":["CarCard","car","dispatch","useAppDispatch","state","useAppSelector","handleSelectedCar","RemoveSelectedCar","selectCar","jsxs","cn","jsx","_a","AutomaticIcon","LocationIcon","PrimaryButton","CarsList","CarListPagination","cars","setCars","useState","currentPage","setCurrentPage","totalItems","setTotalItems","filters","setFilters","search","setSearch","loading","setLoading","error","setError","useEffect","response","apiGet","endpoints","LoadingSpinner","Input","e","SearchIcon","CarListFilters","CarListComponent","MaintenanceOrderPage","UnderlineHeading","Link","SubtleButton","MainHeading","MaintenanceOrderForm"],"mappings":"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"}