{"version":3,"file":"SalariesList-o4u1prpf.js","sources":["../../src/features/humanResources/components/salariesList/data-table-toolbar.tsx","../../src/components/icons/BillIcon.tsx","../../src/features/humanResources/components/salariesList/columns.tsx","../../src/features/humanResources/components/salariesList/SalariesList.tsx"],"sourcesContent":["import { Table } from '@tanstack/react-table';\r\nimport { Input } from '@/components/ui/input';\r\nimport SearchIcon from '@/components/icons/Search';\r\nimport UnderlineHeading from '@/components/heading/UnderlineHeading';\r\nimport { PrimaryButton } from '@/components/buttons/PrimaryButton';\r\nimport ArrowBackIcon from '@/components/icons/ArrowBackIcon';\r\nimport { CustomSelect } from '@/components/dropDown/Dropdown';\r\nimport { Link } from 'react-router-dom';\r\nimport { Filters } from '@/types/table.types';\r\nimport CloseIcon from '@/components/icons/CloseIcon';\r\nimport { SalaryList } from '../../types/salary.types';\r\n\r\ninterface DataTableToolbarProps {\r\n    table: Table<SalaryList>;\r\n    globalFilter: string;\r\n    setGlobalFilter: (value: string) => void;\r\n    filters: Filters;\r\n    setFilters: (value: Filters) => void;\r\n}\r\n\r\nexport function DataTableToolbar({ globalFilter, setGlobalFilter, filters, setFilters }: DataTableToolbarProps) {\r\n    return (\r\n        <>\r\n            <div className=\"flex flex-col p-2 sm:flex-row sm:items-center sm:justify-between\">\r\n                <UnderlineHeading text=\"قائمة الرواتب\" />\r\n                <div className=\"flex flex-row items-center gap-4\">\r\n                    <div className=\"flex flex-row items-center w-[287px] border border-white-blue-300 bg-white-blue-50 h-[36px] p-2 rounded-[6px]\">\r\n                        <Input\r\n                            placeholder=\"ابحث باسم الموظف\"\r\n                            value={globalFilter}\r\n                            onChange={(event) => setGlobalFilter(event.target.value)}\r\n                            className=\"text-white-blue-800 p-0 tracking-normal text-xs lg:text-sm lg:leading-[16.8px] border-none outline-none focus-visible:ring-0 placeholder:text-white-blue-800\"\r\n                        />\r\n                        <button className=\"bg-transparent border-none\">\r\n                            <SearchIcon className=\"text-white-blue-800\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"flex fle-row items-center gap-4\">\r\n                        <CustomSelect\r\n                            value={(filters?.status as string) || ''}\r\n                            onValueChange={(value) => {\r\n                                setFilters({ ...filters, status: value });\r\n                            }}\r\n                            placeholder=\"الحالة\"\r\n                            width=\"min-w-[77px]\"\r\n                            options={[\r\n                                { label: 'الحالة', value: '' },\r\n                                { label: 'متاح', value: 'active' },\r\n                                { label: 'غير متاح', value: 'not active' },\r\n                            ]}\r\n                        />\r\n                        {/* <button\r\n                            onClick={() => setFilters({})}\r\n                            className=\"flex flex-row items-center gap-2 h-[22px] p-0 bg-white-blue-50 hover:bg-white-blue-200 border-none shadow-none text-primery-blue-500 font-medium text-xs leading-[22.49px] tracking-normal\"\r\n                        >\r\n                            <CloseIcon className=\"!w-[10px] !h-[10px]\" />\r\n                            إلغاء التصفية\r\n                        </button> */}\r\n                    </div>\r\n                    {/* <div>\r\n                        <Link to=\"/customer-relations/customer-communication/add-message\">\r\n                            <PrimaryButton className=\"text-base px-[14px] xl:py-2 leading-5 font-semibold font-cairo tracking-normal\">\r\n                                <p className=\"text-xs tracking-normal font-normal leading-[22.49px]\">عرض الكل</p>\r\n                            </PrimaryButton>\r\n                        </Link>\r\n                    </div> */}\r\n                    <div className=\"flex items-center justify-center gap-2 px-[14px] py-2 bg-primery-blue-50 border border-primery-blue-50 shadow-[0px_1px_2px_0px_#1018280D] rounded-lg \">\r\n                        <ArrowBackIcon className=\"text-primery-blue-700\" />\r\n                        <p className=\"text-xs text-primery-blue-500 tracking-normal font-normal leading-[22.49px]\">\r\n                            تصدير\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* <DataTableViewOptions table={table} /> */}\r\n        </>\r\n    );\r\n}\r\n","interface IconProps {\r\n    width?: string;\r\n    height?: string;\r\n    className?: string;\r\n}\r\nexport default function BillIcon({ width = '20', height = '20', className = '' }: IconProps) {\r\n    return (\r\n        <span className={className}>\r\n            <svg width={width} height={height} viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                    d=\"M5.60817 16.416C6.2915 15.6827 7.33317 15.741 7.93317 16.541L8.77484 17.666C9.44984 18.5577 10.5415 18.5577 11.2165 17.666L12.0582 16.541C12.6582 15.741 13.6998 15.6827 14.3832 16.416C15.8665 17.9994 17.0748 17.4743 17.0748 15.2577V5.86602C17.0832 2.50768 16.2998 1.66602 13.1498 1.66602H6.84984C3.69984 1.66602 2.9165 2.50768 2.9165 5.86602V15.2493C2.9165 17.4743 4.13317 17.991 5.60817 16.416Z\"\r\n                    stroke=\"#437DB3\"\r\n                    strokeWidth=\"1.5\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                />\r\n                <path\r\n                    d=\"M6.6665 5.83398H13.3332\"\r\n                    stroke=\"#437DB3\"\r\n                    strokeWidth=\"1.5\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                />\r\n                <path\r\n                    d=\"M7.5 9.16602H12.5\"\r\n                    stroke=\"#437DB3\"\r\n                    strokeWidth=\"1.5\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                />\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n","import { ColumnDef, Row } from '@tanstack/react-table';\r\nimport adel from '@/assets/imgs/user.png';\r\nimport BillIcon from '@/components/icons/BillIcon';\r\nimport ViewIcon from '@/components/icons/ViewIcon';\r\nimport { Link } from 'react-router-dom';\r\nimport { SalaryList } from '../../types/salary.types';\r\n\r\n// Create a separate component for the actions cell\r\nconst ActionsCell = ({ row }: { row: Row<SalaryList> }) => {\r\n    return (\r\n        <div className=\"flex flex-row justify-center gap-6\">\r\n            <BillIcon className=\"cursor-pointer\" />\r\n            <Link to={`/human-resources/salaries-details/${row.original.id}`}>\r\n                <ViewIcon className=\"cursor-pointer text-primery-blue-400\" />\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const columns: ColumnDef<SalaryList>[] = [\r\n    {\r\n        accessorKey: 'id',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    اسم الموظف\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => (\r\n            <div className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]\">\r\n                {row.original.name}\r\n            </div>\r\n        ),\r\n    },\r\n    {\r\n        accessorKey: 'name',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    كود الموظف\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => (\r\n            <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                {row.original.id}\r\n            </div>\r\n        ),\r\n    },\r\n    {\r\n        accessorKey: 'status',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    إجمالي الراتب\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => {\r\n            return (\r\n                <div className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]\">\r\n                    {row.original.total_salary}\r\n                </div>\r\n            );\r\n        },\r\n    },\r\n    {\r\n        accessorKey: 'date',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    تاريخ الاستحقاق\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => {\r\n            return (\r\n                <div className=\"text-sm text-[#625E74] font-normal tracking-normal leading-[26.4px]\">\r\n                    {/* {row.original.sms_count + row.original.email_count} */}\r\n                    22/10/2023\r\n                </div>\r\n            );\r\n        },\r\n    },\r\n    {\r\n        accessorKey: 'location',\r\n        header: () => {\r\n            return (\r\n                <div className=\"text-sm px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n                    حالة الدفع\r\n                </div>\r\n            );\r\n        },\r\n        cell: ({ row }) => {\r\n            return (\r\n                <div className=\"text-xs text-[#22AD5C] font-medium tracking-normal leading-[115%]\">\r\n                    <p className=\"border border-[#22AD5C] p-1 w-fit rounded-sm\">\r\n                        {/* {row.original.basic_salary} */}\r\n                        مدفوع\r\n                    </p>\r\n                </div>\r\n            );\r\n        },\r\n    },\r\n    {\r\n        id: 'actions',\r\n        // header: () => {\r\n        //     return (\r\n        //         <div className=\"text-sm text-center px-4 py-3 !text-primery-blue-500 leading-[26.24px] font-semibold tracking-normal\">\r\n        //             للاطلاع على الرسائل\r\n        //         </div>\r\n        //     );\r\n        // },\r\n        cell: ({ row }) => <ActionsCell row={row} />,\r\n    },\r\n];\r\n","import { useCallback, useState } from 'react';\r\nimport { endpoints } from '@/lib/axios/axios-global';\r\nimport { apiGet } from '@/lib/axios/axios-utils';\r\nimport { DataTableToolbar } from './data-table-toolbar';\r\nimport { columns } from './columns';\r\nimport { FetchDataOptions } from '@/types/table.types';\r\nimport { DataTable } from '@/components/tables/customTable/data-table';\r\nimport { SalaryList } from '../../types/salary.types';\r\n\r\nexport default function SalariesList() {\r\n    const [data, setData] = useState<SalaryList[]>([]);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    // Use useCallback to ensure the function reference is stable\r\n    const fetchData = useCallback(async (options: FetchDataOptions) => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await apiGet({\r\n                endpoint: endpoints.employee.salaryList,\r\n                queryParams: { page: options.pageIndex + 1, ...options.filters, search: options.globalFilter },\r\n            });\r\n\r\n            setData(response.data.data.data);\r\n            setPageCount(Math.ceil(response.data.data.pagination.total / 10));\r\n            setTotalCount(response.data.data.pagination.total);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"mt-6 mb-20 rounded-lg border border-[#E8E7EA] shadow-[0px_4px_4px_-1px_#0C0C0D0D,0px_4px_4px_-1px_#0C0C0D1A]\">\r\n            <DataTable\r\n                columns={columns}\r\n                data={data}\r\n                pageCount={pageCount}\r\n                totalCount={totalCount}\r\n                onFetchData={fetchData}\r\n                DataTableToolbar={DataTableToolbar}\r\n                isLoading={isLoading}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["DataTableToolbar","globalFilter","setGlobalFilter","filters","setFilters","jsx","Fragment","jsxs","UnderlineHeading","Input","event","SearchIcon","CustomSelect","value","ArrowBackIcon","BillIcon","width","height","className","ActionsCell","row","Link","ViewIcon","columns","SalariesList","data","setData","useState","pageCount","setPageCount","totalCount","setTotalCount","isLoading","setIsLoading","fetchData","useCallback","options","response","apiGet","endpoints","error","DataTable"],"mappings":"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"}