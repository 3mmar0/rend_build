{"version":3,"file":"SearchableSelectInputForm-v1_SI72T.js","sources":["../../src/components/forms/SearchableSelectInputForm.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport { useFormContext } from 'react-hook-form';\r\nimport { FormField, FormItem, FormLabel, FormControl, FormMessage } from '@/components/ui/form';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Input } from '@/components/ui/input';\r\n\r\ninterface Props {\r\n    className?: string;\r\n    name: string;\r\n    label?: string;\r\n    placeholder?: string;\r\n    options?: {\r\n        name: string;\r\n        value: string;\r\n        description?: string;\r\n    }[];\r\n    error?: string | null;\r\n    data?: any;\r\n}\r\n\r\nexport default function SearchableSelectInputForm({\r\n    className,\r\n    name,\r\n    label,\r\n    options,\r\n    placeholder,\r\n    error,\r\n    data,\r\n}: Props) {\r\n    const { control } = useFormContext();\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    const filteredOptions =\r\n        options?.filter((option) => option.name.toLowerCase().includes(searchQuery.toLowerCase())) || [];\r\n\r\n    // Add this effect to focus the search input when dropdown opens\r\n    useEffect(() => {\r\n        if (searchInputRef.current) {\r\n            searchInputRef.current.focus();\r\n        }\r\n    }, [filteredOptions]);\r\n\r\n    // Focus search input when dropdown opens\r\n    useEffect(() => {\r\n        if (isOpen && searchInputRef.current) {\r\n            searchInputRef.current.focus();\r\n        }\r\n    }, [isOpen]);\r\n    return (\r\n        <FormField\r\n            control={control}\r\n            name={name}\r\n            render={({ field }) => (\r\n                <FormItem className={className}>\r\n                    <FormLabel className=\"text-primery-blue-900 font-medium text-[18px] leading-[33.73px] tracking-normal text-start\">\r\n                        {label}\r\n                    </FormLabel>\r\n                    <Select\r\n                        onValueChange={(value) => {\r\n                            field.onChange(value);\r\n                            setSearchQuery('');\r\n                        }}\r\n                        onOpenChange={(open) => {\r\n                            setIsOpen(open);\r\n                            if (!open) setSearchQuery('');\r\n                        }}\r\n                        defaultValue={field.value}\r\n                        value={data && String(field.value)}\r\n                    >\r\n                        <FormControl>\r\n                            <SelectTrigger>\r\n                                <SelectValue placeholder={<span style={{ color: '#D1D1D1' }}>{placeholder}</span>} />\r\n                            </SelectTrigger>\r\n                        </FormControl>\r\n                        <SelectContent>\r\n                            <div className=\"sticky top-0 z-10 bg-background p-2\">\r\n                                <Input\r\n                                    ref={searchInputRef}\r\n                                    placeholder=\"Search...\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    className=\"focus-visible:ring-0\"\r\n                                    onKeyDown={(e) => {\r\n                                        // Prevent keyboard event propagation\r\n                                        e.stopPropagation();\r\n                                    }}\r\n                                    autoFocus\r\n                                />\r\n                            </div>\r\n                            <div className=\"max-h-[200px] overflow-y-auto\">\r\n                                {filteredOptions.length === 0 ? (\r\n                                    <p className=\"py-2 text-center text-sm text-muted-foreground\">No results found</p>\r\n                                ) : (\r\n                                    filteredOptions.map((element) => (\r\n                                        <SelectItem key={element.value} value={element.value} className=\"font-cairo\">\r\n                                            <p className=\"text-sm font-normal text-white-blue-900\">{element.name}</p>\r\n                                            {element.description && (\r\n                                                <p className=\"text-xs font-medium text-white-blue-800\">{element.description}</p>\r\n                                            )}\r\n                                        </SelectItem>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </SelectContent>\r\n                    </Select>\r\n                    <FormMessage>{error}</FormMessage>\r\n                </FormItem>\r\n            )}\r\n        />\r\n    );\r\n}\r\n"],"names":["SearchableSelectInputForm","className","name","label","options","placeholder","error","data","control","useFormContext","searchQuery","setSearchQuery","useState","isOpen","setIsOpen","searchInputRef","useRef","filteredOptions","option","useEffect","jsx","FormField","field","jsxs","FormItem","FormLabel","Select","value","open","FormControl","SelectTrigger","SelectValue","SelectContent","Input","e","element","SelectItem","FormMessage"],"mappings":"iMAoBA,SAAwBA,EAA0B,CAC9C,UAAAC,EACA,KAAAC,EACA,MAAAC,EACA,QAAAC,EACA,YAAAC,EACA,MAAAC,EACA,KAAAC,CACJ,EAAU,CACA,KAAA,CAAE,QAAAC,CAAQ,EAAIC,EAAe,EAC7B,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAE,EAC3C,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAK,EACpCG,EAAiBC,SAAyB,IAAI,EAE9CC,GACFb,GAAA,YAAAA,EAAS,OAAQc,GAAWA,EAAO,KAAK,YAAY,EAAE,SAASR,EAAY,YAAa,CAAA,KAAM,CAAC,EAGnGS,OAAAA,EAAAA,UAAU,IAAM,CACRJ,EAAe,SACfA,EAAe,QAAQ,MAAM,CACjC,EACD,CAACE,CAAe,CAAC,EAGpBE,EAAAA,UAAU,IAAM,CACRN,GAAUE,EAAe,SACzBA,EAAe,QAAQ,MAAM,CACjC,EACD,CAACF,CAAM,CAAC,EAEPO,EAAA,IAACC,EAAA,CACG,QAAAb,EACA,KAAAN,EACA,OAAQ,CAAC,CAAE,MAAAoB,CACP,IAAAC,EAAA,KAACC,GAAS,UAAAvB,EACN,SAAA,CAACmB,EAAA,IAAAK,EAAA,CAAU,UAAU,6FAChB,SACLtB,EAAA,EACAoB,EAAA,KAACG,EAAA,CACG,cAAgBC,GAAU,CACtBL,EAAM,SAASK,CAAK,EACpBhB,EAAe,EAAE,CACrB,EACA,aAAeiB,GAAS,CACpBd,EAAUc,CAAI,EACTA,GAAMjB,EAAe,EAAE,CAChC,EACA,aAAcW,EAAM,MACpB,MAAOf,GAAQ,OAAOe,EAAM,KAAK,EAEjC,SAAA,CAAAF,EAAAA,IAACS,GACG,SAACT,MAAAU,EAAA,CACG,SAACV,EAAA,IAAAW,EAAA,CAAY,YAAcX,EAAAA,IAAA,OAAA,CAAK,MAAO,CAAE,MAAO,SAAU,EAAI,SAAYf,EAAA,CAAA,CAAS,CACvF,CAAA,EACJ,SACC2B,EACG,CAAA,SAAA,CAACZ,EAAAA,IAAA,MAAA,CAAI,UAAU,sCACX,SAAAA,EAAA,IAACa,EAAA,CACG,IAAKlB,EACL,YAAY,YACZ,MAAOL,EACP,SAAWwB,GAAMvB,EAAeuB,EAAE,OAAO,KAAK,EAC9C,UAAU,uBACV,UAAYA,GAAM,CAEdA,EAAE,gBAAgB,CACtB,EACA,UAAS,EAAA,CAAA,EAEjB,EACAd,EAAAA,IAAC,OAAI,UAAU,gCACV,WAAgB,SAAW,EACvBA,EAAA,IAAA,IAAA,CAAE,UAAU,iDAAiD,4BAAgB,EAE9EH,EAAgB,IAAKkB,GACjBZ,EAAAA,KAACa,GAA+B,MAAOD,EAAQ,MAAO,UAAU,aAC5D,SAAA,CAAAf,EAAA,IAAC,IAAE,CAAA,UAAU,0CAA2C,SAAAe,EAAQ,KAAK,EACpEA,EAAQ,aACLf,EAAA,IAAC,KAAE,UAAU,0CAA2C,WAAQ,WAAY,CAAA,CAAA,GAHnEe,EAAQ,KAKzB,CACH,CAET,CAAA,CAAA,CACJ,CAAA,CAAA,CAAA,CACJ,EACAf,EAAAA,IAACiB,GAAa,SAAM/B,CAAA,CAAA,CAAA,CACxB,CAAA,CAAA,CAER,CAER"}